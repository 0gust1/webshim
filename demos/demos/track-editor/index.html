<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta charset="utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
	
	<style>
		.wrapper {
			margin: auto;
			min-width: 320px;
			max-width: 1600px;
			width: 80%;
		}
		video {
			display: inline-block;
		}
		.mediaplayer {
			width: 100%;
		}
		
		.button-row button {
			font-size: 140%;
		}
		
		.mediaplayer.ratio-16-9 {
			position: relative;
			height: 0;
			width: 100%;
			padding-bottom: 56.25%;
		}
		
		
		.mediaplayer.ratio-16-9 video,
		.mediaplayer.ratio-16-9 .polyfill-video {
			position: absolute !important;
			top: 0;
			left: 0;
			width: 100% !important;
			height: 100% !important;
		}
		
		.bfc {
			overflow: hidden;
			zoom: 1;
		}
		
		.bfc p {
			margin: 0 0 1em;
			padding: 0;
		}
		
		.media-view {
			max-width: 480px;
			width: 45%;
			margin: 0 20px 0 0;
			float: left;
		}
		.editor {
			overflow: hidden;
		}
		.cue-list > li:focus {
			outline: 1px solid #000;
		}
	</style>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="../../js-webshim/minified/extras/modernizr-custom.js"></script>
	<script src="../../js-webshim/minified/polyfiller.js"></script> 
	
	<script>
		webshims.setOptions('forms', {
			customDatalist: true
		});
		webshims.polyfill('forms forms-ext mediaelement track');
	</script>
	
	<title>Responsive Video embedding with webshims and JME</title>
	<script src="editor.js"></script>
	<script>
		
		$(function(){
			
			$('button.load-jme').prop('disabled', false).one('click', function(){
				webshims.loader.loadCSS('http://afarkas.github.io/jMediaelement/demo/default-style/css/player-styles.css');
				webshims.loader.loadList(['range-ui']);
				webshims.loader.loadScript('http://afarkas.github.io/jMediaelement/demo/js/jme.full.js', function(){
					$.jme.startJME();					
					$('div.mediaplayer').jmeProp({"controlbar": true});
					setTimeout(function(){
						$(document).trigger('updateshadowdom');
					}, 9);
				});
				$(this).prop('disabled', true);
			});
		});
	</script>
</head>

<body>
<div class="wrapper">
	<div class="media-view">
		<div class="mediaplayer videoplayer">
			<video controls preload="metadata" style="width: 100%; height: auto;">
				<source src="http://corrupt-system.de/assets/media/sintel/sintel-trailer.m4v" type="video/mp4" />
				<source src="http://corrupt-system.de/assets/media/sintel/sintel-trailer.webm" type="video/webm" />
			</video>
		</div>
	</div>
	<div class="editor">
		<div class="tracklist">
			<!--
			<h2>Tracks</h2>
			
			<form class="add-track">
				<label>
					kind:
				
					<select name="kind">
						<option value="subtitles">subtitles</option>
						<option value="captions">captions</option>
						<option value="descriptions">descriptions (not visible)</option>
						<option value="metadata" disabled="">metadata (anotations)</option>
						<option value="chapters" disabled="">chapters</option>
					</select>
				</label>
				<label>
					Language:
					<input type="text" name="lang" pattern="[a-z](2)" value="en" list="language" data-list-filter="^" />
				</label>
				<datalist id="language">
					<select>
						<option value="ab" label="Abkhazian" />
						<option value="aa" label="Afar" />
						<option value="af" label="Afrikaans" />
						<option value="sq" label="Albanian" />
						<option value="am" label="Amharic" />
						<option value="ar" label="Arabic" />
						<option value="an" label="Aragonese" />
						<option value="hy" label="Armenian" />
						<option value="as" label="Assamese" />
						<option value="ay" label="Aymara" />
						<option value="az" label="Azerbaijani" />
						<option value="ba" label="Bashkir" />
						<option value="eu" label="Basque" />
						<option value="bn" label="Bengali (Bangla)" />
						<option value="dz" label="Bhutani" />
						<option value="bh" label="Bihari" />
						<option value="bi" label="Bislama" />
						<option value="br" label="Breton" />
						<option value="bg" label="Bulgarian" />
						<option value="my" label="Burmese" />
						<option value="be" label="Byelorussian (Belarusian)" />
						<option value="km" label="Cambodian" />
						<option value="ca" label="Catalan" />
						<option value="zh" label="Chinese (Simplified)" />
						<option value="zh" label="Chinese (Traditional)" />
						<option value="co" label="Corsican" />
						<option value="hr" label="Croatian" />
						<option value="cs" label="Czech" />
						<option value="da" label="Danish" />
						<option value="nl" label="Dutch" />
						<option value="en" label="English" />
						<option value="eo" label="Esperanto" />
						<option value="et" label="Estonian" />
						<option value="fo" label="Faeroese" />
						<option value="fa" label="Farsi" />
						<option value="fj" label="Fiji" />
						<option value="fi" label="Finnish" />
						<option value="fr" label="French" />
						<option value="fy" label="Frisian" />
						<option value="gl" label="Galician" />
						<option value="gd" label="Gaelic (Scottish)" />
						<option value="gv" label="Gaelic (Manx)" />
						<option value="ka" label="Georgian" />
						<option value="de" label="German" />
						<option value="el" label="Greek" />
						<option value="kl" label="Greenlandic" />
						<option value="gn" label="Guarani" />
						<option value="gu" label="Gujarati" />
						<option value="ht" label="Haitian Creole" />
						<option value="ha" label="Hausa" />
						<option value="he" label="Hebrew" />
						<option value="hi" label="Hindi" />
						<option value="hu" label="Hungarian" />
						<option value="is" label="Icelandic" />
						<option value="io" label="Ido" />
						<option value="id" label="Indonesian" />
						<option value="ia" label="Interlingua" />
						<option value="ie" label="Interlingue" />
						<option value="iu" label="Inuktitut" />
						<option value="ik" label="Inupiak" />
						<option value="ga" label="Irish" />
						<option value="it" label="Italian" />
						<option value="ja" label="Japanese" />
						<option value="jv" label="Javanese" />
						<option value="kn" label="Kannada" />
						<option value="ks" label="Kashmiri" />
						<option value="kk" label="Kazakh" />
						<option value="rw" label="Kinyarwanda (Ruanda)" />
						<option value="ky" label="Kirghiz" />
						<option value="rn" label="Kirundi (Rundi)" />
						<option value="ko" label="Korean" />
						<option value="ku" label="Kurdish" />
						<option value="lo" label="Laothian" />
						<option value="la" label="Latin" />
						<option value="lv" label="Latvian (Lettish)" />
						<option value="li" label="Limburgish ( Limburger)" />
						<option value="ln" label="Lingala" />
						<option value="lt" label="Lithuanian" />
						<option value="mk" label="Macedonian" />
						<option value="mg" label="Malagasy" />
						<option value="ms" label="Malay" />
						<option value="ml" label="Malayalam" />
						<option value="mt" label="Maltese" />
						<option value="mi" label="Maori" />
						<option value="mr" label="Marathi" />
						<option value="mo" label="Moldavian" />
						<option value="mn" label="Mongolian" />
						<option value="na" label="Nauru" />
						<option value="ne" label="Nepali" />
						<option value="no" label="Norwegian" />
						<option value="oc" label="Occitan" />
						<option value="or" label="Oriya" />
						<option value="om" label="Oromo (Afan, Galla)" />
						<option value="ps" label="Pashto (Pushto)" />
						<option value="pl" label="Polish" />
						<option value="pt" label="Portuguese" />
						<option value="pa" label="Punjabi" />
						<option value="qu" label="Quechua" />
						<option value="rm" label="Rhaeto-Romance" />
						<option value="ro" label="Romanian" />
						<option value="ru" label="Russian" />
						<option value="sm" label="Samoan" />
						<option value="sg" label="Sangro" />
						<option value="sa" label="Sanskrit" />
						<option value="sr" label="Serbian" />
						<option value="sh" label="Serbo-Croatian" />
						<option value="st" label="Sesotho" />
						<option value="tn" label="Setswana" />
						<option value="sn" label="Shona" />
						<option value="ii" label="Sichuan Yi" />
						<option value="sd" label="Sindhi" />
						<option value="si" label="Sinhalese" />
						<option value="ss" label="Siswati" />
						<option value="sk" label="Slovak" />
						<option value="sl" label="Slovenian" />
						<option value="so" label="Somali" />
						<option value="es" label="Spanish" />
						<option value="su" label="Sundanese" />
						<option value="sw" label="Swahili (Kiswahili)" />
						<option value="sv" label="Swedish" />
						<option value="tl" label="Tagalog" />
						<option value="tg" label="Tajik" />
						<option value="ta" label="Tamil" />
						<option value="tt" label="Tatar" />
						<option value="te" label="Telugu" />
						<option value="th" label="Thai" />
						<option value="bo" label="Tibetan" />
						<option value="ti" label="Tigrinya" />
						<option value="to" label="Tonga" />
						<option value="ts" label="Tsonga" />
						<option value="tr" label="Turkish" />
						<option value="tk" label="Turkmen" />
						<option value="tw" label="Twi" />
						<option value="ug" label="Uighur" />
						<option value="uk" label="Ukrainian" />
						<option value="ur" label="Urdu" />
						<option value="uz" label="Uzbek" />
						<option value="vi" label="Vietnamese" />
						<option value="vo" label="VolapÃ¼k" />
						<option value="wa" label="Wallon" />
						<option value="cy" label="Welsh" />
						<option value="wo" label="Wolof" />
						<option value="xh" label="Xhosa" />
						<option value="yi" label="Yiddish" />
						<option value="yo" label="Yoruba" />
						<option value="zu" label="Zulu" />
					</select>
				</datalist>
				<label>
					Label:
					<input type="text" name="label" />
				</label>
				
				<button type="submit" class="add-track">add track</button>
			</form>
			-->
			
			<ul class="tracks">
				<li class="cues">
					cues:
					<form class="add-cue">
						<div>
							<label> id (optional)
								<input type="text" name="id" />
							</label>
						</div>
						<div class="start-cue number-range-combo get-set">
							<label> 
								start
								<input type="number" name="start" required="" min="0" value="0" step="0.01" />
								<input type="range" value="0" step="0.01" />
								<button type="button" class="get">get time</button>
								<button type="button" class="set">set time</button>
							</label>
						</div>
						<div class="end-cue number-range-combo get-set">
							<label> 
								end
								<input type="number" name="end" required="" min="0" step="0.01" />
								<input type="range" step="0.01" />
								<button type="button" class="get">get time</button>
								<button type="button" class="set">set time</button>
							</label>
						</div>
						<div>
							<label> 
								content
								<textarea required="" name="text"></textarea>
							</label>
						</div>
						<div>
							<button type="submit">add cue</button>
						</div>
					</form>
					<ul class="cue-list">
						
					</ul>
				</li>
			</ul>
		</div>
	</div>
	<script type="template" id="cue-item">
		<li tabindex="0">
			<span class="id"></span>
			<span class="start"></span> <span class="end"></span>
			<span class="text"></span>
			<button class="remove">remove</button>
		</li>
	</script>
</div>
</body>
</html>
