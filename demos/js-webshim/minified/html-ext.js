(function(b){var k=document;"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section source summary time track video".replace(/\w+/g,function(a){k.createElement(a)});b.support.dynamicHTML5=!!b("<video><div></div></video>")[0].innerHTML;var m=function(a,f,c){if(a){b.isArray(a)||(a=[a]);b.each(a,function(d,e){if(!(c&&b.webshims.loader.modules[e]&&b.webshims.loader.modules[e].noAutoCallback)){f||(e+="Ready");if(!(b.event.special[e]&&b.event.special[e].add)){b.event.trigger(e);
b.event.special[e]={add:function(g){g.handler.call(this,b.Event(e))}}}}})}};b.webshims={version:"not versioned yet",fixHTML5:function(){var a,f;return b.support.dynamicHTML5?function(c){return c}:function(c){if(!a){f=document.body;a=document.createElement("div");a.style.display="none"}var d=a.cloneNode(false);f.appendChild(d);d.innerHTML=c;f.removeChild(d);return d.childNodes}}(),createReadyEvent:m,loader:{basePath:function(){var a=b("script");a=a[a.length-1].src.split("?")[0];return a.slice(0,a.lastIndexOf("/")+
1)}(),combinations:{},moduleList:[],modules:{},features:{},featureList:[],addModule:function(a,f){this.modules[a]=f},loadList:function(){var a=[];return function(f){var c=[],d=b.webshims.loader;b.each(f,function(e,g){var h=d.modules[g];if("test"in h&&h.test())m(g);else{h.css&&d.loadCSS(h.css);c.push(g)}});b.each(d.combinations||[],function(e,g){var h=true;b.each(g,function(i,j){if(b.inArray(j,c)===-1||b.inArray(j,a)!==-1)return h=false});if(h){a=a.concat(g);d.loadScript(e,false,g);return false}});
b.each(c,function(e,g){if(b.inArray(g,a)==-1)d.loadScript(d.modules[g].src||g,false,g)})}}(),makePath:function(a){if(a.indexOf("://")!=-1||a.indexOf("/")===0)return a;if(a.indexOf(".js")==-1&&a.indexOf(".css")==-1)a+=".js";return b.webshims.loader.basePath+a},loadCSS:function(){var a,f=[];return function(c){c=this.makePath(c);if(b.inArray(c,f)==-1){a=a||k.getElementsByTagName("head")[0]||k.body;f.push(c);b(k.createElement("link")).prependTo(a).attr({href:c,rel:"stylesheet"})}}}(),loadScript:function(){var a,
f=[];return function(c,d,e){c=b.webshims.loader.makePath(c);if(b.inArray(c,f)==-1){a=a||k.getElementsByTagName("head")[0]||k.body;if(!a||!a.appendChild)setTimeout(function(){b.webshims.loader.loadScript(c,d)},10);else{var g=k.createElement("script"),h=function(i){if(!this.readyState||this.readyState=="loaded"||this.readyState=="complete"){g.onload=null;g.onerror=null;g.onreadystatechange=null;d&&d(i,this);m(e,false,true);g=null}};g.src=c;g.onload=h;g.onerror=h;g.onreadystatechange=h;a.appendChild(g);
f.push(c)}}}}()},readyModules:function(a,f,c){if(typeof a=="string"){a=a.split(" ");c=true}if(c)a=b.map(a,function(e){return b.webshims.loader.modules[e]||b.webshims.loader.features[e]?e+"Ready":e});if(a.length){c=a.shift();var d=function(){b.webshims.readyModules(a,f)};c=="ready"?b(d):b(k).one(c,d)}else f()},capturingEvents:function(a){if(k.addEventListener){if(typeof a=="string")a=[a];b.each(a,function(f,c){var d=function(e){e=b.event.fix(e);return b.event.handle.call(this,e)};b.event.special[c]=
b.event.special[c]||{};b.extend(b.event.special[c],{setup:function(){this.addEventListener(c,d,true)},teardown:function(){this.removeEventListener(c,d,true)}})})}},attr:function(){var a=[{}],f=function(c){var d=b.attr;b.attr=function(e,g,h,i,j){if(!c[g]||e.nodeType!==1||c[g].elementNames[0]!=="*"&&b.inArray((e.nodeName||"").toLowerCase(),c[g].elementNames)===-1)return d(e,g,h,i,j);var l=function(){if(h===undefined)return d(e,g,h,i,j);return d(e,g,h,i,j)};if(h===undefined)return c[g].getter(e,l,h,
i,j);c[g].setter(e,h,l,i,j)}};f(a[0]);return function(c,d){d.elementNames=d.elementNames||["*"];if(d.setter){if(!b.isFunction(d.setter))d.setter=function(h,i,j){return j()}}else d.setter=function(){throw c+" is readonly";};if(!d.getter||!b.isFunction(d.getter))d.getter=function(h,i){return i()};if(typeof d.elementNames=="string")d.elementNames=[d.elementNames];var e=false;b.each(a,function(h,i){if(!i[c]){i[c]=d;e=true;return false}});if(!e){var g={};g[c]=d;f(g);a.push(g)}}}(),createBooleanAttrs:function(a,
f){if(typeof name==="string")a=[a];b.each(a,function(c,d){b.webshims.attr(d,{elementNames:f,getter:function(e){return typeof e[d]=="boolean"?e[d]:!!(e.attributes[d]||{}).specified},setter:function(e,g){(g=!!g)?e.setAttribute(d,d):e.removeAttribute(d);e[d]=g}})})},addMethod:function(a,f){var c=b.fn[a].elementNames||["*"];if(typeof c=="string")c=[ext.elementNames];b.fn[a]=function(){var d=arguments,e;this.each(function(){if(c[0]=="*"||b.inArray((this.nodeName||"").toLowerCase(),c)!==-1){e=f.apply(this,
d);return e!==undefined}});return e===undefined?this:e};b.fn[a].elementNames=c;b.fn[a].shim=true},addModule:function(){var a=function(f,c,d,e){var g=e||function(h,i){if(h[c])return h[c].apply(h,i)};b.fn[c]=function(){var h=arguments,i;this.each(function(){i=g(this,h);if(i!==undefined)return false});return i!==undefined?i:this};b.fn[c].shim=false;b.fn[c].elementNames=d};return function(f,c){c=c||{};var d=c.feature||f,e=b.webshims.loader,g=e.combinations;if(!e.features[d]){e.features[d]=[];e.featureList.push(d)}e.features[d].push(f);
e.addModule(f,c);e.moduleList.push(f);b.each(c.combination||[],function(h,i){if(g[i])e.combinations[i].push(f);else g[i]=[f]});if(c.methodNames){if(!b.isArray(c.methodNames))c.methodNames=[c.methodNames];b.each(c.methodNames,function(h,i){a(f,i.name,i.elementNames,i.bugFix)})}}}(),polyfill:function(a){var f=b.webshims.loader,c=[];a=a||f.featureList;if(typeof a=="string")a=a.split(" ");b.each(a,function(d,e){e!==f.features[e][0]&&b.webshims.readyModules(f.features[e],function(){m(e)},true);c=c.concat(f.features[e])});
f.loadList(c)},activeLang:function(){var a=[navigator.browserLanguage||navigator.language||""],f=b("html").attr("lang"),c;f&&a.push(f);return function(d,e,g){if(d)if(!e||!g){if(d!==a[0]){a[0]=d;clearTimeout(c);c=setTimeout(function(){b(k).triggerHandler("htmlExtLangChange",a)},9)}}else{e=b.webshims.loader.modules[e].options;var h=function(j){if(b.inArray(j,i)!==-1){b.webshims.loader.loadScript(e.langSrc+j+".js",function(){d[j]&&g(d[j])});return true}return false},i=e&&e.availabeLangs;b.each(a,function(j,
l){var n=l.split("-")[0];if(d[l]||d[n]){g(d[l]||d[n]);return false}if(i&&e.langSrc!==undefined&&(h(l)||h(n)))return false})}return a}}()};(function(){var a=[];b.extend(b.webshims,{addReady:function(f){var c=function(d){b(function(){f(d)})};a.push(c);c(document)},triggerDomUpdate:function(f){f&&b.each(a,function(c,d){d(f)})}})})();!b.support.dynamicHTML5&&document.attachEvent&&b.webshims.loader.loadScript("http://html5shim.googlecode.com/svn/trunk/html5.js");b.fn.htmlWebshim=function(a){a=this.html(a?
b.webshims.fixHTML5(a):a);a===this&&b.isReady&&this.each(function(){b.webshims.triggerDomUpdate(this)});return a};b.each(["after","before","append","prepend"],function(a,f){b.fn[f+"Webshim"]=function(c){c=b(b.webshims.fixHTML5(c));this[f](c);b.isReady&&c.each(function(){b.webshims.triggerDomUpdate(this)});return this}});m("htmlExtLangChange",true)})(jQuery);
