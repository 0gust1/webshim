(function(b){var k=document;"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section source summary time track video".replace(/\w+/g,function(a){k.createElement(a)});b.support.dynamicHTML5=!!b("<video><div></div></video>")[0].innerHTML;var m=function(a,f,e){if(a){b.isArray(a)||(a=[a]);b.each(a,function(c,g){if(!(e&&b.webshims.modules[g]&&b.webshims.modules[g].noAutoCallback)){f||(g+="Ready");if(!(b.event.special[g]&&b.event.special[g].add)){b.event.special[g]=
{add:function(d){d.handler.call(this,b.Event(g))}};b.event.trigger(g)}}})}};b.webshims={version:"not versioned yet",fixHTML5:function(){var a,f;return b.support.dynamicHTML5?function(e){return e}:function(e){if(!a){f=document.body;a=document.createElement("div");a.style.display="none"}var c=a.cloneNode(false);f.appendChild(c);c.innerHTML=e;f.removeChild(c);return c.childNodes}}(),createReadyEvent:m,moduleList:[],modules:{},features:{},featureList:[],loader:{basePath:function(){var a=b("script");a=
a[a.length-1].src.split("?")[0];return a.slice(0,a.lastIndexOf("/")+1)}(),combinations:{},addModule:function(a,f){b.webshims.modules[a]=f},loadList:function(){var a=[];return function(f){var e=[],c=b.webshims.loader;b.each(f,function(g,d){var h=b.webshims.modules[d];if("test"in h&&h.test())m(d);else{h.css&&c.loadCSS(h.css);e.push(d)}});b.webshims.debug||b.each(c.combinations||[],function(g,d){var h=true;b.each(d,function(i,j){if(b.inArray(j,e)===-1||b.inArray(j,a)!==-1)return h=false});if(h){a=a.concat(d);
c.loadScript(g,false,d);return false}});b.each(e,function(g,d){if(b.inArray(d,a)==-1)c.loadScript(b.webshims.modules[d].src||d,false,d)})}}(),makePath:function(a){if(a.indexOf("://")!=-1||a.indexOf("/")===0)return a;if(a.indexOf(".js")==-1&&a.indexOf(".css")==-1)a+=".js";return b.webshims.loader.basePath+a},loadCSS:function(){var a,f=[];return function(e){e=this.makePath(e);if(b.inArray(e,f)==-1){a=a||k.getElementsByTagName("head")[0]||k.body;f.push(e);b('<link rel="stylesheet" href="'+e+'" />').prependTo(a).attr({href:e,
rel:"stylesheet"})}}}(),loadScript:function(){var a,f=[];return function(e,c,g){e=b.webshims.loader.makePath(e);if(b.inArray(e,f)==-1){a=a||k.getElementsByTagName("head")[0]||k.body;if(!a||!a.appendChild)setTimeout(function(){b.webshims.loader.loadScript(e,c)},10);else{var d=k.createElement("script"),h=function(i){if(!this.readyState||this.readyState=="loaded"||this.readyState=="complete"){d.onload=null;d.onerror=null;d.onreadystatechange=null;c&&c(i,this);m(g,false,true);d=null}};d.setAttribute("async",
"async");d.src=e;d.onload=h;d.onerror=h;d.onreadystatechange=h;a.appendChild(d);d.async=true;f.push(e)}}}}()},ready:function(a,f,e,c){e=e;if(typeof a=="string"){a=a.split(" ");e=true}if(e){a=b.map(a,function(d){return b.webshims.modules[d]||b.webshims.features[d]?d+"Ready":d});wasFormReady=a.length>1&&a[0]=="placeholderReady"}if(a.length){e=a.shift();var g=function(){b.webshims.ready(a,f,false,c)};e=="ready"?b(g):b(k).one(e,g)}else c?f(b,b.webshims.modules):setTimeout(function(){f(b,b.webshims.modules)},
0)},capturingEvents:function(a,f){if(k.addEventListener){if(typeof a=="string")a=[a];b.each(a,function(e,c){var g=function(d){d=b.event.fix(d);if(f){var h=d.preventDefault;d.preventDefault=function(){h.apply(this,arguments);var i=b.data(d.target,"maybePrevented"+d.type);i&&clearTimeout(i);b.data(d.target,"maybePrevented"+d.type,setTimeout(function(){b.removeData(d.target,"maybePrevented"+d.type)},90))}}return b.event.handle.call(this,d)};b.event.special[c]=b.event.special[c]||{};b.extend(b.event.special[c],
{setup:function(){this.addEventListener(c,g,true)},teardown:function(){this.removeEventListener(c,g,true)}})})}},attr:function(){var a=[{}],f=function(e){var c=b.attr;b.attr=function(g,d,h,i,j){if(!e[d]||g.nodeType!==1||e[d].elementNames[0]!=="*"&&b.inArray((g.nodeName||"").toLowerCase(),e[d].elementNames)===-1)return c(g,d,h,i,j);var l=function(){if(h===undefined)return c(g,d,h,i,j);return c(g,d,h,i,j)};if(h===undefined)return e[d].getter(g,l,h,i,j);e[d].setter(g,h,l,i,j)}};f(a[0]);return function(e,
c){c.elementNames=c.elementNames||["*"];if(c.setter){if(!b.isFunction(c.setter))c.setter=function(h,i,j){return j()}}else c.setter=function(){throw e+" is readonly";};if(!c.getter||!b.isFunction(c.getter))c.getter=function(h,i){return i()};if(typeof c.elementNames=="string")c.elementNames=[c.elementNames];var g=false;b.each(a,function(h,i){if(!i[e]){i[e]=c;g=true;return false}});if(!g){var d={};d[e]=c;f(d);a.push(d)}}}(),createBooleanAttrs:function(a,f){if(typeof name==="string")a=[a];b.each(a,function(e,
c){b.webshims.attr(c,{elementNames:f,getter:function(g){return typeof g[c]=="boolean"?g[c]:!!(g.attributes[c]||{}).specified},setter:function(g,d){(d=!!d)?g.setAttribute(c,c):g.removeAttribute(c);g[c]=d}})})},addMethod:function(a,f){var e=b.fn[a].elementNames||["*"];if(typeof e=="string")e=[ext.elementNames];b.fn[a]=function(){var c=arguments,g;this.each(function(){if(e[0]=="*"||b.inArray((this.nodeName||"").toLowerCase(),e)!==-1){g=f.apply(this,c);return g!==undefined}});return g===undefined?this:
g};b.fn[a].elementNames=e;b.fn[a].shim=true},addMethodName:function(a,f){if(!(b.fn[a]&&"shim"in b.fn[a])){b.fn[a]=function(){var e=arguments,c;this.each(function(){if(this[a]){c=this[a].apply(this,e);if(c!==undefined)return false}});return c!==undefined?c:this};b.fn[a].shim=false;b.fn[a].elementNames=f}},addPolyfill:function(a,f){f=f||{};var e=f.feature||a,c=b.webshims,g=c.loader,d=g.combinations;if(!c.features[e]){c.features[e]=[];c.featureList.push(e)}c.features[e].push(a);g.addModule(a,f);c.moduleList.push(a);
b.each(f.combination||[],function(h,i){if(d[i])g.combinations[i].push(a);else d[i]=[a]});if(f.methodNames){if(!b.isArray(f.methodNames))f.methodNames=[f.methodNames];b.each(f.methodNames,function(h,i){b.webshims.addMethodName(i.name,i.elementNames)})}},polyfill:function(a){var f=this,e=f.loader,c=[];a=a||f.featureList;if(typeof a=="string")a=a.split(" ");b.each(a,function(g,d){d!==f.features[d][0]&&f.ready(f.features[d],function(){m(d)},true,true);c=c.concat(f.features[d])});e.loadCSS("shim.css");
e.loadList(c)},activeLang:function(){var a=[navigator.browserLanguage||navigator.language||""],f=b("html").attr("lang"),e;f&&a.push(f);return function(c,g,d){if(c)if(!g||!d){if(c!==a[0]){a[0]=c;clearTimeout(e);e=setTimeout(function(){b(k).triggerHandler("htmlExtLangChange",a)},9)}}else{g=b.webshims.modules[g].options;var h=function(j){if(b.inArray(j,i)!==-1){b.webshims.loader.loadScript(g.langSrc+j+".js",function(){c[j]&&d(c[j])});return true}return false},i=g&&g.availabeLangs;b.each(a,function(j,
l){var n=l.split("-")[0];if(c[l]||c[n]){d(c[l]||c[n]);return false}if(i&&g.langSrc!==undefined&&(h(l)||h(n)))return false})}return a}}()};(function(){var a=[];b.extend(b.webshims,{addReady:function(f){var e=function(c){b(function(){f(c)})};a.push(e);e(document)},triggerDomUpdate:function(f){f&&b.each(a,function(e,c){c(f)})}})})();!b.support.dynamicHTML5&&document.attachEvent&&b.webshims.loader.loadScript("http://html5shim.googlecode.com/svn/trunk/html5.js");b.fn.htmlWebshim=function(a){a=this.html(a?
b.webshims.fixHTML5(a):a);a===this&&b.isReady&&this.each(function(){b.webshims.triggerDomUpdate(this)});return a};b.each(["after","before","append","prepend"],function(a,f){b.fn[f+"Webshim"]=function(e){e=b(b.webshims.fixHTML5(e));this[f](e);b.isReady&&e.each(function(){b.webshims.triggerDomUpdate(this)});return this}});m("htmlExtLangChange",true)})(jQuery);
