jQuery.webshims.register("form-datalist",function(a,b,l,n,s){b.propTypes.element=function(i){b.createPropDefault(i,"attr");if(!i.prop)i.prop={get:function(){var b=i.attr.get.call(this);b&&(b=n.getElementById(b))&&i.propNodeName&&!a.nodeName(b,i.propNodeName)&&(b=null);return b||null},writeable:!1}};(function(){var i=a.webshims.cfg.forms,h=Modernizr.input.list;if(!h||i.customDatalist){var q=0,m={submit:1,button:1,reset:1,hidden:1,range:1,date:1},o=a.browser.msie&&7>parseInt(a.browser.version,10),u=
{},k=function(a){if(!a)return[];if(u[a])return u[a];var b;try{b=JSON.parse(localStorage.getItem("storedDatalistOptions"+a))}catch(e){}u[a]=b||[];return b||[]},r={_create:function(f){if(!m[a.prop(f.input,"type")]){var b=f.datalist,e=a.data(f.input,"datalistWidget");if(b&&e&&e.datalist!==b)e.datalist=b,e.id=f.id,e.shadowList.prop("className","datalist-polyfill "+(e.datalist.className||"")+" "+e.datalist.id+"-shadowdom"),i.positionDatalist?e.shadowList.insertAfter(f.input):e.shadowList.appendTo("body"),
a(e.datalist).unbind("updateDatalist.datalistWidget").bind("updateDatalist.datalistWidget",a.proxy(e,"_resetListCached")),e._resetListCached();else if(b){if(!(e&&e.datalist===b)){q++;var c=this;this.hideList=a.proxy(c,"hideList");this.timedHide=function(){clearTimeout(c.hideTimer);c.hideTimer=setTimeout(c.hideList,9)};this.datalist=b;this.id=f.id;this.hasViewableData=!0;this._autocomplete=a.attr(f.input,"autocomplete");a.data(f.input,"datalistWidget",this);this.shadowList=a('<div class="datalist-polyfill '+
(this.datalist.className||"")+" "+this.datalist.id+'-shadowdom" />');i.positionDatalist||a(f.input).hasClass("position-datalist")?this.shadowList.insertAfter(f.input):this.shadowList.appendTo("body");this.index=-1;this.input=f.input;this.arrayOptions=[];this.shadowList.delegate("li","mouseenter.datalistWidget mousedown.datalistWidget click.datalistWidget",function(d){var j=a("li:not(.hidden-item)",c.shadowList),e="mousedown"==d.type||"click"==d.type;c.markItem(j.index(d.currentTarget),e,j);"click"==
d.type&&(c.hideList(),i.customDatalist&&a(f.input).trigger("datalistselect"));return"mousedown"!=d.type}).bind("focusout",this.timedHide);f.input.setAttribute("autocomplete","off");a(f.input).attr({"aria-haspopup":"true"}).bind("input.datalistWidget",function(){if(!c.triggeredByDatalist)c.changedValue=!1,c.showHideOptions()}).bind("keydown.datalistWidget",function(d){var j=d.keyCode,e;if(40==j&&!c.showList())return c.markItem(c.index+1,!0),!1;if(c.isListVisible){if(38==j)return c.markItem(c.index-
1,!0),!1;if(!d.shiftKey&&(33==j||36==j))return c.markItem(0,!0),!1;if(!d.shiftKey&&(34==j||35==j))return d=a("li:not(.hidden-item)",c.shadowList),c.markItem(d.length-1,!0,d),!1;if(13==j||27==j)return 13==j&&(e=a("li.active-item:not(.hidden-item)",c.shadowList),c.changeValue(a("li.active-item:not(.hidden-item)",c.shadowList))),c.hideList(),i.customDatalist&&e&&e[0]&&a(f.input).trigger("datalistselect"),!1}}).bind("focus.datalistWidget",function(){a(this).hasClass("list-focus")&&c.showList()}).bind("mousedown.datalistWidget",
function(){a(this).is(":focus")&&c.showList()}).bind("blur.datalistWidget",this.timedHide);a(this.datalist).unbind("updateDatalist.datalistWidget").bind("updateDatalist.datalistWidget",a.proxy(this,"_resetListCached"));this._resetListCached();f.input.form&&(f.input.name||f.input.id)&&a(f.input.form).bind("submit.datalistWidget"+f.input.id,function(){if(!a(f.input).hasClass("no-datalist-cache")&&"off"!=c._autocomplete){var d=a.prop(f.input,"value"),j=(f.input.name||f.input.id)+a.prop(f.input,"type");
if(!c.storedOptions)c.storedOptions=k(j);if(d&&-1==c.storedOptions.indexOf(d)&&(c.storedOptions.push(d),d=c.storedOptions,j)){d=d||[];try{localStorage.setItem("storedDatalistOptions"+j,JSON.stringify(d))}catch(e){}}}});a(l).bind("unload.datalist"+this.id+" beforeunload.datalist"+this.id,function(){c.destroy()})}}else e&&e.destroy()}},destroy:function(){var b=a.attr(this.input,"autocomplete");a(this.input).unbind(".datalistWidget").removeData("datalistWidget");this.shadowList.remove();a(n).unbind(".datalist"+
this.id);a(l).unbind(".datalist"+this.id);this.input.form&&this.input.id&&a(this.input.form).unbind("submit.datalistWidget"+this.input.id);this.input.removeAttribute("aria-haspopup");b===s?this.input.removeAttribute("autocomplete"):a(this.input).attr("autocomplete",b)},_resetListCached:function(a){var g=this,e;this.needsUpdate=!0;this.lastUpdatedValue=!1;this.lastUnfoundValue="";this.updateTimer||(l.QUnit||(e=a&&n.activeElement==g.input)?g.updateListOptions(e):b.ready("WINDOWLOAD",function(){g.updateTimer=
setTimeout(function(){g.updateListOptions();g=null;q=1},200+100*q)}))},updateListOptions:function(b){this.needsUpdate=!1;clearTimeout(this.updateTimer);this.updateTimer=!1;this.shadowList.css({fontSize:a.css(this.input,"fontSize"),fontFamily:a.css(this.input,"fontFamily")});this.searchStart=i.customDatalist&&a(this.input).hasClass("search-start");var g=[],e=[],c=[],d,j,v,w;for(j=a.prop(this.datalist,"options"),v=0,w=j.length;v<w;v++){d=j[v];if(d.disabled)return;d={value:a(d).val()||"",text:a.trim(a.attr(d,
"label")||d.textContent||d.innerText||a.text([d])||""),className:d.className||"",style:a.attr(d,"style")||""};d.text?d.text!=d.value&&(d.className+=" different-label-value"):d.text=d.value;e[v]=d.value;c[v]=d}if(!this.storedOptions)this.storedOptions=a(this.input).hasClass("no-datalist-cache")||"off"==this._autocomplete?[]:k((this.input.name||this.input.id)+a.prop(this.input,"type"));this.storedOptions.forEach(function(a){-1==e.indexOf(a)&&c.push({value:a,text:a,className:"stored-suggest",style:""})});
for(v=0,w=c.length;v<w;v++)j=c[v],g[v]='<li class="'+j.className+'" style="'+j.style+'" tabindex="-1" role="listitem"><span class="option-label">'+j.text+'</span> <span class="option-value">'+j.value+"</span></li>";this.arrayOptions=c;this.shadowList.html('<div class="datalist-outer-box"><div class="datalist-box"><ul role="list">'+g.join("\n")+"</ul></div></div>");a.fn.bgIframe&&o&&this.shadowList.bgIframe();(b||this.isListVisible)&&this.showHideOptions()},showHideOptions:function(b){var g=a.prop(this.input,
"value").toLowerCase();if(!(g===this.lastUpdatedValue||this.lastUnfoundValue&&0===g.indexOf(this.lastUnfoundValue))){this.lastUpdatedValue=g;var e=!1,c=this.searchStart,d=a("li",this.shadowList);g?this.arrayOptions.forEach(function(j,b){var f;if(!("lowerText"in j))j.lowerText=j.text!=j.value?j.value.toLowerCase()+j.text.toLowerCase():j.text.toLowerCase();f=j.lowerText.indexOf(g);(f=c?!f:-1!==f)?(a(d[b]).removeClass("hidden-item"),e=!0):a(d[b]).addClass("hidden-item")}):d.length&&(d.removeClass("hidden-item"),
e=!0);this.hasViewableData=e;!b&&e&&this.showList();if(!e)this.lastUnfoundValue=g,this.hideList()}},setPos:function(){this.shadowList.css({marginTop:0,marginLeft:0,marginRight:0,marginBottom:0});var f=i.positionDatalist?a(this.input).position():b.getRelOffset(this.shadowList,this.input);f.top+=a(this.input).outerHeight();f.width=a(this.input).outerWidth()-(parseInt(this.shadowList.css("borderLeftWidth"),10)||0)-(parseInt(this.shadowList.css("borderRightWidth"),10)||0);this.shadowList.css({marginTop:"",
marginLeft:"",marginRight:"",marginBottom:""}).css(f);return f},showList:function(){if(this.isListVisible)return!1;this.needsUpdate&&this.updateListOptions();this.showHideOptions(!0);if(!this.hasViewableData)return!1;this.isListVisible=!0;var b=this;b.setPos();b.shadowList.addClass("datalist-visible").find("li.active-item").removeClass("active-item");a(l).unbind(".datalist"+b.id);a(n).unbind(".datalist"+b.id).bind("mousedown.datalist"+b.id+" focusin.datalist"+b.id,function(g){g.target===b.input||
b.shadowList[0]===g.target||a.contains(b.shadowList[0],g.target)?(clearTimeout(b.hideTimer),setTimeout(function(){clearTimeout(b.hideTimer)},9)):b.timedHide()}).bind("updateshadowdom.datalist"+b.id,function(){b.setPos()});return!0},hideList:function(){if(!this.isListVisible)return!1;var f=this,g=function(){f.changedValue&&a(f.input).trigger("change");f.changedValue=!1};f.shadowList.removeClass("datalist-visible list-item-active");f.index=-1;f.isListVisible=!1;if(f.changedValue){f.triggeredByDatalist=
!0;b.triggerInlineForm&&b.triggerInlineForm(f.input,"input");if(a(f.input).is(":focus"))a(f.input).one("blur",g);else g();f.triggeredByDatalist=!1}a(n).unbind(".datalist"+f.id);a(l).unbind(".datalist"+f.id).one("resize.datalist"+f.id,function(){f.shadowList.css({top:0,left:0})});return!0},scrollIntoView:function(b){var g=a("ul",this.shadowList),e=a("div.datalist-box",this.shadowList),c=b.position();c.top-=(parseInt(g.css("paddingTop"),10)||0)+(parseInt(g.css("marginTop"),10)||0)+(parseInt(g.css("borderTopWidth"),
10)||0);0>c.top?e.scrollTop(e.scrollTop()+c.top-2):(c.top+=b.outerHeight(),b=e.height(),c.top>b&&e.scrollTop(e.scrollTop()+(c.top-b)+2))},changeValue:function(b){if(b[0]){var b=a("span.option-value",b).text(),g=a.prop(this.input,"value");if(b!=g)a(this.input).prop("value",b).triggerHandler("updateInput"),this.changedValue=!0}},markItem:function(b,g,e){e=e||a("li:not(.hidden-item)",this.shadowList);if(e.length)0>b?b=e.length-1:b>=e.length&&(b=0),e.removeClass("active-item"),this.shadowList.addClass("list-item-active"),
e=e.filter(":eq("+b+")").addClass("active-item"),g&&(this.changeValue(e),this.scrollIntoView(e)),this.index=b}};(function(){h||b.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var g=a("select",this);g[0]?g=g[0].options:(g=a("option",this).get(),g.length&&b.warn("you should wrap your option-elements for a datalist in a select element to support IE and other old browsers."));return g}}});var f={autocomplete:{attr:{get:function(){var b=a.data(this,"datalistWidget");return b?
b._autocomplete:"autocomplete"in this?this.autocomplete:this.getAttribute("autocomplete")},set:function(b){var e=a.data(this,"datalistWidget");e?(e._autocomplete=b,"off"==b&&e.hideList()):"autocomplete"in this?this.autocomplete=b:this.setAttribute("autocomplete",b)}}}};h?((a("<datalist><select><option></option></select></datalist>").prop("options")||[]).length||b.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var b=this.options||[];if(!b.length){var e=a("select",this);
if(e[0]&&e[0].options&&e[0].options.length)b=e[0].options}return b}}}),f.list={attr:{get:function(){var f=b.contentAttr(this,"list");null!=f?this.removeAttribute("list"):f=a.data(this,"datalistListAttr");return null==f?s:f},set:function(f){a.data(this,"datalistListAttr",f);b.objectCreate(r,s,{input:this,id:f,datalist:a.prop(this,"list")})}},initAttr:!0,reflect:!0,propType:"element",propNodeName:"datalist"}):f.list={attr:{get:function(){var a=b.contentAttr(this,"list");return null==a?s:a},set:function(f){b.contentAttr(this,
"list",f);b.objectCreate(r,s,{input:this,id:f,datalist:a.prop(this,"list")})}},initAttr:!0,reflect:!0,propType:"element",propNodeName:"datalist"};b.defineNodeNameProperties("input",f);if(a.event.customEvent)a.event.customEvent.updateDatalist=!0,a.event.customEvent.updateInput=!0,a.event.customEvent.datalistselect=!0;b.addReady(function(a,e){e.filter("datalist > select, datalist, datalist > option, datalist > select > option").closest("datalist").triggerHandler("updateDatalist")})})()}})()});
jQuery.webshims.register("form-extend",function(a,b,l,n,s,i){l=l.Modernizr;s=l.inputtypes;if(l.formvalidation&&!b.bugs.bustedValidity){var h=b.inputTypes,q={};b.addInputType=function(a,c){h[a]=c};b.addValidityRule=function(a,c){q[a]=c};b.addValidityRule("typeMismatch",function(a,c,d,e){if(""===c)return!1;e=e.typeMismatch;if(!("type"in d))d.type=(a[0].getAttribute("type")||"").toLowerCase();h[d.type]&&h[d.type].mismatch&&(e=h[d.type].mismatch(c,a));return e});var m=i.overrideMessages,o=!s.number||
!s.time||!s.range||m,u="customError,typeMismatch,rangeUnderflow,rangeOverflow,stepMismatch,tooLong,patternMismatch,valueMissing,valid".split(","),i=m?["value","checked"]:["value"],k=[],r=function(c,d){if(c){var e=(c.getAttribute&&c.getAttribute("type")||c.type||"").toLowerCase();if(m||h[e])m&&!d&&"radio"==e&&c.name?a(n.getElementsByName(c.name)).each(function(){a.prop(this,"validity")}):a.prop(c,"validity")}},f={};["input","textarea","select"].forEach(function(c){var d=b.defineNodeNameProperty(c,
"setCustomValidity",{prop:{value:function(e){var e=e+"",f="input"==c?a(this).getNativeElement()[0]:this;d.prop._supvalue.call(f,e);b.bugs.validationMessage&&b.data(f,"customvalidationMessage",e);o&&(b.data(f,"hasCustomError",!!e),r(f))}}});f[c]=d.prop._supvalue});if(o||m)i.push("min"),i.push("max"),i.push("step"),k.push("input");m&&(i.push("required"),i.push("pattern"),k.push("select"),k.push("textarea"));if(o){var g;k.forEach(function(c){var d=b.defineNodeNameProperty(c,"validity",{prop:{get:function(){if(!g){var e=
"input"==c?a(this).getNativeElement()[0]:this,i=d.prop._supget.call(e);if(!i)return i;var p={};u.forEach(function(a){p[a]=i[a]});if(!a.prop(e,"willValidate"))return p;g=!0;var t=a(e),x={type:(e.getAttribute&&e.getAttribute("type")||"").toLowerCase(),nodeName:(e.nodeName||"").toLowerCase()},y=t.val(),k=!!b.data(e,"hasCustomError"),l;g=!1;p.customError=k;if(p.valid&&p.customError)p.valid=!1;else if(!p.valid){var n=!0;a.each(p,function(a,c){if(c)return n=!1});if(n)p.valid=!0}a.each(q,function(a,d){p[a]=
d(t,y,x,p);if(p[a]&&(p.valid||!l)&&(m||h[x.type]&&h[x.type].mismatch))f[c].call(e,b.createValidationMessage(e,a)),p.valid=!1,l=!0});p.valid?(f[c].call(e,""),b.data(e,"hasCustomError",!1)):m&&!l&&!k&&a.each(p,function(a,d){if("valid"!==a&&d)return f[c].call(e,b.createValidationMessage(e,a)),!1});return p}},writeable:!1}})});i.forEach(function(a){b.onNodeNamesPropertyModify(k,a,function(){r(this)})});if(n.addEventListener){var e,c=function(c){if("form"in c.target){var d=c.target.form;clearTimeout(e);
r(c.target);d&&m&&a("input",d).each(function(){"password"==this.type&&r(this)})}};n.addEventListener("change",c,!0);m&&(n.addEventListener("blur",c,!0),n.addEventListener("keydown",function(a){13==a.keyCode&&c(a)},!0));n.addEventListener("input",function(a){clearTimeout(e);e=setTimeout(function(){r(a.target)},290)},!0)}var d=k.join(",");b.addReady(function(c,e){a(d,c).add(e.filter(d)).each(function(){a.prop(this,"validity")})});m&&b.ready("DOM form-message",function(){b.activeLang({register:"form-core",
callback:function(){a("input, select, textarea").getNativeElement().each(function(){if(!b.data(this,"hasCustomError")){var c=this,d=a.prop(c,"validity")||{valid:!0},e;d.valid||(e=(c.nodeName||"").toLowerCase(),a.each(d,function(a,d){if("valid"!==a&&d)return f[e].call(c,b.createValidationMessage(c,a)),!1}))}})}})})}b.defineNodeNameProperty("input","type",{prop:{get:function(){var a=(this.getAttribute("type")||"").toLowerCase();return b.inputTypes[a]?a:this.type}}})}});
jQuery.webshims.register("form-number-date-api",function(a,b){var l,n,s;if(!b.getStep)b.getStep=function(e,c){var d=a.attr(e,"step");if("any"===d)return d;c=c||o(e);if(!h[c]||!h[c].step)return d;d=l.asNumber(d);return(!isNaN(d)&&0<d?d:h[c].step)*h[c].stepScaleFactor};if(!b.addMinMaxNumberToCache)b.addMinMaxNumberToCache=function(a,c,d){a+"AsNumber"in d||(d[a+"AsNumber"]=h[d.type].asNumber(c.attr(a)),isNaN(d[a+"AsNumber"])&&a+"Default"in h[d.type]&&(d[a+"AsNumber"]=h[d.type][a+"Default"]))};var i=
parseInt("NaN",10),h=b.inputTypes,q=function(a){return"number"==typeof a||a&&a==1*a},m=function(e){return a('<input type="'+e+'" />').prop("type")===e},o=function(a){return(a.getAttribute("type")||"").toLowerCase()},u=b.addMinMaxNumberToCache,k=function(a,c){for(var a=""+a,c=c-a.length,d=0;d<c;d++)a="0"+a;return a},r=b.bugs.valueAsNumberSet||b.bugs.bustedValidity;b.addValidityRule("stepMismatch",function(a,c,d,j){if(""===c)return!1;if(!("type"in d))d.type=o(a[0]);if("date"==d.type)return!1;j=(j||
{}).stepMismatch;if(h[d.type]&&h[d.type].step){if(!("step"in d))d.step=b.getStep(a[0],d.type);if("any"==d.step)return!1;if(!("valueAsNumber"in d))d.valueAsNumber=h[d.type].asNumber(c);if(isNaN(d.valueAsNumber))return!1;u("min",a,d);a=d.minAsNumber;isNaN(a)&&(a=h[d.type].stepBase||0);j=Math.abs((d.valueAsNumber-a)%d.step);j=!(1.0E-7>=j||1.0E-7>=Math.abs(j-d.step))}return j});[{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",factor:-1}].forEach(function(a){b.addValidityRule(a.name,
function(c,d,b,f){f=(f||{})[a.name]||!1;if(""===d)return f;if(!("type"in b))b.type=o(c[0]);if(h[b.type]&&h[b.type].asNumber){if(!("valueAsNumber"in b))b.valueAsNumber=h[b.type].asNumber(d);if(isNaN(b.valueAsNumber))return!1;u(a.attr,c,b);if(isNaN(b[a.attr+"AsNumber"]))return f;f=b[a.attr+"AsNumber"]*a.factor<b.valueAsNumber*a.factor-1.0E-7}return f})});b.reflectProperties(["input"],["max","min","step"]);var f=b.defineNodeNameProperty("input","valueAsNumber",{prop:{get:function(){var b=o(this),b=h[b]&&
h[b].asNumber?h[b].asNumber(a.prop(this,"value")):f.prop._supget&&f.prop._supget.apply(this,arguments);null==b&&(b=i);return b},set:function(e){var c=o(this);h[c]&&h[c].numberToString?isNaN(e)?a.prop(this,"value",""):(c=h[c].numberToString(e),!1!==c?a.prop(this,"value",c):b.warn("INVALID_STATE_ERR: DOM Exception 11")):f.prop._supset&&f.prop._supset.apply(this,arguments)}}}),g=b.defineNodeNameProperty("input","valueAsDate",{prop:{get:function(){var b=o(this);return h[b]&&h[b].asDate&&!h[b].noAsDate?
h[b].asDate(a.prop(this,"value")):g.prop._supget&&g.prop._supget.call(this)||null},set:function(e){var c=o(this);if(h[c]&&h[c].dateToString&&!h[c].noAsDate){if(null===e)return a.prop(this,"value",""),"";c=h[c].dateToString(e);if(!1!==c)return a.prop(this,"value",c),c;b.warn("INVALID_STATE_ERR: DOM Exception 11")}else return g.prop._supset&&g.prop._supset.apply(this,arguments)||null}}});l={mismatch:function(a){return!q(a)},step:1,stepScaleFactor:1,asNumber:function(a){return q(a)?1*a:i},numberToString:function(a){return q(a)?
a:!1}};n={minDefault:0,maxDefault:100};s={mismatch:function(b){if(!b||!b.split||!/\d$/.test(b))return!0;var c=b.split(/\u002D/);if(3!==c.length)return!0;var d=!1;a.each(c,function(a,c){if(!(q(c)||c&&c=="0"+1*c))return d=!0,!1});if(d)return d;if(4!==c[0].length||2!=c[1].length||12<c[1]||2!=c[2].length||33<c[2])d=!0;return b!==this.dateToString(this.asDate(b,!0))},step:1,stepScaleFactor:864E5,asDate:function(a,c){return!c&&this.mismatch(a)?null:new Date(this.asNumber(a,!0))},asNumber:function(a,c){var d=
i;if(c||!this.mismatch(a))a=a.split(/\u002D/),d=Date.UTC(a[0],a[1]-1,a[2]);return d},numberToString:function(a){return q(a)?this.dateToString(new Date(1*a)):!1},dateToString:function(a){return a&&a.getFullYear?a.getUTCFullYear()+"-"+k(a.getUTCMonth()+1,2)+"-"+k(a.getUTCDate(),2):!1}};if(r||!m("range")||!m("time"))n=a.extend({},l,n);(r||!m("number"))&&b.addInputType("number",l);(r||!m("range"))&&b.addInputType("range",n);(r||!m("date"))&&b.addInputType("date",s)});
jQuery.webshims.register("form-number-date-ui",function(a,b,l,n,s,i){var h=b.triggerInlineForm,l=Modernizr.inputtypes,q=function(){var c={"padding-box":"innerWidth","border-box":"outerWidth","content-box":"width"},d=Modernizr.prefixed&&Modernizr.prefixed("boxSizing");a.browser.msie&&8>b.browserVersion&&(d=!1);return function(a,b){var e,f,g;f="width";d&&(f=c[a.css(d)]||f);e=a[f]();f="width"==f;if(e){var t=parseInt(b.css("marginLeft"),10)||0,i=b.outerWidth();(g=parseInt(a.css("marginRight"),10)||0)&&
a.css("marginRight",0);t<=-1*i?(b.css("marginRight",Math.floor(Math.abs(i+t-0.1)+g)),a.css("paddingRight",(parseInt(a.css("paddingRight"),10)||0)+Math.abs(t)),f&&a.css("width",Math.floor(e+t))):(b.css("marginRight",g),a.css("width",Math.floor(e-t-i-0.2)))}}}(),m={},o=a([]),u,k=function(c,d){a("input",c).add(d.filter("input")).each(function(){var c=a.prop(this,"type");if(k[c]&&!b.data(this,"shadowData"))k[c](a(this))})},r=function(c,d){if(i.lazyDate){var b=a.data(c[0],"setDateLazyTimer");b&&clearTimeout(b);
a.data(c[0],"setDateLazyTimer",setTimeout(function(){c.datepicker("setDate",d);a.removeData(c[0],"setDateLazyTimer");c=null},0))}else c.datepicker("setDate",d)},f={tabindex:1,tabIndex:1,title:1,"aria-required":1,"aria-invalid":1};if(!i.copyAttrs)i.copyAttrs={};b.extendUNDEFProp(i.copyAttrs,f);var g=function(a){return i.calculateWidth?{css:{marginRight:a.css("marginRight"),marginLeft:a.css("marginLeft")},outerWidth:a.outerWidth()}:{}};k.common=function(c,d,j){Modernizr.formvalidation&&c.bind("firstinvalid",
function(a){(b.fromSubmit||!u)&&c.unbind("invalid.replacedwidgetbubble").bind("invalid.replacedwidgetbubble",function(d){!a.isInvalidUIPrevented()&&!d.isDefaultPrevented()&&(b.validityAlert.showFor(a.target),a.preventDefault(),d.preventDefault());c.unbind("invalid.replacedwidgetbubble")})});var e,g,h=a("input, span.ui-slider-handle",d),k=c[0].attributes;for(e in i.copyAttrs)if((g=k[e])&&g.specified)f[e]&&h[0]?h.attr(e,g.nodeValue):d[0].setAttribute(e,g.nodeValue);e=(e=c.attr("id"))?a('label[for="'+
e+'"]',c[0].form):o;d.addClass(c[0].className);b.addShadowDom(c,d,{data:j||{},shadowFocusElement:a("input.input-datetime-local-date, span.ui-slider-handle",d)[0],shadowChilds:h});c.after(d);c[0].form&&a(c[0].form).bind("reset",function(a){a.originalEvent&&!a.isDefaultPrevented()&&setTimeout(function(){c.prop("value",c.prop("value"))},0)});e[0]&&(d.getShadowFocusElement().attr("aria-labelledby",b.getID(e)),e.bind("click",function(){c.getShadowFocusElement().focus();return!1}))};Modernizr.formvalidation&&
["input","form"].forEach(function(a){var d=b.defineNodeNameProperty(a,"checkValidity",{prop:{value:function(){u=!0;var a=d.prop._supvalue.apply(this,arguments);u=!1;return a}}})});if(!l.date||i.replaceUI){var e=function(c,d,e,f){var g,h,k=function(){t.dpDiv.unbind("mousedown.webshimsmousedownhandler");h=g=!1},t=d.bind("focusin",function(){k();t.dpDiv.unbind("mousedown.webshimsmousedownhandler").bind("mousedown.webshimsmousedownhandler",function(){g=!0})}).bind("focusout blur",function(a){g&&(h=!0,
a.stopImmediatePropagation())}).datepicker(a.extend({onClose:function(){h&&d.not(":focus")?(k(),d.trigger("focusout"),d.triggerHandler("blur")):k()}},m,i.datepicker,c.data("datepicker"))).bind("change",e).data("datepicker");t.dpDiv.addClass("input-date-datepicker-control");f&&b.triggerDomUpdate(f[0]);"disabled,min,max,value,step,data-placeholder".split(",").forEach(function(a){var d=c.attr(a);d&&c.attr(a,d)});return t};k.date=function(c){if(a.fn.datepicker){var d=a('<input class="input-date" type="text" />'),
j;this.common(c,d,k.date.attrs);j=e(c,d,function(b){k.date.blockAttr=!0;var e;if(i.lazyDate){var j=a.data(d[0],"setDateLazyTimer");j&&(clearTimeout(j),a.removeData(d[0],"setDateLazyTimer"))}try{e=(e=a.datepicker.parseDate(d.datepicker("option","dateFormat"),d.prop("value")))?a.datepicker.formatDate("yy-mm-dd",e):d.prop("value")}catch(f){e=d.prop("value")}c.prop("value",e);k.date.blockAttr=!1;b.stopImmediatePropagation();h(c[0],"input");h(c[0],"change")});a(c).bind("updateshadowdom",function(){if(j.trigger[0]&&
(c.css({display:""}),c[0].offsetWidth||c[0].offsetHeight)){var a=g(c);a.css&&(d.css(a.css),a.outerWidth&&d.outerWidth(a.outerWidth),q(d,j.trigger))}c.css({display:"none"})}).triggerHandler("updateshadowdom");j.trigger[0]&&setTimeout(function(){b.ready("WINDOWLOAD",function(){a(c).triggerHandler("updateshadowdom")})},9)}};k.date.attrs={disabled:function(c,d,b){a.prop(d,"disabled",!!b)},min:function(c,b,e){try{e=a.datepicker.parseDate("yy-mm-dd",e)}catch(f){e=!1}e&&a(b).datepicker("option","minDate",
e)},max:function(c,b,e){try{e=a.datepicker.parseDate("yy-mm-dd",e)}catch(f){e=!1}e&&a(b).datepicker("option","maxDate",e)},"data-placeholder":function(c,b,e){c=(e||"").split("-");3==c.length&&(e=a(b).datepicker("option","dateFormat").replace("yy",c[0]).replace("mm",c[1]).replace("dd",c[2]));a.prop(b,"placeholder",e)},value:function(c,b,e){if(!k.date.blockAttr){try{var f=a.datepicker.parseDate("yy-mm-dd",e)}catch(g){f=!1}f?r(a(b),f):a.prop(b,"value",e)}}}}if(!l.range||i.replaceUI)k.range=function(c){if(a.fn.slider){var b=
a('<span class="input-range"><span class="ui-slider-handle" role="slider" tabindex="0" /></span>');this.common(c,b,k.range.attrs);c.bind("updateshadowdom",function(){c.css({display:""});if(c[0].offsetWidth||c[0].offsetHeight){var a=g(c);a.css&&(b.css(a.css),a.outerWidth&&b.outerWidth(a.outerWidth))}c.css({display:"none"})}).triggerHandler("updateshadowdom");b.slider(a.extend(!0,{},i.slider,c.data("slider"))).bind("slide",function(a,b){if(a.originalEvent)k.range.blockAttr=!0,c.prop("value",b.value),
k.range.blockAttr=!1,h(c[0],"input")}).bind("slidechange",function(a){a.originalEvent&&h(c[0],"change")});["disabled","min","max","step","value"].forEach(function(b){var d=c.prop(b),e;"value"==b&&!d&&(e=c.getShadowElement())&&(d=(a(e).slider("option","max")-a(e).slider("option","min"))/2);null!=d&&c.prop(b,d)})}},k.range.attrs={disabled:function(c,b,e){e=!!e;a(b).slider("option","disabled",e);a("span",b).attr({"aria-disabled":e+"",tabindex:e?"-1":"0"})},min:function(b,d,e){e=e?1*e||0:0;a(d).slider("option",
"min",e);a("span",d).attr({"aria-valuemin":e})},max:function(b,d,e){e=e||0===e?1*e||100:100;a(d).slider("option","max",e);a("span",d).attr({"aria-valuemax":e})},value:function(b,d,e){e=a(b).prop("valueAsNumber");isNaN(e)||(k.range.blockAttr||a(d).slider("option","value",e),a("span",d).attr({"aria-valuenow":e,"aria-valuetext":e}))},step:function(b,d,e){e=e&&a.trim(e)?1*e||1:1;a(d).slider("option","step",e)}};if(!b.bugs.valueAsNumberSet&&(i.replaceUI||!Modernizr.inputtypes.date||!Modernizr.inputtypes.range))l=
function(){b.data(this,"hasShadow")&&a.prop(this,"value",a.prop(this,"value"))},b.onNodeNamesPropertyModify("input","valueAsNumber",l),b.onNodeNamesPropertyModify("input","valueAsDate",l);a.each("disabled,min,max,value,step,data-placeholder".split(","),function(a,d){b.onNodeNamesPropertyModify("input",d,function(a){var c=b.data(this,"shadowData");if(c&&c.data&&c.data[d]&&c.nativeElement===this)c.data[d](this,c.shadowElement,a)})});if(!i.availabeLangs)i.availabeLangs="af ar ar-DZ az bg bs ca cs da de el en-AU en-GB en-NZ eo es et eu fa fi fo fr fr-CH gl he hr hu hy id is it ja ko kz lt lv ml ms nl no pl pt-BR rm ro ru sk sl sq sr sr-SR sv ta th tr uk vi zh-CN zh-HK zh-TW".split(" ");
l=function(){a.datepicker&&(b.activeLang({langObj:a.datepicker.regional,module:"form-number-date-ui",callback:function(b){b=a.extend({},m,b,i.datepicker);b.dateFormat&&i.datepicker.dateFormat!=b.dateFormat&&a("input.hasDatepicker").filter(".input-date, .input-datetime-local-date").datepicker("option","dateFormat",b.dateFormat).getNativeElement().filter("[data-placeholder]").attr("data-placeholder",function(a,b){return b});a.datepicker.setDefaults(b)}}),a(n).unbind("jquery-uiReady.langchange input-widgetsReady.langchange"))};
a(n).bind("jquery-uiReady.langchange input-widgetsReady.langchange",l);l();(function(){var c=function(){var b={};return function(c){return c in b?b[c]:b[c]=a('<input type="'+c+'" />')[0].type===c}}();if(!c("number")){var d=b.cfg["forms-ext"],e=b.inputTypes,f=function(c,d,f){f=f||{};if(!("type"in f))f.type=a.prop(c,"type");if(!("step"in f))f.step=b.getStep(c,f.type);if(!("valueAsNumber"in f))f.valueAsNumber=e[f.type].asNumber(a.prop(c,"value"));var g="any"==f.step?e[f.type].step*e[f.type].stepScaleFactor:
f.step;b.addMinMaxNumberToCache("min",a(c),f);b.addMinMaxNumberToCache("max",a(c),f);if(isNaN(f.valueAsNumber))f.valueAsNumber=e[f.type].stepBase||0;if("any"!==f.step&&(c=Math.round(1E7*((f.valueAsNumber-(f.minAsnumber||0))%f.step))/1E7)&&Math.abs(c)!=f.step)f.valueAsNumber-=c;c=f.valueAsNumber+g*d;return c=!isNaN(f.minAsNumber)&&c<f.minAsNumber?f.valueAsNumber*d<f.minAsNumber?f.minAsNumber:isNaN(f.maxAsNumber)?f.valueAsNumber:f.maxAsNumber:!isNaN(f.maxAsNumber)&&c>f.maxAsNumber?f.valueAsNumber*d>
f.maxAsNumber?f.maxAsNumber:isNaN(f.minAsNumber)?f.valueAsNumber:f.minAsNumber:Math.round(1E7*c)/1E7};b.modules["form-number-date-ui"].getNextStep=f;if(d.stepArrows){var g={set:function(){var a=b.data(this,"step-controls");if(a)a[this.disabled||this.readonly?"addClass":"removeClass"]("disabled-step-control")}};b.onNodeNamesPropertyModify("input","disabled",g);b.onNodeNamesPropertyModify("input","readonly",a.extend({},g))}var i={38:1,40:-1},k=function(b,c){function d(){var c=a.prop(b,"value");c==i&&
c!=k&&"string"==typeof c&&h(b,"change");k=c}var g=!1,i,k;(function(){k=a(b).bind({"change.stepcontrol focus.stepcontrol":function(c){if(!g||"focus"!=c.type)k=a.prop(b,"value")},"blur.stepcontrol":function(){g||setTimeout(function(){!g&&!a(b).is(":focus")&&d();i=!1},9)}}).prop("value")})();return{triggerChange:d,step:function(d){!a.prop(b,"disabled")&&!b.readOnly&&d&&(i=e[c].numberToString(f(b,d,{type:c})),a.prop(b,"value",i),h(b,"input"))},setFocus:function(){g=!0;setTimeout(function(){g=!1},18);
setTimeout(function(){if(!a(b).is(":focus"))try{b.focus()}catch(c){}},1)}}};b.addReady(function(f,g){d.stepArrows&&a("input",f).add(g.filter("input")).each(function(){var f=a.prop(this,"type");if(e[f]&&e[f].asNumber&&d.stepArrows&&!(!0!==d.stepArrows&&!d.stepArrows[f]||c(f)||a(g).hasClass("has-step-controls"))){var g=this,h=k(g,f),l=a('<span class="step-controls" unselectable="on"><span class="step-up" /><span class="step-down" /></span>').insertAfter(g).bind("selectstart dragstart",function(){return!1}).bind("mousedown mousepress",
function(b){a(b.target).hasClass("step-controls")||h.step(a(b.target).hasClass("step-up")?1:-1);h.setFocus();return!1}).bind("mousepressstart mousepressend",function(b){"mousepressend"==b.type&&h.triggerChange();a(b.target)["mousepressstart"==b.type?"addClass":"removeClass"]("mousepress-ui")}),n=function(a,b){if(b)return h.step(b),!1},m=a(g).addClass("has-step-controls").attr({readonly:g.readOnly,disabled:g.disabled,autocomplete:"off",role:"spinbutton"}).bind("keyup",function(a){(a=i[a.keyCode])&&
h.triggerChange(a)}).bind(a.browser.msie?"keydown":"keypress",function(a){if(a=i[a.keyCode])return h.step(a),!1});"number"==f&&m.bind("keypress",function(){return function(a){var b=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">b||-1<"0123456789.".indexOf(b)}}());m.bind("focus",function(){m.add(l).unbind(".mwhellwebshims").bind("mousewheel.mwhellwebshims",n)}).bind("blur",function(){a(g).add(l).unbind(".mwhellwebshims")});b.data(g,"step-controls",l);if(d.calculateWidth){var o;
m.bind("updateshadowdom",function(){if(!o&&(g.offsetWidth||g.offsetHeight))o=!0,q(m,l),l.css("marginTop",(m.outerHeight()-l.outerHeight())/2)}).triggerHandler("updateshadowdom")}}})})}})();b.addReady(function(c,d){a(n).bind("jquery-uiReady.initinputui input-widgetsReady.initinputui",function(){if(a.datepicker||a.fn.slider){if(a.datepicker&&!m.dateFormat)m.dateFormat=a.datepicker._defaults.dateFormat;k(c,d)}a.datepicker&&a.fn.slider?a(n).unbind(".initinputui"):b.modules["input-widgets"].src||b.warn('jQuery UI Widget factory is already included, but not datepicker or slider. configure src of $.webshims.modules["input-widgets"].src')})})});
