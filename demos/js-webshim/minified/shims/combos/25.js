jQuery.webshims.register("dom-extend",function(c,g,k,n,l){var v=g.modules,s=/\s*,\s*/,p={},o={},q={},w={},u={},j=c.fn.val,A=function(b,a,d,f,e){return e?j.call(c(b)):j.call(c(b),d)};c.fn.val=function(b){var a=this[0];arguments.length&&null==b&&(b="");if(!arguments.length)return!a||1!==a.nodeType?j.call(this):c.prop(a,"value",b,"val",!0);if(c.isArray(b))return j.apply(this,arguments);var d=c.isFunction(b);return this.each(function(f){a=this;1===a.nodeType&&(d?(f=b.call(a,f,c.prop(a,"value",l,"val",
!0)),null==f&&(f=""),c.prop(a,"value",f,"val")):c.prop(a,"value",b,"val"))})};var r="_webshimsLib"+Math.round(1E3*Math.random()),x=function(b,a,d){b=b.jquery?b[0]:b;if(!b)return d||{};var f=c.data(b,r);d!==l&&(f||(f=c.data(b,r,{})),a&&(f[a]=d));return a?f&&f[a]:f};[{name:"getNativeElement",prop:"nativeElement"},{name:"getShadowElement",prop:"shadowElement"},{name:"getShadowFocusElement",prop:"shadowFocusElement"}].forEach(function(b){c.fn[b.name]=function(){return this.map(function(){var a=x(this,
"shadowData");return a&&a[b.prop]||this})}});["removeAttr","prop","attr"].forEach(function(b){p[b]=c[b];c[b]=function(a,d,f,e,i){var t="val"==e,y=!t?p[b]:A;if(!a||!o[d]||1!==a.nodeType||!t&&e&&"attr"==b&&c.attrFn[d])return y(a,d,f,e,i);var B=(a.nodeName||"").toLowerCase(),z=q[B],g="attr"==b&&(!1===f||null===f)?"removeAttr":b,h,j,m;z||(z=q["*"]);z&&(z=z[d]);z&&(h=z[g]);if(h){if("value"==d)j=h.isVal,h.isVal=t;if("removeAttr"===g)return h.value.call(a);if(f===l)return h.get?h.get.call(a):h.value;h.set&&
("attr"==b&&!0===f&&(f=d),m=h.set.call(a,f));if("value"==d)h.isVal=j}else m=y(a,d,f,e,i);if((f!==l||"removeAttr"===g)&&u[B]&&u[B][d]){var k;k="removeAttr"==g?!1:"prop"==g?!!f:!0;u[B][d].forEach(function(d){if(!d.only||(d.only="prop"==b)||"attr"==d.only&&"prop"!=b)d.call(a,f,k,t?"val":g,b)})}return m};w[b]=function(a,d,f){q[a]||(q[a]={});q[a][d]||(q[a][d]={});var e=q[a][d][b],i=function(a,e,c){return e&&e[a]?e[a]:c&&c[a]?c[a]:"prop"==b&&"value"==d?function(a){return f.isVal?A(this,d,a,!1,0===arguments.length):
p[b](this,d,a)}:"prop"==b&&"value"==a&&f.value.apply?function(a){var f=p[b](this,d);f&&f.apply&&(f=f.apply(this,arguments));return f}:function(a){return p[b](this,d,a)}};q[a][d][b]=f;if(f.value===l){if(!f.set)f.set=f.writeable?i("set",f,e):g.cfg.useStrict&&"prop"==d?function(){throw d+" is readonly on "+a;}:c.noop;if(!f.get)f.get=i("get",f,e)}["value","get","set"].forEach(function(a){f[a]&&(f["_sup"+a]=i(a,e))})}});var m=!c.browser.msie||8<parseInt(c.browser.version,10),i=function(){var b=g.getPrototypeOf(n.createElement("foobar")),
a=Object.prototype.hasOwnProperty;return function(d,f,c){var i=n.createElement(d),t=g.getPrototypeOf(i);if(m&&t&&b!==t&&(!i[f]||!a.call(i,f))){var y=i[f];c._supvalue=function(){return y&&y.apply?y.apply(this,arguments):y};t[f]=c.value}else c._supvalue=function(){var a=x(this,"propValue");return a&&a[f]&&a[f].apply?a[f].apply(this,arguments):a&&a[f]},e.extendValue(d,f,c.value);c.value._supvalue=c._supvalue}}(),e=function(){var b={};g.addReady(function(a,d){var f={},e=function(b){f[b]||(f[b]=c(a.getElementsByTagName(b)),
d[0]&&c.nodeName(d[0],b)&&(f[b]=f[b].add(d)))};c.each(b,function(a,d){e(a);!d||!d.forEach?g.warn("Error: with "+a+"-property. methods: "+d):d.forEach(function(d){f[a].each(d)})});f=null});var a,d=c([]),f=function(d,f){b[d]?b[d].push(f):b[d]=[f];c.isDOMReady&&(a||c(n.getElementsByTagName(d))).each(f)};return{createTmpCache:function(b){c.isDOMReady&&(a=a||c(n.getElementsByTagName(b)));return a||d},flushTmpCache:function(){a=null},content:function(a,d){f(a,function(){var a=c.attr(this,d);null!=a&&c.attr(this,
d,a)})},createElement:function(a,d){f(a,d)},extendValue:function(a,d,b){f(a,function(){c(this).each(function(){x(this,"propValue",{})[d]=this[d];this[d]=b})})}}}(),h=function(b,a){if(b.defaultValue===l)b.defaultValue="";if(!b.removeAttr)b.removeAttr={value:function(){b[a||"prop"].set.call(this,b.defaultValue);b.removeAttr._supvalue.call(this)}};if(!b.attr)b.attr={}};c.extend(g,{getID:function(){var b=(new Date).getTime();return function(a){var a=c(a),d=a.attr("id");d||(b++,d="ID-"+b,a.attr("id",d));
return d}}(),extendUNDEFProp:function(b,a){c.each(a,function(a,f){a in b||(b[a]=f)})},createPropDefault:h,data:x,moveToFirstEvent:function(){var b=c._data?"_data":"data";return function(a,d,f){if((a=(c[b](a,"events")||{})[d])&&1<a.length)d=a.pop(),f||(f="bind"),"bind"==f&&a.delegateCount?a.splice(a.delegateCount,0,d):a.unshift(d)}}(),addShadowDom:function(){var b,a,d,f={init:!1,runs:0,test:function(){var a=f.getHeight(),d=f.getWidth();a!=f.height||d!=f.width?(f.height=a,f.width=d,f.handler({type:"docresize"}),
f.runs++,30>f.runs&&setTimeout(f.test,30)):f.runs=0},handler:function(e){clearTimeout(b);b=setTimeout(function(){if("resize"==e.type){var b=c(k).width(),t=c(k).width();if(t==a&&b==d)return;a=t;d=b;f.height=f.getHeight();f.width=f.getWidth()}c.event.trigger("updateshadowdom")},"resize"==e.type?50:9)},_create:function(){c.each({Height:"getHeight",Width:"getWidth"},function(a,d){var b=n.body,e=n.documentElement;f[d]=function(){return Math.max(b["scroll"+a],e["scroll"+a],b["offset"+a],e["offset"+a],e["client"+
a])}})},start:function(){if(!this.init&&n.body)this.init=!0,this._create(),this.height=f.getHeight(),this.width=f.getWidth(),setInterval(this.test,400),c(this.test),c(k).bind("load",this.test),c(k).bind("resize",this.handler)}};(function(){var a=c.fn.animate,d,b;c.fn.animate=function(){if(d||(d=n.body))clearTimeout(b),b=setTimeout(function(){f.test();f.handler({type:"animationstart"})},19);return a.apply(this,arguments)}})();c.event.customEvent.updateshadowdom=!0;return function(a,d,b){b=b||{};a.jquery&&
(a=a[0]);d.jquery&&(d=d[0]);var e=c.data(a,r)||c.data(a,r,{}),i=c.data(d,r)||c.data(d,r,{}),h={};if(b.shadowFocusElement){if(b.shadowFocusElement){if(b.shadowFocusElement.jquery)b.shadowFocusElement=b.shadowFocusElement[0];h=c.data(b.shadowFocusElement,r)||c.data(b.shadowFocusElement,r,h)}}else b.shadowFocusElement=d;e.hasShadow=d;h.nativeElement=i.nativeElement=a;h.shadowData=i.shadowData=e.shadowData={nativeElement:a,shadowElement:d,shadowFocusElement:b.shadowFocusElement};b.shadowChilds&&b.shadowChilds.each(function(){x(this,
"shadowData",i.shadowData)});if(b.data)h.shadowData.data=i.shadowData.data=e.shadowData.data=b.data;b=null;g.ready("DOM",function(){f.start()})}}(),propTypes:{standard:function(b){h(b);if(!b.prop)b.prop={set:function(a){b.attr.set.call(this,""+a)},get:function(){return b.attr.get.call(this)||b.defaultValue}}},"boolean":function(b){h(b);if(!b.prop)b.prop={set:function(a){a?b.attr.set.call(this,""):b.removeAttr.value.call(this)},get:function(){return null!=b.attr.get.call(this)}}},src:function(){var b=
n.createElement("a");b.style.display="none";return function(a,d){h(a);if(!a.prop)a.prop={set:function(d){a.attr.set.call(this,d)},get:function(){var a=this.getAttribute(d),e;if(null==a)return"";b.setAttribute("href",a+"");if(!c.support.hrefNormalized){try{c(b).insertAfter(this),e=b.getAttribute("href",4)}catch(i){e=b.getAttribute("href",4)}c(b).detach()}return e||b.href}}}}(),enumarated:function(b){h(b);if(!b.prop)b.prop={set:function(a){b.attr.set.call(this,a)},get:function(){var a=(b.attr.get.call(this)||
"").toLowerCase();if(!a||-1==b.limitedTo.indexOf(a))a=b.defaultValue;return a}}}},reflectProperties:function(b,a){"string"==typeof a&&(a=a.split(s));a.forEach(function(a){g.defineNodeNamesProperty(b,a,{prop:{set:function(b){c.attr(this,a,b)},get:function(){return c.attr(this,a)||""}}})})},defineNodeNameProperty:function(b,a,d){o[a]=!0;if(d.reflect)g.propTypes[d.propType||"standard"](d,a);["prop","attr","removeAttr"].forEach(function(f){var e=d[f];e&&(e="prop"===f?c.extend({writeable:!0},e):c.extend({},
e,{writeable:!0}),w[f](b,a,e),"*"!=b&&g.cfg.extendNative&&"prop"==f&&e.value&&c.isFunction(e.value)&&i(b,a,e),d[f]=e)});d.initAttr&&e.content(b,a);return d},defineNodeNameProperties:function(b,a,d,f){for(var c in a)!f&&a[c].initAttr&&e.createTmpCache(b),d&&!a[c][d]&&(a[c][d]={},["value","set","get"].forEach(function(b){b in a[c]&&(a[c][d][b]=a[c][b],delete a[c][b])})),a[c]=g.defineNodeNameProperty(b,c,a[c]);f||e.flushTmpCache();return a},createElement:function(b,a,d){var f;c.isFunction(a)&&(a={after:a});
e.createTmpCache(b);a.before&&e.createElement(b,a.before);d&&(f=g.defineNodeNameProperties(b,d,!1,!0));a.after&&e.createElement(b,a.after);e.flushTmpCache();return f},onNodeNamesPropertyModify:function(b,a,d,f){"string"==typeof b&&(b=b.split(s));c.isFunction(d)&&(d={set:d});b.forEach(function(b){u[b]||(u[b]={});"string"==typeof a&&(a=a.split(s));d.initAttr&&e.createTmpCache(b);a.forEach(function(a){u[b][a]||(u[b][a]=[],o[a]=!0);if(d.set){if(f)d.set.only=f;u[b][a].push(d.set)}d.initAttr&&e.content(b,
a)});e.flushTmpCache()})},defineNodeNamesBooleanProperty:function(b,a,d){d||(d={});if(c.isFunction(d))d.set=d;g.defineNodeNamesProperty(b,a,{attr:{set:function(b){this.setAttribute(a,b);d.set&&d.set.call(this,!0)},get:function(){return null==this.getAttribute(a)?l:a}},removeAttr:{value:function(){this.removeAttribute(a);d.set&&d.set.call(this,!1)}},reflect:!0,propType:"boolean",initAttr:d.initAttr||!1})},contentAttr:function(b,a,d){if(b.nodeName){if(d===l)return b=b.attributes[a]||{},d=b.specified?
b.value:null,null==d?l:d;"boolean"==typeof d?d?b.setAttribute(a,a):b.removeAttribute(a):b.setAttribute(a,d)}},activeLang:function(){var b=[],a={},d,f,e=/:\/\/|^\.*\//,i=function(a,b,d){return b&&d&&-1!==c.inArray(b,d.availabeLangs||[])?(a.loading=!0,d=d.langSrc,e.test(d)||(d=g.cfg.basePath+d),g.loader.loadScript(d+b+".js",function(){a.langObj[b]?(a.loading=!1,h(a,!0)):c(function(){a.langObj[b]&&h(a,!0);a.loading=!1})}),!0):!1},t=function(b){a[b]&&a[b].forEach(function(a){a.callback()})},h=function(a,
b){if(a.activeLang!=d&&a.activeLang!==f){var e=v[a.module].options;if(a.langObj[d]||f&&a.langObj[f])a.activeLang=d,a.callback(a.langObj[d]||a.langObj[f],d),t(a.module);else if(!b&&!i(a,d,e)&&!i(a,f,e)&&a.langObj[""]&&""!==a.activeLang)a.activeLang="",a.callback(a.langObj[""],d),t(a.module)}};return function(e){if("string"==typeof e&&e!==d)d=e,f=d.split("-")[0],d==f&&(f=!1),c.each(b,function(a,b){h(b)});else if("object"==typeof e)if(e.register)a[e.register]||(a[e.register]=[]),a[e.register].push(e),
e.callback();else{if(!e.activeLang)e.activeLang="";b.push(e);h(e)}return d}}()});c.each({defineNodeNamesProperty:"defineNodeNameProperty",defineNodeNamesProperties:"defineNodeNameProperties",createElements:"createElement"},function(b,a){g[b]=function(b,e,c,i){"string"==typeof b&&(b=b.split(s));var t={};b.forEach(function(b){t[b]=g[a](b,e,c,i)});return t}});g.isReady("webshimLocalization",!0)});
(function(c,g){var k=c.webshims.browserVersion;if(!(c.browser.mozilla&&5<k)&&(!c.browser.msie||12>k&&7<k)){var n={article:"article",aside:"complementary",section:"region",nav:"navigation",address:"contentinfo"},l=function(c,g){c.getAttribute("role")||c.setAttribute("role",g)};c.webshims.addReady(function(k,s){c.each(n,function(g,u){for(var j=c(g,k).add(s.filter(g)),n=0,r=j.length;n<r;n++)l(j[n],u)});if(k===g){var p=g.getElementsByTagName("header")[0],o=g.getElementsByTagName("footer"),q=o.length;
p&&!c(p).closest("section, article")[0]&&l(p,"banner");q&&(p=o[q-1],c(p).closest("section, article")[0]||l(p,"contentinfo"))}})}})(jQuery,document);
(function(c,g,k){var n=g.audio&&g.video,l=!1,v=k.cfg.mediaelement,s=k.bugs,p=function(){k.ready("mediaelement-swf",function(){if(!k.mediaelement.createSWF)k.modules["mediaelement-swf"].test=c.noop,k.reTest(["mediaelement-swf"],n)})},o;if(n){var q=document.createElement("video");g.videoBuffered="buffered"in q;l="loop"in q;k.capturingEvents("play,playing,waiting,paused,ended,durationchange,loadedmetadata,canplay,volumechange".split(","));g.videoBuffered||(k.addPolyfill("mediaelement-native-fix",{f:"mediaelement",
test:g.videoBuffered,d:["dom-support"]}),k.reTest("mediaelement-native-fix"))}if(n&&!v.preferFlash){var w=function(g){var j=g.target.parentNode;!v.preferFlash&&(c(g.target).is("audio, video")||j&&c("source:last",j)[0]==g.target)&&k.ready("DOM mediaelement",function(){o&&p();k.ready("WINDOWLOAD mediaelement-swf",function(){setTimeout(function(){o&&!v.preferFlash&&k.mediaelement.createSWF&&!c(g.target).closest("audio, video").is(".nonnative-api-active")?(v.preferFlash=!0,document.removeEventListener("error",
w,!0),c("audio, video").mediaLoad(),k.info("switching mediaelements option to 'preferFlash', due to an error with native player: "+g.target.src)):o||document.removeEventListener("error",w,!0)},20)})})};document.addEventListener("error",w,!0);c("audio, video").each(function(){this.error&&w({target:this})})}s.track=!1;g.track&&function(){if(!s.track)s.track="number"!=typeof c("<track />")[0].readyState;if(!s.track)try{new TextTrackCue(2,3,"")}catch(g){s.track=!0}var j=k.cfg.track,l=function(g){c(g.target).filter("track").each(n)},
n=function(){if(s.track||!j.override&&3==c.prop(this,"readyState"))j.override=!0,k.reTest("track"),document.removeEventListener("error",l,!0),this&&c.nodeName(this,"track")?k.error("track support was overwritten. Please check your vtt including your vtt mime-type"):k.info("track support was overwritten. due to bad browser support")},o=function(){document.addEventListener("error",l,!0);s.track?n():c("track").each(n)};j.override||(k.isReady("track")?o():c(o))}();k.register("mediaelement-core",function(c,
j,k,r,q){o=swfobject.hasFlashPlayerVersion("9.0.115");var m=j.mediaelement,i=function(a,b){var a=c(a),d={src:a.attr("src")||"",elem:a,srcProp:a.prop("src")};if(!d.src)return d;var e=a.attr("type");if(e)d.type=e,d.container=c.trim(e.split(";")[0]);else if(b||(b=a[0].nodeName.toLowerCase(),"source"==b&&(b=(a.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),e=m.getTypeForSrc(d.src,b))d.type=e,d.container=e;if(e=a.attr("media"))d.media=e;return d},e=!o&&"postMessage"in k&&n,h=
function(){var a;return function(){!a&&e&&(a=!0,j.loader.loadScript("https://www.youtube.com/player_api"),c(function(){j.polyfill("mediaelement-yt")}))}}(),b=function(){o?p():h()};j.addPolyfill("mediaelement-yt",{test:!e,d:["dom-support"]});m.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],'audio/ogg;codecs="opus"':"opus","audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":"mp4,mpg4,m4r,m4a,m4p,m4b,aac".split(","),"audio/wav":["wav"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"],"audio/fla":["flv",
"f4a","fla"],"application/x-mpegURL":["m3u8","m3u"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"],"application/x-mpegURL":["m3u8","m3u"],"video/MP2T":["ts"]}};m.mimeTypes.source=c.extend({},m.mimeTypes.audio,m.mimeTypes.video);m.getTypeForSrc=function(a,b){if(-1!=a.indexOf("youtube.com/watch?")||
-1!=a.indexOf("youtube.com/v/"))return"video/youtube";var a=a.split("?")[0].split("."),a=a[a.length-1],d;c.each(m.mimeTypes[b],function(b,e){if(-1!==e.indexOf(a))return d=b,!1});return d};m.srces=function(a,b){a=c(a);if(b)a.removeAttr("src").removeAttr("type").find("source").remove(),c.isArray(b)||(b=[b]),b.forEach(function(b){var d=r.createElement("source");"string"==typeof b&&(b={src:b});d.setAttribute("src",b.src);b.type&&d.setAttribute("type",b.type);b.media&&d.setAttribute("media",b.media);a.append(d)});
else{var b=[],d=a[0].nodeName.toLowerCase(),e=i(a,d);e.src?b.push(e):c("source",a).each(function(){e=i(this,d);e.src&&b.push(e)});return b}};c.fn.loadMediaSrc=function(a,b){return this.each(function(){b!==q&&(c(this).removeAttr("poster"),b&&c.attr(this,"poster",b));m.srces(this,a);c(this).mediaLoad()})};m.swfMimeTypes="video/3gpp,video/x-msvideo,video/quicktime,video/x-m4v,video/mp4,video/m4p,video/x-flv,video/flv,audio/mpeg,audio/aac,audio/mp4,audio/x-m4a,audio/m4a,audio/mp3,audio/x-fla,audio/fla,youtube/flv,jwplayer/jwplayer,video/youtube".split(",");
m.canThirdPlaySrces=function(a,b){var d="";if(o||e)a=c(a),b=b||m.srces(a),c.each(b,function(a,b){if(b.container&&b.src&&(o&&-1!=m.swfMimeTypes.indexOf(b.container)||e&&"video/youtube"==b.container))return d=b,!1});return d};var a={};m.canNativePlaySrces=function(b,d){var e="";if(n){var b=c(b),f=(b[0].nodeName||"").toLowerCase();if(!a[f])return e;d=d||m.srces(b);c.each(d,function(d,c){if(c.type&&a[f].prop._supvalue.call(b[0],c.type))return e=c,!1})}return e};m.setError=function(a,b){b||(b="can't play sources");
c(a).pause().data("mediaerror",b);j.warn("mediaelementError: "+b);setTimeout(function(){c(a).data("mediaerror")&&c(a).trigger("mediaerror")},1)};var d=function(){var a;return function(c,f,i){j.ready(o?"mediaelement-swf":"mediaelement-yt",function(){m.createSWF?m.createSWF(c,f,i):a||(a=!0,b(),d(c,f,i))});!a&&e&&!m.createSWF&&h()}}(),f=function(a,b,e,c,i){e||!1!==e&&b&&"third"==b.isActive?(e=m.canThirdPlaySrces(a,c))?d(a,e,b):i?m.setError(a,!1):f(a,b,!1,c,!0):(e=m.canNativePlaySrces(a,c))?b&&"third"==
b.isActive&&m.setActive(a,"html5",b):i?(m.setError(a,!1),b&&"third"==b.isActive&&m.setActive(a,"html5",b)):f(a,b,!0,c,!0)},D=/^(?:embed|object|datalist)$/i,C=function(a,b){var d=j.data(a,"mediaelementBase")||j.data(a,"mediaelementBase",{}),e=m.srces(a),i=a.parentNode;clearTimeout(d.loadTimer);c.data(a,"mediaerror",!1);if(e.length&&i&&!(1!=i.nodeType||D.test(i.nodeName||"")))b=b||j.data(a,"mediaelement"),f(a,b,v.preferFlash||q,e)};c(r).bind("ended",function(a){var b=j.data(a.target,"mediaelement");
(!l||b&&"html5"!=b.isActive||c.prop(a.target,"loop"))&&setTimeout(function(){!c.prop(a.target,"paused")&&c.prop(a.target,"loop")&&c(a.target).prop("currentTime",0).play()},1)});l||j.defineNodeNamesBooleanProperty(["audio","video"],"loop");["audio","video"].forEach(function(b){var d=j.defineNodeNameProperty(b,"load",{prop:{value:function(){var a=j.data(this,"mediaelement");C(this,a);n&&(!a||"html5"==a.isActive)&&d.prop._supvalue&&d.prop._supvalue.apply(this,arguments)}}});a[b]=j.defineNodeNameProperty(b,
"canPlayType",{prop:{value:function(d){var e="";n&&a[b].prop._supvalue&&(e=a[b].prop._supvalue.call(this,d),"no"==e&&(e=""));!e&&o&&(d=c.trim((d||"").split(";")[0]),-1!=m.swfMimeTypes.indexOf(d)&&(e="maybe"));return e}}})});j.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var a=this,b=j.data(a,"mediaelementBase")||j.data(a,"mediaelementBase",{});clearTimeout(b.loadTimer);b.loadTimer=setTimeout(function(){C(a);a=null},9)}});k=function(){j.addReady(function(a,b){c("video, audio",
a).add(b.filter("video, audio")).each(function(){c.browser.msie&&8<j.browserVersion&&c.prop(this,"paused")&&!c.prop(this,"readyState")&&c(this).is('audio[preload="none"][controls]:not([autoplay])')?c(this).prop("preload","metadata").mediaLoad():C(this);if(n){var a,b,d=this,e=function(){var a=c.prop(d,"buffered");if(a){for(var b="",e=0,f=a.length;e<f;e++)b+=a.end(e);return b}},f=function(){var a=e();a!=b&&(b=a,c(d).triggerHandler("progress"))};c(this).bind("play loadstart progress",function(d){"progress"==
d.type&&(b=e());clearTimeout(a);a=setTimeout(f,999)}).bind("emptied stalled mediaerror abort suspend",function(d){"emptied"==d.type&&(b=!1);clearTimeout(a)})}})})};g.track&&!s.track&&j.defineProperty(TextTrack.prototype,"shimActiveCues",{get:function(){return this._shimActiveCues||this.activeCues}});n?(j.isReady("mediaelement-core",!0),k(),j.ready("WINDOWLOAD mediaelement",b)):j.ready("mediaelement-swf",k);c(function(){j.loader.loadList(["track-ui"])})})})(jQuery,Modernizr,jQuery.webshims);
jQuery.webshims.register("track",function(c,g,k,n){var l=g.mediaelement;(new Date).getTime();var v={subtitles:1,captions:1,descriptions:1},s=c("<track />"),p=Modernizr.ES5&&Modernizr.objectAccessor,o=function(c){var e={};c.addEventListener=function(c,b){e[c]&&g.error("always use $.bind to the shimed event: "+c+" already bound fn was: "+e[c]+" your fn was: "+b);e[c]=b};c.removeEventListener=function(c,b){e[c]&&e[c]!=b&&g.error("always use $.bind/$.unbind to the shimed event: "+c+" already bound fn was: "+
e[c]+" your fn was: "+b);e[c]&&delete e[c]};return c},q={getCueById:function(c){for(var e=null,g=0,b=this.length;g<b;g++)if(this[g].id===c){e=this[g];break}return e}},w={shimActiveCues:null,_shimActiveCues:null,activeCues:null,cues:null,kind:"subtitles",label:"",language:"",mode:"disabled",readyState:0,oncuechange:null,toString:function(){return"[object TextTrack]"},addCue:function(c){if(this.cues){var e=this.cues[this.cues.length-1];e&&e.startTime>c.startTime&&g.error("cue startTime higher than previous cue's startTime")}else this.cues=
l.createCueList();c.track&&c.track.removeCue&&c.track.removeCue(c);c.track=this;this.cues.push(c)},removeCue:function(c){var e=this.cues||[],h=0,b=e.length;if(c.track!=this)g.error("cue not part of track");else{for(;h<b;h++)if(e[h]===c){e.splice(h,1);c.track=null;break}c.track&&g.error("cue not part of track")}},DISABLED:"disabled",OFF:"disabled",HIDDEN:"hidden",SHOWING:"showing",ERROR:3,LOADED:2,LOADING:1,NONE:0},u=["kind","label","srclang"],j={srclang:"language"},A=Function.prototype.call.bind(Object.prototype.hasOwnProperty),
r=function(i,e){var h=[],b=[],a=[],d,f;i||(i=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{}));if(!e)i.blockTrackListUpdate=!0,e=c.prop(this,"textTracks"),i.blockTrackListUpdate=!1;clearTimeout(i.updateTrackListTimer);c("track",this).each(function(){var d=c.prop(this,"track");a.push(d);-1==e.indexOf(d)&&b.push(d)});if(i.scriptedTextTracks)for(d=0,f=i.scriptedTextTracks.length;d<f;d++)a.push(i.scriptedTextTracks[d]),-1==e.indexOf(i.scriptedTextTracks[d])&&b.push(i.scriptedTextTracks[d]);
for(d=0,f=e.length;d<f;d++)-1==a.indexOf(e[d])&&h.push(e[d]);if(h.length||b.length){e.splice(0);for(d=0,f=a.length;d<f;d++)e.push(a[d]);for(d=0,f=h.length;d<f;d++)c([e]).triggerHandler(c.Event({type:"removetrack",track:e,track:h[d]}));for(d=0,f=b.length;d<f;d++)c([e]).triggerHandler(c.Event({type:"addtrack",track:e,track:b[d]}));(i.scriptedTextTracks||h.length)&&c(this).triggerHandler("updatetrackdisplay")}},x=function(i,e){e||(e=g.data(i,"trackData"));if(e&&!e.isTriggering)e.isTriggering=!0,setTimeout(function(){(e.track||
{}).readyState?c(i).closest("audio, video").triggerHandler("updatetrackdisplay"):c(i).triggerHandler("checktrackmode");e.isTriggering=!1},1)},m=c("<div />")[0];k.TextTrackCue=function(c,e,h){3!=arguments.length&&g.error("wrong arguments.length for TextTrackCue.constructor");this.startTime=c;this.endTime=e;this.text=h;this.id="";this.pauseOnExit=!1;o(this)};k.TextTrackCue.prototype={onenter:null,onexit:null,pauseOnExit:!1,getCueAsHTML:function(){var c="",e="",g=n.createDocumentFragment(),b;if(!A(this,
"getCueAsHTML"))b=this.getCueAsHTML=function(){var a,b;if(c!=this.text){c=this.text;e=l.parseCueTextToHTML(c);m.innerHTML=e;for(a=0,b=m.childNodes.length;a<b;a++)g.appendChild(m.childNodes[a].cloneNode(!0))}return g.cloneNode(!0)};return b?b.apply(this,arguments):g.cloneNode(!0)},track:null,id:""};l.createCueList=function(){return c.extend([],q)};l.parseCueTextToHTML=function(){var c=/(<\/?[^>]+>)/ig,e=/^(?:c|v|ruby|rt|b|i|u)/,g=/\<\s*\//,b=function(a,b,c,e){g.test(e)?a="</"+a+">":(c.splice(0,1),
a="<"+a+" "+b+'="'+c.join(" ").replace(/\"/g,"&#34;")+'">');return a},a=function(a){var c=a.replace(/[<\/>]+/ig,"").split(/[\s\.]+/);c[0]&&(c[0]=c[0].toLowerCase(),e.test(c[0])?"c"==c[0]?a=b("span","class",c,a):"v"==c[0]&&(a=b("q","title",c,a)):a="");return a};return function(b){return b.replace(c,a)}}();l.loadTextTrack=function(i,e,h,b){var a=h.track,d=function(){var b=c.prop(e,"src"),h,j;if("disabled"!=a.mode&&b&&c.attr(e,"src")&&(c(i).unbind("play playing timeupdate updatetrackdisplay",d),c(e).unbind("checktrackmode",
d),!a.readyState)){h=function(){a.readyState=3;a.cues=null;a.activeCues=a.shimActiveCues=a._shimActiveCues=null;c(e).triggerHandler("error")};a.readyState=1;try{a.cues=l.createCueList(),a.activeCues=a.shimActiveCues=a._shimActiveCues=l.createCueList(),j=c.ajax({dataType:"text",url:b,success:function(b){"text/vtt"!=j.getResponseHeader("content-type")&&g.error("set the mime-type of your WebVTT files to text/vtt. see: http://dev.w3.org/html5/webvtt/#text/vtt");l.parseCaptions(b,a,function(b){b&&"length"in
b?(a.readyState=2,c(e).triggerHandler("load"),c(i).triggerHandler("updatetrackdisplay")):h()})},error:h})}catch(k){h(),g.warn(k)}}};a.readyState=0;a.shimActiveCues=null;a._shimActiveCues=null;a.activeCues=null;a.cues=null;c(i).unbind("play playing timeupdate updatetrackdisplay",d);c(e).unbind("checktrackmode",d);c(i).bind("play playing timeupdate updatetrackdisplay",d);c(e).bind("checktrackmode",d);if(b)a.mode=v[a.kind]?"showing":"hidden",d()};l.createTextTrack=function(i,e){var h,b;if(e.nodeName&&
(b=g.data(e,"trackData")))x(e,b),h=b.track;if(!h)h=o(g.objectCreate(w)),p||u.forEach(function(a){var b=c.prop(e,a);b&&(h[j[a]||a]=b)}),e.nodeName?(p&&u.forEach(function(a){g.defineProperty(h,j[a]||a,{get:function(){return c.prop(e,a)}})}),b=g.data(e,"trackData",{track:h}),l.loadTextTrack(i,e,b,c.prop(e,"default")&&c(e).siblings("track[default]").andSelf()[0]==e)):(p&&u.forEach(function(a){g.defineProperty(h,j[a]||a,{value:e[a],writeable:!1})}),h.cues=l.createCueList(),h.activeCues=h._shimActiveCues=
h.shimActiveCues=l.createCueList(),h.mode="hidden",h.readyState=2);return h};l.parseCaptionChunk=function(){var c=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,e=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,h=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,b=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g;return function(a){var d,f,j,k;if(e.exec(a)||h.exec(a)||b.exec(a))return null;for(a=a.split(/\n/g);!a[0].replace(/\s+/ig,"").length&&0<a.length;)a.shift();for(a[0].match(/^\s*[a-z0-9-\_]+\s*$/ig)&&
(j=""+a.shift().replace(/\s*/ig,""));0<a.length;){if(k=c.exec(a[0]))f=k.slice(1),d=parseInt(3600*(f[0]||0),10)+parseInt(60*(f[1]||0),10)+parseInt(f[2]||0,10)+parseFloat("0."+(f[3]||0)),f=parseInt(3600*(f[4]||0),10)+parseInt(60*(f[5]||0),10)+parseInt(f[6]||0,10)+parseFloat("0."+(f[7]||0));a=a.slice(0,0).concat(a.slice(1));break}if(!d&&!f)return g.warn("couldn't extract time information: "+[d,f,a.join("\n"),j].join(" ; ")),null;a=a.join("\n");d=new TextTrackCue(d,f,a);if(j)d.id=j;return d}}();l.parseCaptions=
function(c,e,h){l.createCueList();var b,a,d,f,j;c?(d=/^WEBVTT(\s*FILE)?/ig,a=function(k,m){for(;k<m;k++){b=c[k];if(d.test(b))j=!0;else if(b.replace(/\s*/ig,"").length){if(!j){g.error("please use WebVTT format. This is the standard");h(null);break}(b=l.parseCaptionChunk(b,k))&&e.addCue(b)}if(f<(new Date).getTime()-30){k++;setTimeout(function(){f=(new Date).getTime();a(k,m)},90);break}}k>=m&&(j||g.error("please use WebVTT format. This is the standard"),h(e.cues))},c=c.replace(/\r\n/g,"\n"),setTimeout(function(){c=
c.replace(/\r/g,"\n");setTimeout(function(){f=(new Date).getTime();c=c.split(/\n\n+/g);a(0,c.length)},9)},9)):g.error("Required parameter captionData not supplied.")};l.createTrackList=function(c,e){e=e||g.data(c,"mediaelementBase")||g.data(c,"mediaelementBase",{});if(!e.textTracks)e.textTracks=[],g.defineProperties(e.textTracks,{onaddtrack:{value:null},onremovetrack:{value:null}}),o(e.textTracks);return e.textTracks};Modernizr.track||(g.defineNodeNamesBooleanProperty(["track"],"default"),g.reflectProperties(["track"],
["srclang","label"]),g.defineNodeNameProperties("track",{src:{reflect:!0,propType:"src"}}));g.defineNodeNameProperties("track",{kind:{attr:Modernizr.track?{set:function(c){var e=g.data(this,"trackData");this.setAttribute("data-kind",c);if(e)e.attrKind=c},get:function(){var c=g.data(this,"trackData");return c&&"attrKind"in c?c.attrKind:this.getAttribute("kind")}}:{},reflect:!0,propType:"enumarated",defaultValue:"subtitles",limitedTo:["subtitles","captions","descriptions","chapters","metadata"]}});
c.each(u,function(i,e){var h=j[e]||e;g.onNodeNamesPropertyModify("track",e,function(){var b=g.data(this,"trackData"),a=this;if(b)"kind"==e&&x(this,b),p||(b.track[h]=c.prop(this,e)),clearTimeout(b.changedTrackPropTimer),b.changedTrackPropTimer=setTimeout(function(){c(a).trigger("updatesubtitlestate")},1)})});g.onNodeNamesPropertyModify("track","src",function(i){if(i){var i=g.data(this,"trackData"),e;i&&(e=c(this).closest("video, audio"),e[0]&&l.loadTextTrack(e,this,i))}});g.defineNodeNamesProperties(["track"],
{ERROR:{value:3},LOADED:{value:2},LOADING:{value:1},NONE:{value:0},readyState:{get:function(){return(c.prop(this,"track")||{readyState:0}).readyState},writeable:!1},track:{get:function(){return l.createTextTrack(c(this).closest("audio, video")[0],this)},writeable:!1}},"prop");g.defineNodeNamesProperties(["audio","video"],{textTracks:{get:function(){var c=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{}),e=l.createTrackList(this,c);c.blockTrackListUpdate||r.call(this,c,e);return e},
writeable:!1},addTextTrack:{value:function(c,e,h){c=l.createTextTrack(this,{kind:s.prop("kind",c||"").prop("kind"),label:e||"",srclang:h||""});e=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{});if(!e.scriptedTextTracks)e.scriptedTextTracks=[];e.scriptedTextTracks.push(c);r.call(this);return c}}},"prop");c(n).bind("emptied ended updatetracklist",function(i){if(c(i.target).is("audio, video")){var e=g.data(i.target,"mediaelementBase");if(e)clearTimeout(e.updateTrackListTimer),e.updateTrackListTimer=
setTimeout(function(){r.call(i.target,e)},0)}});g.addReady(function(i,e){var h=e.filter("video, audio, track").closest("audio, video");c("video, audio",i).add(h).each(function(){r.call(this)}).each(function(){if(Modernizr.track){var b=this.textTracks;c.prop(this,"textTracks").length!=b.length&&g.error("textTracks couldn't be copied");c("track",this).each(function(){var a=c.prop(this,"track"),b=this.track,e,g;if(b){e=c.prop(this,"kind");g=b.readyState||this.readyState;if(b.mode||g)a.mode=b.mode;if("descriptions"!=
e)b.mode="string"==typeof b.mode?"disabled":0,this.kind="metadata",c(this).attr({kind:e})}}).bind("load error",function(a){a.originalEvent&&a.stopImmediatePropagation()})}});h.each(function(){var b=this,a=g.data(b,"mediaelementBase");if(a)clearTimeout(a.updateTrackListTimer),a.updateTrackListTimer=setTimeout(function(){r.call(b,a)},9)})});Modernizr.track&&c("video, audio").trigger("trackapichange")});
