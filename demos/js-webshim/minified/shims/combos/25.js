jQuery.webshims.register("dom-extend",function(e,g,k,o,l){var y=g.modules,r=/\s*,\s*/,t={},s={},p={},w={},x={},j=e.fn.val,B=function(a,c,q,b,d){return d?j.call(e(a)):j.call(e(a),q)};e.fn.val=function(a){var c=this[0];arguments.length&&null==a&&(a="");if(!arguments.length)return!c||1!==c.nodeType?j.call(this):e.prop(c,"value",a,"val",!0);if(e.isArray(a))return j.apply(this,arguments);var q=e.isFunction(a);return this.each(function(b){c=this;1===c.nodeType&&(q?(b=a.call(c,b,e.prop(c,"value",l,"val",
!0)),null==b&&(b=""),e.prop(c,"value",b,"val")):e.prop(c,"value",a,"val"))})};var v="_webshimsLib"+Math.round(1E3*Math.random()),d=function(a,c,q){a=a.jquery?a[0]:a;if(!a)return q||{};var b=e.data(a,v);q!==l&&(b||(b=e.data(a,v,{})),c&&(b[c]=q));return c?b&&b[c]:b};[{name:"getNativeElement",prop:"nativeElement"},{name:"getShadowElement",prop:"shadowElement"},{name:"getShadowFocusElement",prop:"shadowFocusElement"}].forEach(function(a){e.fn[a.name]=function(){return this.map(function(){var c=d(this,
"shadowData");return c&&c[a.prop]||this})}});["removeAttr","prop","attr"].forEach(function(a){t[a]=e[a];e[a]=function(c,b,h,d,f){var m="val"==d,u=!m?t[a]:B;if(!c||!s[b]||1!==c.nodeType||!m&&d&&"attr"==a&&e.attrFn[b])return u(c,b,h,d,f);var z=(c.nodeName||"").toLowerCase(),A=p[z],g="attr"==a&&(!1===h||null===h)?"removeAttr":a,i,n,j;A||(A=p["*"]);A&&(A=A[b]);A&&(i=A[g]);if(i){if("value"==b)n=i.isVal,i.isVal=m;if("removeAttr"===g)return i.value.call(c);if(h===l)return i.get?i.get.call(c):i.value;i.set&&
("attr"==a&&!0===h&&(h=b),j=i.set.call(c,h));if("value"==b)i.isVal=n}else j=u(c,b,h,d,f);if((h!==l||"removeAttr"===g)&&x[z]&&x[z][b]){var k;k="removeAttr"==g?!1:"prop"==g?!!h:!0;x[z][b].forEach(function(b){if(!b.only||(b.only="prop"==a)||"attr"==b.only&&"prop"!=a)b.call(c,h,k,m?"val":g,a)})}return j};w[a]=function(c,b,h){p[c]||(p[c]={});p[c][b]||(p[c][b]={});var d=p[c][b][a],f=function(c,e,z){return e&&e[c]?e[c]:z&&z[c]?z[c]:"prop"==a&&"value"==b?function(c){return h.isVal?B(this,b,c,!1,0===arguments.length):
t[a](this,b,c)}:"prop"==a&&"value"==c&&h.value.apply?function(c){var m=t[a](this,b);m&&m.apply&&(m=m.apply(this,arguments));return m}:function(c){return t[a](this,b,c)}};p[c][b][a]=h;if(h.value===l){if(!h.set)h.set=h.writeable?f("set",h,d):g.cfg.useStrict&&"prop"==b?function(){throw b+" is readonly on "+c;}:e.noop;if(!h.get)h.get=f("get",h,d)}["value","get","set"].forEach(function(a){h[a]&&(h["_sup"+a]=f(a,d))})}});var b=!e.browser.msie||8<parseInt(e.browser.version,10),n=function(){var a=g.getPrototypeOf(o.createElement("foobar")),
c=Object.prototype.hasOwnProperty;return function(e,h,f){var n=o.createElement(e),m=g.getPrototypeOf(n);if(b&&m&&a!==m&&(!n[h]||!c.call(n,h))){var u=n[h];f._supvalue=function(){return u&&u.apply?u.apply(this,arguments):u};m[h]=f.value}else f._supvalue=function(){var a=d(this,"propValue");return a&&a[h]&&a[h].apply?a[h].apply(this,arguments):a&&a[h]},i.extendValue(e,h,f.value);f.value._supvalue=f._supvalue}}(),i=function(){var a={};g.addReady(function(c,b){var m={},q=function(a){m[a]||(m[a]=e(c.getElementsByTagName(a)),
b[0]&&e.nodeName(b[0],a)&&(m[a]=m[a].add(b)))};e.each(a,function(a,c){q(a);!c||!c.forEach?g.warn("Error: with "+a+"-property. methods: "+c):c.forEach(function(c){m[a].each(c)})});m=null});var c,b=e([]),h=function(b,q){a[b]?a[b].push(q):a[b]=[q];e.isDOMReady&&(c||e(o.getElementsByTagName(b))).each(q)};return{createTmpCache:function(a){e.isDOMReady&&(c=c||e(o.getElementsByTagName(a)));return c||b},flushTmpCache:function(){c=null},content:function(a,c){h(a,function(){var a=e.attr(this,c);null!=a&&e.attr(this,
c,a)})},createElement:function(a,c){h(a,c)},extendValue:function(a,c,b){h(a,function(){e(this).each(function(){d(this,"propValue",{})[c]=this[c];this[c]=b})})}}}(),f=function(a,c){if(a.defaultValue===l)a.defaultValue="";if(!a.removeAttr)a.removeAttr={value:function(){a[c||"prop"].set.call(this,a.defaultValue);a.removeAttr._supvalue.call(this)}};if(!a.attr)a.attr={}};e.extend(g,{getID:function(){var a=(new Date).getTime();return function(c){var c=e(c),b=c.attr("id");b||(a++,b="ID-"+a,c.attr("id",b));
return b}}(),extendUNDEFProp:function(a,c){e.each(c,function(c,b){c in a||(a[c]=b)})},createPropDefault:f,data:d,moveToFirstEvent:function(){var a=e._data?"_data":"data";return function(c,b,d){if((c=(e[a](c,"events")||{})[b])&&1<c.length)b=c.pop(),d||(d="bind"),"bind"==d&&c.delegateCount?c.splice(c.delegateCount,0,b):c.unshift(b)}}(),addShadowDom:function(){var a,c,b,h,f={init:!1,start:function(){if(!this.init)this.init=!0,this.height=e(o).height(),this.width=e(o).width(),setInterval(function(){var a=
e(o).height(),c=e(o).width();if(a!=f.height||c!=f.width)f.height=a,f.width=c,h({type:"docresize"})},400)}};h=function(d){clearTimeout(a);a=setTimeout(function(){if("resize"==d.type){var a=e(k).width(),u=e(k).width();if(u==c&&a==b)return;c=u;b=a;f.height=e(o).height();f.width=e(o).width()}e.event.trigger("updateshadowdom")},40)};e(k).bind("resize",h);e.event.customEvent.updateshadowdom=!0;return function(a,c,b){b=b||{};a.jquery&&(a=a[0]);c.jquery&&(c=c[0]);var q=e.data(a,v)||e.data(a,v,{}),h=e.data(c,
v)||e.data(c,v,{}),g={};if(b.shadowFocusElement){if(b.shadowFocusElement){if(b.shadowFocusElement.jquery)b.shadowFocusElement=b.shadowFocusElement[0];g=e.data(b.shadowFocusElement,v)||e.data(b.shadowFocusElement,v,g)}}else b.shadowFocusElement=c;q.hasShadow=c;g.nativeElement=h.nativeElement=a;g.shadowData=h.shadowData=q.shadowData={nativeElement:a,shadowElement:c,shadowFocusElement:b.shadowFocusElement};b.shadowChilds&&b.shadowChilds.each(function(){d(this,"shadowData",h.shadowData)});if(b.data)g.shadowData.data=
h.shadowData.data=q.shadowData.data=b.data;b=null;f.start()}}(),propTypes:{standard:function(a){f(a);if(!a.prop)a.prop={set:function(c){a.attr.set.call(this,""+c)},get:function(){return a.attr.get.call(this)||a.defaultValue}}},"boolean":function(a){f(a);if(!a.prop)a.prop={set:function(c){c?a.attr.set.call(this,""):a.removeAttr.value.call(this)},get:function(){return null!=a.attr.get.call(this)}}},src:function(){var a=o.createElement("a");a.style.display="none";return function(c,b){f(c);if(!c.prop)c.prop=
{set:function(a){c.attr.set.call(this,a)},get:function(){var c=this.getAttribute(b),d;if(null==c)return"";a.setAttribute("href",c+"");if(!e.support.hrefNormalized){try{e(a).insertAfter(this),d=a.getAttribute("href",4)}catch(f){d=a.getAttribute("href",4)}e(a).detach()}return d||a.href}}}}(),enumarated:function(a){f(a);if(!a.prop)a.prop={set:function(c){a.attr.set.call(this,c)},get:function(){var c=(a.attr.get.call(this)||"").toLowerCase();if(!c||-1==a.limitedTo.indexOf(c))c=a.defaultValue;return c}}}},
reflectProperties:function(a,c){"string"==typeof c&&(c=c.split(r));c.forEach(function(c){g.defineNodeNamesProperty(a,c,{prop:{set:function(a){e.attr(this,c,a)},get:function(){return e.attr(this,c)||""}}})})},defineNodeNameProperty:function(a,c,b){s[c]=!0;if(b.reflect)g.propTypes[b.propType||"standard"](b,c);["prop","attr","removeAttr"].forEach(function(d){var f=b[d];f&&(f="prop"===d?e.extend({writeable:!0},f):e.extend({},f,{writeable:!0}),w[d](a,c,f),"*"!=a&&g.cfg.extendNative&&"prop"==d&&f.value&&
e.isFunction(f.value)&&n(a,c,f),b[d]=f)});b.initAttr&&i.content(a,c);return b},defineNodeNameProperties:function(a,c,b,e){for(var d in c)!e&&c[d].initAttr&&i.createTmpCache(a),b&&(c[d][b]?g.log("override: "+a+"["+d+"] for "+b):(c[d][b]={},["value","set","get"].forEach(function(a){a in c[d]&&(c[d][b][a]=c[d][a],delete c[d][a])}))),c[d]=g.defineNodeNameProperty(a,d,c[d]);e||i.flushTmpCache();return c},createElement:function(a,c,b){var d;e.isFunction(c)&&(c={after:c});i.createTmpCache(a);c.before&&i.createElement(a,
c.before);b&&(d=g.defineNodeNameProperties(a,b,!1,!0));c.after&&i.createElement(a,c.after);i.flushTmpCache();return d},onNodeNamesPropertyModify:function(a,b,d,f){"string"==typeof a&&(a=a.split(r));e.isFunction(d)&&(d={set:d});a.forEach(function(a){x[a]||(x[a]={});"string"==typeof b&&(b=b.split(r));d.initAttr&&i.createTmpCache(a);b.forEach(function(b){x[a][b]||(x[a][b]=[],s[b]=!0);if(d.set){if(f)d.set.only=f;x[a][b].push(d.set)}d.initAttr&&i.content(a,b)});i.flushTmpCache()})},defineNodeNamesBooleanProperty:function(a,
b,d){d||(d={});if(e.isFunction(d))d.set=d;g.defineNodeNamesProperty(a,b,{attr:{set:function(a){this.setAttribute(b,a);d.set&&d.set.call(this,!0)},get:function(){return null==this.getAttribute(b)?l:b}},removeAttr:{value:function(){this.removeAttribute(b);d.set&&d.set.call(this,!1)}},reflect:!0,propType:"boolean",initAttr:d.initAttr||!1})},contentAttr:function(a,b,d){if(a.nodeName){if(d===l)return a=a.attributes[b]||{},d=a.specified?a.value:null,null==d?l:d;"boolean"==typeof d?d?a.setAttribute(b,b):
a.removeAttribute(b):a.setAttribute(b,d)}},activeLang:function(){var a=[],b={},d,f,i=/:\/\/|^\.*\//,n=function(a,b,c){return b&&c&&-1!==e.inArray(b,c.availabeLangs||[])?(a.loading=!0,c=c.langSrc,i.test(c)||(c=g.cfg.basePath+c),g.loader.loadScript(c+b+".js",function(){a.langObj[b]?(a.loading=!1,u(a,!0)):e(function(){a.langObj[b]&&u(a,!0);a.loading=!1})}),!0):!1},m=function(a){b[a]&&b[a].forEach(function(a){a.callback()})},u=function(a,b){if(a.activeLang!=d&&a.activeLang!==f){var c=y[a.module].options;
if(a.langObj[d]||f&&a.langObj[f])a.activeLang=d,a.callback(a.langObj[d]||a.langObj[f],d),m(a.module);else if(!b&&!n(a,d,c)&&!n(a,f,c)&&a.langObj[""]&&""!==a.activeLang)a.activeLang="",a.callback(a.langObj[""],d),m(a.module)}};return function(m){if("string"==typeof m&&m!==d)d=m,f=d.split("-")[0],d==f&&(f=!1),e.each(a,function(a,b){u(b)});else if("object"==typeof m)if(m.register)b[m.register]||(b[m.register]=[]),b[m.register].push(m),m.callback();else{if(!m.activeLang)m.activeLang="";a.push(m);u(m)}return d}}()});
e.each({defineNodeNamesProperty:"defineNodeNameProperty",defineNodeNamesProperties:"defineNodeNameProperties",createElements:"createElement"},function(a,b){g[a]=function(a,d,e,f){"string"==typeof a&&(a=a.split(r));var m={};a.forEach(function(a){m[a]=g[b](a,d,e,f)});return m}});g.isReady("webshimLocalization",!0)});
(function(e,g){var k=e.webshims.browserVersion;if(!(e.browser.mozilla&&5<k)&&(!e.browser.msie||12>k&&7<k)){var o={article:"article",aside:"complementary",section:"region",nav:"navigation",address:"contentinfo"},l=function(e,g){e.getAttribute("role")||e.setAttribute("role",g)};e.webshims.addReady(function(k,r){e.each(o,function(g,x){for(var j=e(g,k).add(r.filter(g)),o=0,v=j.length;o<v;o++)l(j[o],x)});if(k===g){var t=g.getElementsByTagName("header")[0],s=g.getElementsByTagName("footer"),p=s.length;
t&&!e(t).closest("section, article")[0]&&l(t,"banner");p&&(t=s[p-1],e(t).closest("section, article")[0]||l(t,"contentinfo"))}})}})(jQuery,document);
(function(e,g,k){var o=g.audio&&g.video,l=!1,y=k.cfg.mediaelement,r=k.bugs,t=function(){k.ready("mediaelement-swf",function(){if(!k.mediaelement.createSWF)k.modules["mediaelement-swf"].test=e.noop,k.reTest(["mediaelement-swf"],o)})},s;if(o){var p=document.createElement("video");g.videoBuffered="buffered"in p;l="loop"in p;k.capturingEvents("play,playing,waiting,paused,ended,durationchange,loadedmetadata,canplay,volumechange".split(","));g.videoBuffered||(k.addPolyfill("mediaelement-native-fix",{f:"mediaelement",
test:g.videoBuffered,d:["dom-support"]}),k.reTest("mediaelement-native-fix"))}if(o&&!y.preferFlash){var w=function(g){var j=g.target.parentNode;!y.preferFlash&&(e(g.target).is("audio, video")||j&&e("source:last",j)[0]==g.target)&&k.ready("DOM mediaelement",function(){s&&t();k.ready("WINDOWLOAD mediaelement-swf",function(){setTimeout(function(){s&&!y.preferFlash&&k.mediaelement.createSWF&&!e(g.target).closest("audio, video").is(".nonnative-api-active")?(y.preferFlash=!0,document.removeEventListener("error",
w,!0),e("audio, video").mediaLoad(),k.info("switching mediaelements option to 'preferFlash', due to an error with native player: "+g.target.src)):s||document.removeEventListener("error",w,!0)},20)})})};document.addEventListener("error",w,!0);e("audio, video").each(function(){this.error&&w({target:this})})}r.track=!1;g.track&&function(){if(!r.track)r.track="number"!=typeof e("<track />")[0].readyState;if(!r.track)try{new TextTrackCue(2,3,"")}catch(g){r.track=!0}var j=k.cfg.track,l=function(b){e(b.target).filter("track").each(o)},
o=function(){if(r.track||!j.override&&3==e.prop(this,"readyState"))j.override=!0,k.reTest("track"),document.removeEventListener("error",l,!0),this&&e.nodeName(this,"track")?k.error("track support was overwritten. Please check your vtt including your vtt mime-type"):k.info("track support was overwritten. due to bad browser support")},d=function(){document.addEventListener("error",l,!0);r.track?o():e("track").each(o)};j.override||(k.isReady("track")?d():e(d))}();k.register("mediaelement-core",function(e,
j,k,p,d){s=swfobject.hasFlashPlayerVersion("9.0.115");var b=j.mediaelement,n=function(a,c){var a=e(a),d={src:a.attr("src")||"",elem:a,srcProp:a.prop("src")};if(!d.src)return d;var f=a.attr("type");if(f)d.type=f,d.container=e.trim(f.split(";")[0]);else if(c||(c=a[0].nodeName.toLowerCase(),"source"==c&&(c=(a.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),f=b.getTypeForSrc(d.src,c))d.type=f,d.container=f;if(f=a.attr("media"))d.media=f;return d},i=!s&&"postMessage"in k&&o,f=
function(){var a;return function(){!a&&i&&(a=!0,j.loader.loadScript("https://www.youtube.com/player_api"),e(function(){j.polyfill("mediaelement-yt")}))}}(),a=function(){s?t():f()};j.addPolyfill("mediaelement-yt",{test:!i,d:["dom-support"]});b.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],'audio/ogg;codecs="opus"':"opus","audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":"mp4,mpg4,m4r,m4a,m4p,m4b,aac".split(","),"audio/wav":["wav"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"],"audio/fla":["flv",
"f4a","fla"],"application/x-mpegURL":["m3u8","m3u"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"],"application/x-mpegURL":["m3u8","m3u"],"video/MP2T":["ts"]}};b.mimeTypes.source=e.extend({},b.mimeTypes.audio,b.mimeTypes.video);b.getTypeForSrc=function(a,c){if(-1!=a.indexOf("youtube.com/watch?")||
-1!=a.indexOf("youtube.com/v/"))return"video/youtube";var a=a.split("?")[0].split("."),a=a[a.length-1],d;e.each(b.mimeTypes[c],function(b,c){if(-1!==c.indexOf(a))return d=b,!1});return d};b.srces=function(a,b){a=e(a);if(b)a.removeAttr("src").removeAttr("type").find("source").remove(),e.isArray(b)||(b=[b]),b.forEach(function(b){var c=p.createElement("source");"string"==typeof b&&(b={src:b});c.setAttribute("src",b.src);b.type&&c.setAttribute("type",b.type);b.media&&c.setAttribute("media",b.media);a.append(c)});
else{var b=[],c=a[0].nodeName.toLowerCase(),d=n(a,c);d.src?b.push(d):e("source",a).each(function(){d=n(this,c);d.src&&b.push(d)});return b}};e.fn.loadMediaSrc=function(a,c){return this.each(function(){c!==d&&(e(this).removeAttr("poster"),c&&e.attr(this,"poster",c));b.srces(this,a);e(this).mediaLoad()})};b.swfMimeTypes="video/3gpp,video/x-msvideo,video/quicktime,video/x-m4v,video/mp4,video/m4p,video/x-flv,video/flv,audio/mpeg,audio/aac,audio/mp4,audio/x-m4a,audio/m4a,audio/mp3,audio/x-fla,audio/fla,youtube/flv,jwplayer/jwplayer,video/youtube".split(",");
b.canThirdPlaySrces=function(a,c){var d="";if(s||i)a=e(a),c=c||b.srces(a),e.each(c,function(a,c){if(c.container&&c.src&&(s&&-1!=b.swfMimeTypes.indexOf(c.container)||i&&"video/youtube"==c.container))return d=c,!1});return d};var c={};b.canNativePlaySrces=function(a,d){var f="";if(o){var a=e(a),g=(a[0].nodeName||"").toLowerCase();if(!c[g])return f;d=d||b.srces(a);e.each(d,function(b,d){if(d.type&&c[g].prop._supvalue.call(a[0],d.type))return f=d,!1})}return f};b.setError=function(a,b){b||(b="can't play sources");
e(a).pause().data("mediaerror",b);j.warn("mediaelementError: "+b);setTimeout(function(){e(a).data("mediaerror")&&e(a).trigger("mediaerror")},1)};var q=function(){var c;return function(d,e,g){j.ready(s?"mediaelement-swf":"mediaelement-yt",function(){b.createSWF?b.createSWF(d,e,g):c||(c=!0,a(),q(d,e,g))});!c&&i&&!b.createSWF&&f()}}(),h=function(a,c,d,e,f){d||!1!==d&&c&&"third"==c.isActive?(d=b.canThirdPlaySrces(a,e))?q(a,d,c):f?b.setError(a,!1):h(a,c,!1,e,!0):(d=b.canNativePlaySrces(a,e))?c&&"third"==
c.isActive&&b.setActive(a,"html5",c):f?(b.setError(a,!1),c&&"third"==c.isActive&&b.setActive(a,"html5",c)):h(a,c,!0,e,!0)},w=/^(?:embed|object|datalist)$/i,C=function(a,c){var f=j.data(a,"mediaelementBase")||j.data(a,"mediaelementBase",{}),g=b.srces(a),i=a.parentNode;clearTimeout(f.loadTimer);e.data(a,"mediaerror",!1);if(g.length&&i&&!(1!=i.nodeType||w.test(i.nodeName||"")))c=c||j.data(a,"mediaelement"),h(a,c,y.preferFlash||d,g)};e(p).bind("ended",function(a){var b=j.data(a.target,"mediaelement");
(!l||b&&"html5"!=b.isActive||e.prop(a.target,"loop"))&&setTimeout(function(){!e.prop(a.target,"paused")&&e.prop(a.target,"loop")&&e(a.target).prop("currentTime",0).play()},1)});l||j.defineNodeNamesBooleanProperty(["audio","video"],"loop");["audio","video"].forEach(function(a){var d=j.defineNodeNameProperty(a,"load",{prop:{value:function(){var a=j.data(this,"mediaelement");C(this,a);o&&(!a||"html5"==a.isActive)&&d.prop._supvalue&&d.prop._supvalue.apply(this,arguments)}}});c[a]=j.defineNodeNameProperty(a,
"canPlayType",{prop:{value:function(d){var f="";o&&c[a].prop._supvalue&&(f=c[a].prop._supvalue.call(this,d),"no"==f&&(f=""));!f&&s&&(d=e.trim((d||"").split(";")[0]),-1!=b.swfMimeTypes.indexOf(d)&&(f="maybe"));return f}}})});j.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var a=this,b=j.data(a,"mediaelementBase")||j.data(a,"mediaelementBase",{});clearTimeout(b.loadTimer);b.loadTimer=setTimeout(function(){C(a);a=null},9)}});k=function(){j.addReady(function(a,b){e("video, audio",
a).add(b.filter("video, audio")).each(function(){e.browser.msie&&8<j.browserVersion&&e.prop(this,"paused")&&!e.prop(this,"readyState")&&e(this).is('audio[preload="none"][controls]:not([autoplay])')?e(this).prop("preload","metadata").mediaLoad():C(this);if(o){var a,b,c=this,d=function(){var a=e.prop(c,"buffered");if(a){for(var b="",d=0,f=a.length;d<f;d++)b+=a.end(d);return b}},f=function(){var a=d();a!=b&&(b=a,e(c).triggerHandler("progress"))};e(this).bind("play loadstart progress",function(c){"progress"==
c.type&&(b=d());clearTimeout(a);a=setTimeout(f,999)}).bind("emptied stalled mediaerror abort suspend",function(c){"emptied"==c.type&&(b=!1);clearTimeout(a)})}})})};g.track&&!r.track&&j.defineProperty(TextTrack.prototype,"shimActiveCues",{get:function(){return this._shimActiveCues||this.activeCues}});o?(j.isReady("mediaelement-core",!0),k(),j.ready("WINDOWLOAD mediaelement",a)):j.ready("mediaelement-swf",k);e(function(){j.loader.loadList(["track-ui"])})})})(jQuery,Modernizr,jQuery.webshims);
jQuery.webshims.register("track",function(e,g,k,o){var l=g.mediaelement;(new Date).getTime();var y={subtitles:1,captions:1},r=function(d){var b={};d.addEventListener=function(d,e){b[d]&&g.error("always use $.bind to the shimed event: "+d+" already bound fn was: "+b[d]+" your fn was: "+e);b[d]=e};d.removeEventListener=function(d,e){b[d]&&b[d]!=e&&g.error("always use $.bind/$.unbind to the shimed event: "+d+" already bound fn was: "+b[d]+" your fn was: "+e);b[d]&&delete b[d]};return d},t={getCueById:function(d){for(var b=
null,e=0,g=this.length;e<g;e++)if(this[e].id===d){b=this[e];break}return b}},s={shimActiveCues:null,_shimActiveCues:null,activeCues:null,cues:null,kind:"subtitles",label:"",language:"",mode:"disabled",readyState:0,oncuechange:null,toString:function(){return"[object TextTrack]"},addCue:function(d){if(this.cues){var b=this.cues[this.cues.length-1];b&&b.startTime>d.startTime&&g.error("cue startTime higher than previous cue's startTime")}else this.cues=l.createCueList();d.track&&g.error("cue already part of a track element");
d.track=this;this.cues.push(d)},removeCue:function(){g.error("not implemented yet")},DISABLED:"disabled",OFF:"disabled",HIDDEN:"hidden",SHOWING:"showing",ERROR:3,LOADED:2,LOADING:1,NONE:0},p=["kind","label","srclang"],w={srclang:"language"},x=Function.prototype.call.bind(Object.prototype.hasOwnProperty),j=function(d,b){var n=[],i=[],f=[],a,c;d||(d=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{}));if(!b)d.blockTrackListUpdate=!0,b=e.prop(this,"textTracks"),d.blockTrackListUpdate=
!1;clearTimeout(d.updateTrackListTimer);e("track",this).each(function(){var a=e.prop(this,"track");f.push(a);-1==b.indexOf(a)&&i.push(a)});if(d.scriptedTextTracks)for(a=0,c=d.scriptedTextTracks.length;a<c;a++)f.push(d.scriptedTextTracks[a]),-1==b.indexOf(d.scriptedTextTracks[a])&&i.push(d.scriptedTextTracks[a]);for(a=0,c=b.length;a<c;a++)-1==f.indexOf(b[a])&&n.push(b[a]);if(n.length||i.length){b.splice(0);for(a=0,c=f.length;a<c;a++)b.push(f[a]);for(a=0,c=n.length;a<c;a++)e([b]).triggerHandler(e.Event({type:"removetrack",
track:b,track:n[a]}));for(a=0,c=i.length;a<c;a++)e([b]).triggerHandler(e.Event({type:"addtrack",track:b,track:i[a]}));(d.scriptedTextTracks||n.length)&&e(this).triggerHandler("updatetrackdisplay")}},B=function(d,b){var n,i;b||(b=g.data(d,"trackData"));if(b&&!b.isTriggering)b.isTriggering=!0,n=(b.track||{}).mode,i=(b.track||{}).kind,setTimeout(function(){if(n!==(b.track||{}).mode||i!=(b.track||{}).kind)(b.track||{}).readyState?e(d).parent().triggerHandler("updatetrackdisplay"):e(d).triggerHandler("checktrackmode");
b.isTriggering=!1},9)},v=e("<div />")[0];k.TextTrackCue=function(d,b,e){3!=arguments.length&&g.error("wrong arguments.length for TextTrackCue.constructor");this.startTime=d;this.endTime=b;this.text=e;this.id="";this.pauseOnExit=!1;r(this)};k.TextTrackCue.prototype={onenter:null,onexit:null,pauseOnExit:!1,getCueAsHTML:function(){var d="",b="",e=o.createDocumentFragment(),g;if(!x(this,"getCueAsHTML"))g=this.getCueAsHTML=function(){var f,a;if(d!=this.text){d=this.text;b=l.parseCueTextToHTML(d);v.innerHTML=
b;for(f=0,a=v.childNodes.length;f<a;f++)e.appendChild(v.childNodes[f].cloneNode(!0))}return e.cloneNode(!0)};return g?g.apply(this,arguments):e.cloneNode(!0)},track:null,id:""};l.createCueList=function(){return e.extend([],t)};l.parseCueTextToHTML=function(){var d=/(<\/?[^>]+>)/ig,b=/^(?:c|v|ruby|rt|b|i|u)/,e=/\<\s*\//,g=function(a,b,d,f){e.test(f)?a="</"+a+">":(d.splice(0,1),a="<"+a+" "+b+'="'+d.join(" ").replace(/\"/g,"&#34;")+'">');return a},f=function(a){var c=a.replace(/[<\/>]+/ig,"").split(/[\s\.]+/);
c[0]&&(c[0]=c[0].toLowerCase(),b.test(c[0])?"c"==c[0]?a=g("span","class",c,a):"v"==c[0]&&(a=g("q","title",c,a)):a="");return a};return function(a){return a.replace(d,f)}}();l.loadTextTrack=function(d,b,n,i){var f=n.track,a=function(){var c=e.prop(b,"src"),i,h;if("disabled"!=f.mode&&c&&e.attr(b,"src")&&(e(d).unbind("play playing timeupdate updatetrackdisplay",a),e(b).unbind("checktrackmode",a),!f.readyState)){i=function(){f.readyState=3;f.cues=null;f.activeCues=f.shimActiveCues=f._shimActiveCues=null;
e(b).triggerHandler("error")};f.readyState=1;try{f.cues=l.createCueList(),f.activeCues=f.shimActiveCues=f._shimActiveCues=l.createCueList(),h=e.ajax({dataType:"text",url:c,success:function(a){"text/vtt"!=h.getResponseHeader("content-type")&&g.error("set the mime-type of your WebVTT files to text/vtt. see: http://dev.w3.org/html5/webvtt/#text/vtt");l.parseCaptions(a,f,function(a){a&&"length"in a?(f.readyState=2,e(b).triggerHandler("load"),e(d).triggerHandler("updatetrackdisplay")):i()})},error:i})}catch(n){i(),
g.warn(n)}}};f.readyState=0;f.shimActiveCues=null;f._shimActiveCues=null;f.activeCues=null;f.cues=null;e(d).unbind("play playing timeupdate updatetrackdisplay",a);e(b).unbind("checktrackmode",a);e(d).bind("play playing timeupdate updatetrackdisplay",a);e(b).bind("checktrackmode",a);if(i)f.mode=y[f.kind]?"showing":"hidden",a()};l.createTextTrack=function(d,b){var n,i;if(b.nodeName&&(i=g.data(b,"trackData")))B(b,i),n=i.track;if(!n)n=r(g.objectCreate(s)),p.forEach(function(d){var a=e.prop(b,d);a&&(n[w[d]||
d]=a)}),b.nodeName?(i=g.data(b,"trackData",{track:n}),l.loadTextTrack(d,b,i,e.prop(b,"default"))):(n.cues=l.createCueList(),n.activeCues=n._shimActiveCues=n.shimActiveCues=l.createCueList(),n.mode="hidden",n.readyState=2);return n};l.parseCaptionChunk=function(){var d=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,b=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,e=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,g=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g;return function(f){var a,
c,j,h;if(b.exec(f)||e.exec(f)||g.exec(f))return null;for(f=f.split(/\n/g);!f[0].replace(/\s+/ig,"").length&&0<f.length;)f.shift();for(f[0].match(/^\s*[a-z0-9]+\s*$/ig)&&(j=""+f.shift().replace(/\s*/ig,""));0<f.length;){if(h=d.exec(f[0]))c=h.slice(1),a=parseInt(3600*(c[0]||0),10)+parseInt(60*(c[1]||0),10)+parseInt(c[2]||0,10)+parseFloat("0."+(c[3]||0)),c=parseInt(3600*(c[4]||0),10)+parseInt(60*(c[5]||0),10)+parseInt(c[6]||0,10)+parseFloat("0."+(c[7]||0));f=f.slice(0,0).concat(f.slice(1));break}if(!a&&
!c)return null;f=f.join("\n");a=new TextTrackCue(a,c,f);if(j)a.id=j;return a}}();l.parseCaptions=function(d,b,e){l.createCueList();var i,f,a,c,j;d?(a=/^WEBVTT(\s*FILE)?/ig,f=function(h,k){for(;h<k;h++){i=d[h];if(a.test(i))j=!0;else if(i.replace(/\s*/ig,"").length){if(!j){g.error("please use WebVTT format. This is the standard");e(null);break}(i=l.parseCaptionChunk(i,h))&&b.addCue(i)}if(c<(new Date).getTime()-9){h++;setTimeout(function(){c=(new Date).getTime();f(h,k)},90);break}}h>=k&&(j||g.error("please use WebVTT format. This is the standard"),
e(b.cues))},d=d.replace(/\r\n/g,"\n"),setTimeout(function(){d=d.replace(/\r/g,"\n");setTimeout(function(){c=(new Date).getTime();d=d.split(/\n\n+/g);f(0,d.length)},9)},9)):g.error("Required parameter captionData not supplied.")};l.createTrackList=function(d,b){b=b||g.data(d,"mediaelementBase")||g.data(d,"mediaelementBase",{});if(!b.textTracks)b.textTracks=[],g.defineProperties(b.textTracks,{onaddtrack:{value:null},onremovetrack:{value:null}}),r(b.textTracks);return b.textTracks};Modernizr.track||
(g.defineNodeNamesBooleanProperty(["track"],"default"),g.reflectProperties(["track"],["srclang","label"]),g.defineNodeNameProperties("track",{src:{reflect:!0,propType:"src"}}));g.defineNodeNameProperties("track",{kind:{attr:Modernizr.track?{set:function(d){var b=g.data(this,"trackData");this.setAttribute("data-kind",d);if(b)b.attrKind=d},get:function(){var d=g.data(this,"trackData");return d&&"attrKind"in d?d.attrKind:this.getAttribute("kind")}}:{},reflect:!0,propType:"enumarated",defaultValue:"subtitles",
limitedTo:["subtitles","captions","descriptions","chapters","metadata"]}});e.each(p,function(d,b){var j=w[b]||b;g.onNodeNamesPropertyModify("track",b,function(){var d=g.data(this,"trackData");d&&(d.track[j]=e.prop(this,b),B(this,d))})});g.onNodeNamesPropertyModify("track","src",function(d){if(d){var d=g.data(this,"trackData"),b;d&&(b=e(this).closest("video, audio"),b[0]&&l.loadTextTrack(b,this,d))}});g.defineNodeNamesProperties(["track"],{ERROR:{value:3},LOADED:{value:2},LOADING:{value:1},NONE:{value:0},
readyState:{get:function(){return(e.prop(this,"track")||{readyState:0}).readyState},writeable:!1},track:{get:function(){return l.createTextTrack(e(this).closest("audio, video")[0],this)},writeable:!1}},"prop");g.defineNodeNamesProperties(["audio","video"],{textTracks:{get:function(){var d=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{}),b=l.createTrackList(this,d);d.blockTrackListUpdate||j.call(this,d,b);return b},writeable:!1},addTextTrack:{value:function(d,b,e){d=l.createTextTrack(this,
{kind:d||"",label:b||"",srclang:e||""});b=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{});if(!b.scriptedTextTracks)b.scriptedTextTracks=[];b.scriptedTextTracks.push(d);j.call(this);return d}}},"prop");e(o).bind("emptied ended updatetracklist",function(d){if(e(d.target).is("audio, video")){var b=g.data(d.target,"mediaelementBase");if(b)clearTimeout(b.updateTrackListTimer),b.updateTrackListTimer=setTimeout(function(){j.call(d.target,b)},0)}});g.addReady(function(d,b){var k=b.filter("video, audio, track").closest("audio, video");
e("video, audio",d).add(k).each(function(){j.call(this)}).each(function(){if(Modernizr.track){var b=this.textTracks;e.prop(this,"textTracks").length!=b.length&&g.error("textTracks couldn't be copied");e("track",this).each(function(){var b=e.prop(this,"track"),a=this.track,c,d;if(a){c=e.prop(this,"kind");d=a.readyState||this.readyState;if(a.mode||d)b.mode=a.mode;if("descriptions"!=c)a.mode="string"==typeof a.mode?"disabled":0,this.kind="metadata",e(this).attr({kind:c})}}).bind("load error",function(b){b.originalEvent&&
b.stopImmediatePropagation()})}});k.each(function(){var b=this,d=g.data(b,"mediaelementBase");if(d)clearTimeout(d.updateTrackListTimer),d.updateTrackListTimer=setTimeout(function(){j.call(b,d)},9)})});Modernizr.track&&e("video, audio").trigger("trackapichange")});
