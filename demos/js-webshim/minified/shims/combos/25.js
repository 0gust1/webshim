jQuery.webshims.register("dom-extend",function(c,h,m,o,l){var z=h.modules,q=/\s*,\s*/,u={},r={},t={},w={},s={},j=c.fn.val,A=function(a,b,d,k,e){return e?j.call(c(a)):j.call(c(a),d)};c.fn.val=function(a){var b=this[0];arguments.length&&null==a&&(a="");if(!arguments.length)return!b||1!==b.nodeType?j.call(this):c.prop(b,"value",a,"val",!0);if(c.isArray(a))return j.apply(this,arguments);var d=c.isFunction(a);return this.each(function(k){b=this;1===b.nodeType&&(d?(k=a.call(b,k,c.prop(b,"value",l,"val",
!0)),null==k&&(k=""),c.prop(b,"value",k,"val")):c.prop(b,"value",a,"val"))})};var e="_webshimsLib"+Math.round(1E3*Math.random()),g=function(a,b,d){a=a.jquery?a[0]:a;if(!a)return d||{};var k=c.data(a,e);d!==l&&(k||(k=c.data(a,e,{})),b&&(k[b]=d));return b?k&&k[b]:k};[{name:"getNativeElement",prop:"nativeElement"},{name:"getShadowElement",prop:"shadowElement"},{name:"getShadowFocusElement",prop:"shadowFocusElement"}].forEach(function(a){c.fn[a.name]=function(){return this.map(function(){var b=g(this,
"shadowData");return b&&b[a.prop]||this})}});["removeAttr","prop","attr"].forEach(function(a){u[a]=c[a];c[a]=function(b,d,k,e,i){var p="val"==e,y=!p?u[a]:A;if(!b||!r[d]||1!==b.nodeType||!p&&e&&"attr"==a&&c.attrFn[d])return y(b,d,k,e,i);var x=(b.nodeName||"").toLowerCase(),g=t[x],f="attr"==a&&(!1===k||null===k)?"removeAttr":a,h,n,v;g||(g=t["*"]);g&&(g=g[d]);g&&(h=g[f]);if(h){if("value"==d)n=h.isVal,h.isVal=p;if("removeAttr"===f)return h.value.call(b);if(k===l)return h.get?h.get.call(b):h.value;h.set&&
("attr"==a&&!0===k&&(k=d),v=h.set.call(b,k));if("value"==d)h.isVal=n}else v=y(b,d,k,e,i);if((k!==l||"removeAttr"===f)&&s[x]&&s[x][d]){var j;j="removeAttr"==f?!1:"prop"==f?!!k:!0;s[x][d].forEach(function(d){if(!d.only||(d.only="prop"==a)||"attr"==d.only&&"prop"!=a)d.call(b,k,j,p?"val":f,a)})}return v};w[a]=function(b,d,k){t[b]||(t[b]={});t[b][d]||(t[b][d]={});var e=t[b][d][a],g=function(b,c,x){return c&&c[b]?c[b]:x&&x[b]?x[b]:"prop"==a&&"value"==d?function(b){return k.isVal?A(this,d,b,!1,0===arguments.length):
u[a](this,d,b)}:"prop"==a&&"value"==b&&k.value.apply?function(b){var p=u[a](this,d);p&&p.apply&&(p=p.apply(this,arguments));return p}:function(b){return u[a](this,d,b)}};t[b][d][a]=k;if(k.value===l){if(!k.set)k.set=k.writeable?g("set",k,e):h.cfg.useStrict&&"prop"==d?function(){throw d+" is readonly on "+b;}:c.noop;if(!k.get)k.get=g("get",k,e)}["value","get","set"].forEach(function(a){k[a]&&(k["_sup"+a]=g(a,e))})}});var i=!c.browser.msie||8<parseInt(c.browser.version,10),n=function(){var a=h.getPrototypeOf(o.createElement("foobar")),
b=Object.prototype.hasOwnProperty;return function(d,c,e){var s=o.createElement(d),p=h.getPrototypeOf(s);if(i&&p&&a!==p&&(!s[c]||!b.call(s,c))){var y=s[c];e._supvalue=function(){return y&&y.apply?y.apply(this,arguments):y};p[c]=e.value}else e._supvalue=function(){var a=g(this,"propValue");return a&&a[c]&&a[c].apply?a[c].apply(this,arguments):a&&a[c]},f.extendValue(d,c,e.value);e.value._supvalue=e._supvalue}}(),f=function(){var a={};h.addReady(function(b,d){var p={},e=function(a){p[a]||(p[a]=c(b.getElementsByTagName(a)),
d[0]&&c.nodeName(d[0],a)&&(p[a]=p[a].add(d)))};c.each(a,function(a,b){e(a);!b||!b.forEach?h.warn("Error: with "+a+"-property. methods: "+b):b.forEach(function(b){p[a].each(b)})});p=null});var b,d=c([]),e=function(d,e){a[d]?a[d].push(e):a[d]=[e];c.isDOMReady&&(b||c(o.getElementsByTagName(d))).each(e)};return{createTmpCache:function(a){c.isDOMReady&&(b=b||c(o.getElementsByTagName(a)));return b||d},flushTmpCache:function(){b=null},content:function(a,b){e(a,function(){var a=c.attr(this,b);null!=a&&c.attr(this,
b,a)})},createElement:function(a,b){e(a,b)},extendValue:function(a,b,d){e(a,function(){c(this).each(function(){g(this,"propValue",{})[b]=this[b];this[b]=d})})}}}(),v=function(a,b){if(a.defaultValue===l)a.defaultValue="";if(!a.removeAttr)a.removeAttr={value:function(){a[b||"prop"].set.call(this,a.defaultValue);a.removeAttr._supvalue.call(this)}};if(!a.attr)a.attr={}};c.extend(h,{getID:function(){var a=(new Date).getTime();return function(b){var b=c(b),d=b.attr("id");d||(a++,d="ID-"+a,b.attr("id",d));
return d}}(),extendUNDEFProp:function(a,b){c.each(b,function(b,c){b in a||(a[b]=c)})},createPropDefault:v,data:g,moveToFirstEvent:function(){var a=c._data?"_data":"data";return function(b,d,e){if((b=(c[a](b,"events")||{})[d])&&1<b.length)d=b.pop(),e||(e="bind"),"bind"==e&&b.delegateCount?b.splice(b.delegateCount,0,d):b.unshift(d)}}(),addShadowDom:function(){var a,b,d,f,i={init:!1,start:function(){if(!this.init)this.init=!0,this.height=c(o).height(),this.width=c(o).width(),setInterval(function(){var a=
c(o).height(),b=c(o).width();if(a!=i.height||b!=i.width)i.height=a,i.width=b,f({type:"docresize"})},400)}};f=function(e){clearTimeout(a);a=setTimeout(function(){if("resize"==e.type){var a=c(m).width(),y=c(m).width();if(y==b&&a==d)return;b=y;d=a;i.height=c(o).height();i.width=c(o).width()}c.event.trigger("updateshadowdom")},40)};c(m).bind("resize",f);c.event.customEvent.updateshadowdom=!0;return function(a,b,d){d=d||{};a.jquery&&(a=a[0]);b.jquery&&(b=b[0]);var x=c.data(a,e)||c.data(a,e,{}),f=c.data(b,
e)||c.data(b,e,{}),k={};if(d.shadowFocusElement){if(d.shadowFocusElement){if(d.shadowFocusElement.jquery)d.shadowFocusElement=d.shadowFocusElement[0];k=c.data(d.shadowFocusElement,e)||c.data(d.shadowFocusElement,e,k)}}else d.shadowFocusElement=b;x.hasShadow=b;k.nativeElement=f.nativeElement=a;k.shadowData=f.shadowData=x.shadowData={nativeElement:a,shadowElement:b,shadowFocusElement:d.shadowFocusElement};d.shadowChilds&&d.shadowChilds.each(function(){g(this,"shadowData",f.shadowData)});if(d.data)k.shadowData.data=
f.shadowData.data=x.shadowData.data=d.data;d=null;i.start()}}(),propTypes:{standard:function(a){v(a);if(!a.prop)a.prop={set:function(b){a.attr.set.call(this,""+b)},get:function(){return a.attr.get.call(this)||a.defaultValue}}},"boolean":function(a){v(a);if(!a.prop)a.prop={set:function(b){b?a.attr.set.call(this,""):a.removeAttr.value.call(this)},get:function(){return null!=a.attr.get.call(this)}}},src:function(){var a=o.createElement("a");a.style.display="none";return function(b,d){v(b);if(!b.prop)b.prop=
{set:function(a){b.attr.set.call(this,a)},get:function(){var b=this.getAttribute(d),e;if(null==b)return"";a.setAttribute("href",b+"");if(!c.support.hrefNormalized){try{c(a).insertAfter(this),e=a.getAttribute("href",4)}catch(f){e=a.getAttribute("href",4)}c(a).detach()}return e||a.href}}}}(),enumarated:function(a){v(a);if(!a.prop)a.prop={set:function(b){a.attr.set.call(this,b)},get:function(){var b=(a.attr.get.call(this)||"").toLowerCase();if(!b||-1==a.limitedTo.indexOf(b))b=a.defaultValue;return b}}}},
reflectProperties:function(a,b){"string"==typeof b&&(b=b.split(q));b.forEach(function(b){h.defineNodeNamesProperty(a,b,{prop:{set:function(a){c.attr(this,b,a)},get:function(){return c.attr(this,b)||""}}})})},defineNodeNameProperty:function(a,b,d){r[b]=!0;if(d.reflect)h.propTypes[d.propType||"standard"](d,b);["prop","attr","removeAttr"].forEach(function(e){var f=d[e];f&&(f="prop"===e?c.extend({writeable:!0},f):c.extend({},f,{writeable:!0}),w[e](a,b,f),"*"!=a&&h.cfg.extendNative&&"prop"==e&&f.value&&
c.isFunction(f.value)&&n(a,b,f),d[e]=f)});d.initAttr&&f.content(a,b);return d},defineNodeNameProperties:function(a,b,d,e){for(var c in b)!e&&b[c].initAttr&&f.createTmpCache(a),d&&(b[c][d]?h.log("override: "+a+"["+c+"] for "+d):(b[c][d]={},["value","set","get"].forEach(function(a){a in b[c]&&(b[c][d][a]=b[c][a],delete b[c][a])}))),b[c]=h.defineNodeNameProperty(a,c,b[c]);e||f.flushTmpCache();return b},createElement:function(a,b,d){var e;c.isFunction(b)&&(b={after:b});f.createTmpCache(a);b.before&&f.createElement(a,
b.before);d&&(e=h.defineNodeNameProperties(a,d,!1,!0));b.after&&f.createElement(a,b.after);f.flushTmpCache();return e},onNodeNamesPropertyModify:function(a,b,d,e){"string"==typeof a&&(a=a.split(q));c.isFunction(d)&&(d={set:d});a.forEach(function(a){s[a]||(s[a]={});"string"==typeof b&&(b=b.split(q));d.initAttr&&f.createTmpCache(a);b.forEach(function(b){s[a][b]||(s[a][b]=[],r[b]=!0);if(d.set){if(e)d.set.only=e;s[a][b].push(d.set)}d.initAttr&&f.content(a,b)});f.flushTmpCache()})},defineNodeNamesBooleanProperty:function(a,
b,d){d||(d={});if(c.isFunction(d))d.set=d;h.defineNodeNamesProperty(a,b,{attr:{set:function(a){this.setAttribute(b,a);d.set&&d.set.call(this,!0)},get:function(){return null==this.getAttribute(b)?l:b}},removeAttr:{value:function(){this.removeAttribute(b);d.set&&d.set.call(this,!1)}},reflect:!0,propType:"boolean",initAttr:d.initAttr||!1})},contentAttr:function(a,b,d){if(a.nodeName){if(d===l)return a=a.attributes[b]||{},d=a.specified?a.value:null,null==d?l:d;"boolean"==typeof d?d?a.setAttribute(b,b):
a.removeAttribute(b):a.setAttribute(b,d)}},activeLang:function(){var a=[],b={},d,e,f=/:\/\/|^\.*\//,i=function(a,b,d){return b&&d&&-1!==c.inArray(b,d.availabeLangs||[])?(a.loading=!0,d=d.langSrc,f.test(d)||(d=h.cfg.basePath+d),h.loader.loadScript(d+b+".js",function(){a.langObj[b]?(a.loading=!1,g(a,!0)):c(function(){a.langObj[b]&&g(a,!0);a.loading=!1})}),!0):!1},p=function(a){b[a]&&b[a].forEach(function(a){a.callback()})},g=function(a,b){if(a.activeLang!=d&&a.activeLang!==e){var c=z[a.module].options;
if(a.langObj[d]||e&&a.langObj[e])a.activeLang=d,a.callback(a.langObj[d]||a.langObj[e],d),p(a.module);else if(!b&&!i(a,d,c)&&!i(a,e,c)&&a.langObj[""]&&""!==a.activeLang)a.activeLang="",a.callback(a.langObj[""],d),p(a.module)}};return function(f){if("string"==typeof f&&f!==d)d=f,e=d.split("-")[0],d==e&&(e=!1),c.each(a,function(a,b){g(b)});else if("object"==typeof f)if(f.register)b[f.register]||(b[f.register]=[]),b[f.register].push(f),f.callback();else{if(!f.activeLang)f.activeLang="";a.push(f);g(f)}return d}}()});
c.each({defineNodeNamesProperty:"defineNodeNameProperty",defineNodeNamesProperties:"defineNodeNameProperties",createElements:"createElement"},function(a,b){h[a]=function(a,e,c,f){"string"==typeof a&&(a=a.split(q));var p={};a.forEach(function(a){p[a]=h[b](a,e,c,f)});return p}});h.isReady("webshimLocalization",!0)});
(function(c,h){var m=c.webshims.browserVersion;if(!(c.browser.mozilla&&5<m)&&(!c.browser.msie||12>m&&7<m)){var o={article:"article",aside:"complementary",section:"region",nav:"navigation",address:"contentinfo"},l=function(c,h){c.getAttribute("role")||c.setAttribute("role",h)};c.webshims.addReady(function(m,q){c.each(o,function(h,s){for(var j=c(h,m).add(q.filter(h)),o=0,e=j.length;o<e;o++)l(j[o],s)});if(m===h){var u=h.getElementsByTagName("header")[0],r=h.getElementsByTagName("footer"),t=r.length;
u&&!c(u).closest("section, article")[0]&&l(u,"banner");t&&(u=r[t-1],c(u).closest("section, article")[0]||l(u,"contentinfo"))}})}})(jQuery,document);
(function(c,h,m){var o=h.audio&&h.video,l=!1,z=m.cfg.mediaelement,q=m.bugs,u=function(){m.ready("mediaelement-swf",function(){if(!m.mediaelement.createSWF)m.modules["mediaelement-swf"].test=c.noop,m.reTest(["mediaelement-swf"],o)})},r;if(o){var t=document.createElement("video");h.videoBuffered="buffered"in t;l="loop"in t;m.capturingEvents("play,playing,waiting,paused,ended,durationchange,loadedmetadata,canplay,volumechange".split(","));h.videoBuffered||(m.addPolyfill("mediaelement-native-fix",{f:"mediaelement",
test:h.videoBuffered,d:["dom-support"]}),m.reTest("mediaelement-native-fix"))}if(o&&!z.preferFlash){var w=function(h){var j=h.target.parentNode;!z.preferFlash&&(c(h.target).is("audio, video")||j&&c("source:last",j)[0]==h.target)&&m.ready("DOM mediaelement",function(){r&&u();m.ready("WINDOWLOAD mediaelement-swf",function(){setTimeout(function(){r&&!z.preferFlash&&m.mediaelement.createSWF&&!c(h.target).closest("audio, video").is(".nonnative-api-active")?(z.preferFlash=!0,document.removeEventListener("error",
w,!0),c("audio, video").mediaLoad(),m.info("switching mediaelements option to 'preferFlash', due to an error with native player: "+h.target.src)):r||document.removeEventListener("error",w,!0)},20)})})};document.addEventListener("error",w,!0);c("audio, video").each(function(){this.error&&w({target:this})})}q.track=!1;h.track&&function(){if(!q.track)q.track="number"!=typeof c("<track />")[0].readyState;if(!q.track)try{new TextTrackCue(2,3,"")}catch(h){q.track=!0}var j=m.cfg.track,l=function(g){c(g.target).filter("track").each(e)},
e=function(){if(q.track||!j.override&&3==c.prop(this,"readyState"))j.override=!0,m.reTest("track"),document.removeEventListener("error",l,!0),this&&c.nodeName(this,"track")?m.error("track support was overwritten. Please check your vtt including your vtt mime-type"):m.info("track support was overwritten. due to bad browser support")},g=function(){document.addEventListener("error",l,!0);q.track?e():c("track").each(e)};j.override||(m.isReady("track")?g():c(g))}();m.register("mediaelement-core",function(c,
j,m,e,g){r=swfobject.hasFlashPlayerVersion("9.0.115");var i=j.mediaelement,n=function(a,b){var a=c(a),d={src:a.attr("src")||"",elem:a,srcProp:a.prop("src")};if(!d.src)return d;var e=a.attr("type");if(e)d.type=e,d.container=c.trim(e.split(";")[0]);else if(b||(b=a[0].nodeName.toLowerCase(),"source"==b&&(b=(a.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),e=i.getTypeForSrc(d.src,b))d.type=e,d.container=e;if(e=a.attr("media"))d.media=e;return d},f=!r&&"postMessage"in m&&o,v=
function(){var a;return function(){!a&&f&&(a=!0,j.loader.loadScript("https://www.youtube.com/player_api"),c(function(){j.polyfill("mediaelement-yt")}))}}(),a=function(){r?u():v()};j.addPolyfill("mediaelement-yt",{test:!f,d:["dom-support"]});i.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],'audio/ogg;codecs="opus"':"opus","audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":"mp4,mpg4,m4r,m4a,m4p,m4b,aac".split(","),"audio/wav":["wav"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"],"audio/fla":["flv",
"f4a","fla"],"application/x-mpegURL":["m3u8","m3u"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"],"application/x-mpegURL":["m3u8","m3u"],"video/MP2T":["ts"]}};i.mimeTypes.source=c.extend({},i.mimeTypes.audio,i.mimeTypes.video);i.getTypeForSrc=function(a,b){if(-1!=a.indexOf("youtube.com/watch?")||
-1!=a.indexOf("youtube.com/v/"))return"video/youtube";var a=a.split("?")[0].split("."),a=a[a.length-1],d;c.each(i.mimeTypes[b],function(b,c){if(-1!==c.indexOf(a))return d=b,!1});return d};i.srces=function(a,b){a=c(a);if(b)a.removeAttr("src").removeAttr("type").find("source").remove(),c.isArray(b)||(b=[b]),b.forEach(function(b){var c=e.createElement("source");"string"==typeof b&&(b={src:b});c.setAttribute("src",b.src);b.type&&c.setAttribute("type",b.type);b.media&&c.setAttribute("media",b.media);a.append(c)});
else{var b=[],d=a[0].nodeName.toLowerCase(),f=n(a,d);f.src?b.push(f):c("source",a).each(function(){f=n(this,d);f.src&&b.push(f)});return b}};c.fn.loadMediaSrc=function(a,b){return this.each(function(){b!==g&&(c(this).removeAttr("poster"),b&&c.attr(this,"poster",b));i.srces(this,a);c(this).mediaLoad()})};i.swfMimeTypes="video/3gpp,video/x-msvideo,video/quicktime,video/x-m4v,video/mp4,video/m4p,video/x-flv,video/flv,audio/mpeg,audio/aac,audio/mp4,audio/x-m4a,audio/m4a,audio/mp3,audio/x-fla,audio/fla,youtube/flv,jwplayer/jwplayer,video/youtube".split(",");
i.canThirdPlaySrces=function(a,b){var d="";if(r||f)a=c(a),b=b||i.srces(a),c.each(b,function(a,b){if(b.container&&b.src&&(r&&-1!=i.swfMimeTypes.indexOf(b.container)||f&&"video/youtube"==b.container))return d=b,!1});return d};var b={};i.canNativePlaySrces=function(a,d){var e="";if(o){var a=c(a),f=(a[0].nodeName||"").toLowerCase();if(!b[f])return e;d=d||i.srces(a);c.each(d,function(c,d){if(d.type&&b[f].prop._supvalue.call(a[0],d.type))return e=d,!1})}return e};i.setError=function(a,b){b||(b="can't play sources");
c(a).pause().data("mediaerror",b);j.warn("mediaelementError: "+b);setTimeout(function(){c(a).data("mediaerror")&&c(a).trigger("mediaerror")},1)};var d=function(){var b;return function(c,e,g){j.ready(r?"mediaelement-swf":"mediaelement-yt",function(){i.createSWF?i.createSWF(c,e,g):b||(b=!0,a(),d(c,e,g))});!b&&f&&!i.createSWF&&v()}}(),k=function(a,b,c,e,f){c||!1!==c&&b&&"third"==b.isActive?(c=i.canThirdPlaySrces(a,e))?d(a,c,b):f?i.setError(a,!1):k(a,b,!1,e,!0):(c=i.canNativePlaySrces(a,e))?b&&"third"==
b.isActive&&i.setActive(a,"html5",b):f?(i.setError(a,!1),b&&"third"==b.isActive&&i.setActive(a,"html5",b)):k(a,b,!0,e,!0)},t=/^(?:embed|object|datalist)$/i,w=function(a,b){var d=j.data(a,"mediaelementBase")||j.data(a,"mediaelementBase",{}),e=i.srces(a),f=a.parentNode;clearTimeout(d.loadTimer);c.data(a,"mediaerror",!1);if(e.length&&f&&!(1!=f.nodeType||t.test(f.nodeName||"")))b=b||j.data(a,"mediaelement"),k(a,b,z.preferFlash||g,e)};c(e).bind("ended",function(a){var b=j.data(a.target,"mediaelement");
(!l||b&&"html5"!=b.isActive||c.prop(a.target,"loop"))&&setTimeout(function(){!c.prop(a.target,"paused")&&c.prop(a.target,"loop")&&c(a.target).prop("currentTime",0).play()},1)});l||j.defineNodeNamesBooleanProperty(["audio","video"],"loop");["audio","video"].forEach(function(a){var d=j.defineNodeNameProperty(a,"load",{prop:{value:function(){var a=j.data(this,"mediaelement");w(this,a);o&&(!a||"html5"==a.isActive)&&d.prop._supvalue&&d.prop._supvalue.apply(this,arguments)}}});b[a]=j.defineNodeNameProperty(a,
"canPlayType",{prop:{value:function(d){var e="";o&&b[a].prop._supvalue&&(e=b[a].prop._supvalue.call(this,d),"no"==e&&(e=""));!e&&r&&(d=c.trim((d||"").split(";")[0]),-1!=i.swfMimeTypes.indexOf(d)&&(e="maybe"));return e}}})});j.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var a=this,b=j.data(a,"mediaelementBase")||j.data(a,"mediaelementBase",{});clearTimeout(b.loadTimer);b.loadTimer=setTimeout(function(){w(a);a=null},9)}});m=function(){j.addReady(function(a,b){c("video, audio",
a).add(b.filter("video, audio")).each(function(){c.browser.msie&&8<j.browserVersion&&c.prop(this,"paused")&&!c.prop(this,"readyState")&&c(this).is('audio[preload="none"][controls]:not([autoplay])')?c(this).prop("preload","metadata").mediaLoad():w(this);if(o){var a,b,d=this,e=function(){var a=c.prop(d,"buffered");if(a){for(var b="",e=0,f=a.length;e<f;e++)b+=a.end(e);return b}},f=function(){var a=e();a!=b&&(b=a,c(d).triggerHandler("progress"))};c(this).bind("play loadstart progress",function(c){"progress"==
c.type&&(b=e());clearTimeout(a);a=setTimeout(f,999)}).bind("emptied stalled mediaerror abort suspend",function(c){"emptied"==c.type&&(b=!1);clearTimeout(a)})}})})};h.track&&!q.track&&j.defineProperty(TextTrack.prototype,"shimActiveCues",{get:function(){return this._shimActiveCues||this.activeCues}});o?(j.isReady("mediaelement-core",!0),m(),j.ready("WINDOWLOAD mediaelement",a)):j.ready("mediaelement-swf",m);c(function(){j.loader.loadList(["track-ui"])})})})(jQuery,Modernizr,jQuery.webshims);
jQuery.webshims.register("track",function(c,h,m,o){var l=h.mediaelement;(new Date).getTime();var z={subtitles:1,captions:1},q=function(c){var g={};c.addEventListener=function(c,e){g[c]&&h.error("always use $.bind to the shimed event: "+c+" already bound fn was: "+g[c]+" your fn was: "+e);g[c]=e};c.removeEventListener=function(c,e){g[c]&&g[c]!=e&&h.error("always use $.bind/$.unbind to the shimed event: "+c+" already bound fn was: "+g[c]+" your fn was: "+e);g[c]&&delete g[c]};return c},u={getCueById:function(c){for(var g=
null,h=0,n=this.length;h<n;h++)if(this[h].id===c){g=this[h];break}return g}},r={shimActiveCues:null,_shimActiveCues:null,activeCues:null,cues:null,kind:"subtitles",label:"",language:"",mode:"disabled",readyState:0,oncuechange:null,toString:function(){return"[object TextTrack]"},addCue:function(c){if(this.cues){var g=this.cues[this.cues.length-1];g&&g.startTime>c.startTime&&h.error("cue startTime higher than previous cue's startTime")}else this.cues=l.createCueList();c.track&&h.error("cue already part of a track element");
c.track=this;this.cues.push(c)},removeCue:function(){h.error("not implemented yet")},DISABLED:"disabled",OFF:"disabled",HIDDEN:"hidden",SHOWING:"showing",ERROR:3,LOADED:2,LOADING:1,NONE:0},t=["kind","label","srclang"],w=Function.prototype.call.bind(Object.prototype.hasOwnProperty),s=function(){var e=c.prop(this,"textTracks"),g=h.data(this,"mediaelementBase"),i=e.splice(0),n,f;c("track",this).each(function(){e.push(c.prop(this,"track"))});if(g.scriptedTextTracks)for(n=0,f=g.scriptedTextTracks.length;n<
f;n++)e.push(g.scriptedTextTracks[n]);for(n=0,f=i.length;n<f;n++)if(-1==e.indexOf(i[n]))i[n].mode="disabled";i=null},j=function(e,g){var i,n;g||(g=h.data(e,"trackData"));if(g&&!g.isTriggering)g.isTriggering=!0,i=(g.track||{}).mode,n=(g.track||{}).kind,setTimeout(function(){if(i!==(g.track||{}).mode||n!=(g.track||{}).kind)(g.track||{}).readyState?c(e).parent().triggerHandler("updatetrackdisplay"):c(e).triggerHandler("checktrackmode");g.isTriggering=!1},9)},A=c("<div />")[0];m.TextTrackCue=function(c,
g,i){3!=arguments.length&&h.error("wrong arguments.length for TextTrackCue.constructor");this.startTime=c;this.endTime=g;this.text=i;this.id="";this.pauseOnExit=!1;q(this)};m.TextTrackCue.prototype={onenter:null,onexit:null,pauseOnExit:!1,getCueAsHTML:function(){var c="",g="",h=o.createDocumentFragment(),n;if(!w(this,"getCueAsHTML"))n=this.getCueAsHTML=function(){var f,v;if(c!=this.text){c=this.text;g=l.parseCueTextToHTML(c);A.innerHTML=g;for(f=0,v=A.childNodes.length;f<v;f++)h.appendChild(A.childNodes[f].cloneNode(!0))}return h.cloneNode(!0)};
return n?n.apply(this,arguments):h.cloneNode(!0)},track:null,id:""};l.createCueList=function(){return c.extend([],u)};l.parseCueTextToHTML=function(){var c=/(<\/?[^>]+>)/ig,g=/^(?:c|v|ruby|rt|b|i|u)/,h=/\<\s*\//,n=function(c,a,b,d){h.test(d)?c="</"+c+">":(b.splice(0,1),c="<"+c+" "+a+'="'+b.join(" ").replace(/\"/g,"&#34;")+'">');return c},f=function(c){var a=c.replace(/[<\/>]+/ig,"").split(/[\s\.]+/);a[0]&&(a[0]=a[0].toLowerCase(),g.test(a[0])?"c"==a[0]?c=n("span","class",a,c):"v"==a[0]&&(c=n("q",
"title",a,c)):c="");return c};return function(g){return g.replace(c,f)}}();l.loadTextTrack=function(e,g,i,n){var f=i.track,j=function(){var a=c.prop(g,"src"),b,d;if("disabled"!=f.mode&&a&&c.attr(g,"src")&&(c(e).unbind("play playing timeupdate updatetrackdisplay",j),c(g).unbind("checktrackmode",j),!f.readyState)){b=function(){f.readyState=3;f.cues=null;f.activeCues=f.shimActiveCues=f._shimActiveCues=null;c(g).triggerHandler("error")};f.readyState=1;try{f.cues=l.createCueList(),f.activeCues=f.shimActiveCues=
f._shimActiveCues=l.createCueList(),d=c.ajax({dataType:"text",url:a,success:function(a){"text/vtt"!=d.getResponseHeader("content-type")&&h.error("set the mime-type of your WebVTT files to text/vtt. see: http://dev.w3.org/html5/webvtt/#text/vtt");l.parseCaptions(a,f,function(a){a&&"length"in a?(f.readyState=2,c(g).triggerHandler("load"),c(e).triggerHandler("updatetrackdisplay")):b()})},error:b})}catch(i){b(),h.warn(i)}}};f.readyState=0;f.shimActiveCues=null;f._shimActiveCues=null;f.activeCues=null;
f.cues=null;c(e).unbind("play playing timeupdate updatetrackdisplay",j);c(g).unbind("checktrackmode",j);c(e).bind("play playing timeupdate updatetrackdisplay",j);c(g).bind("checktrackmode",j);if(n)f.mode=z[f.kind]?"showing":"hidden",j()};l.createTextTrack=function(e,g){var i,n;if(g.nodeName&&(n=h.data(g,"trackData")))j(g,n),i=n.track;if(!i)i=q(h.objectCreate(r)),t.forEach(function(e){var h=c.prop(g,e);h&&("srclang"==e&&(e="language"),i[e]=h)}),g.nodeName?(n=h.data(g,"trackData",{track:i}),l.loadTextTrack(e,
g,n,c.prop(g,"default"))):(i.cues=l.createCueList(),i.activeCues=i._shimActiveCues=i.shimActiveCues=l.createCueList(),i.mode="hidden",i.readyState=2);return i};l.parseCaptionChunk=function(){var c=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,g=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,h=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,j=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g;return function(f){var l,a,b,d;if(g.exec(f)||h.exec(f)||j.exec(f))return null;for(f=f.split(/\n/g);!f[0].replace(/\s+/ig,
"").length&&0<f.length;)f.shift();for(f[0].match(/^\s*[a-z0-9]+\s*$/ig)&&(b=""+f.shift().replace(/\s*/ig,""));0<f.length;){if(d=c.exec(f[0]))a=d.slice(1),l=parseInt(3600*(a[0]||0),10)+parseInt(60*(a[1]||0),10)+parseInt(a[2]||0,10)+parseFloat("0."+(a[3]||0)),a=parseInt(3600*(a[4]||0),10)+parseInt(60*(a[5]||0),10)+parseInt(a[6]||0,10)+parseFloat("0."+(a[7]||0));f=f.slice(0,0).concat(f.slice(1));break}if(!l&&!a)return null;f=f.join("\n");l=new TextTrackCue(l,a,f);if(b)l.id=b;return l}}();l.parseCaptions=
function(c,g,i){l.createCueList();var j,f,m,a,b;c?(m=/^WEBVTT(\s*FILE)?/ig,f=function(d,k){for(;d<k;d++){j=c[d];if(m.test(j))b=!0;else if(j.replace(/\s*/ig,"").length){if(!b){h.error("please use WebVTT format. This is the standard");i(null);break}(j=l.parseCaptionChunk(j,d))&&g.addCue(j)}if(a<(new Date).getTime()-9){d++;setTimeout(function(){a=(new Date).getTime();f(d,k)},90);break}}d>=k&&(b||h.error("please use WebVTT format. This is the standard"),i(g.cues))},c=c.replace(/\r\n/g,"\n"),setTimeout(function(){c=
c.replace(/\r/g,"\n");setTimeout(function(){a=(new Date).getTime();c=c.split(/\n\n+/g);f(0,c.length)},9)},9)):h.error("Required parameter captionData not supplied.")};l.createTrackList=function(c){c=h.data(c,"mediaelementBase")||h.data(c,"mediaelementBase",{});if(!c.textTracks)c.textTracks=[],h.defineProperties(c.textTracks,{onaddtrack:{value:null}}),q(c.textTracks);return c.textTracks};Modernizr.track||(h.defineNodeNamesBooleanProperty(["track"],"default"),h.reflectProperties(["track"],["srclang",
"label"]),h.defineNodeNameProperties("track",{src:{reflect:!0,propType:"src"}}));h.defineNodeNameProperties("track",{kind:{attr:Modernizr.track?{set:function(c){var g=h.data(this,"trackData");this.setAttribute("data-kind",c);if(g)g.attrKind=c},get:function(){var c=h.data(this,"trackData");return c&&"attrKind"in c?c.attrKind:this.getAttribute("kind")}}:{},reflect:!0,propType:"enumarated",defaultValue:"subtitles",limitedTo:["subtitles","captions","descriptions","chapters","metadata"]}});h.onNodeNamesPropertyModify("track",
"kind",function(){var e=h.data(this,"trackData");if(e)e.track.kind=c.prop(this,"kind"),j(this,e)});h.onNodeNamesPropertyModify("track","src",function(e){if(e){var e=h.data(this,"trackData"),g;e&&(g=c(this).closest("video, audio"),g[0]&&l.loadTextTrack(g,this,e))}});h.defineNodeNamesProperties(["track"],{ERROR:{value:3},LOADED:{value:2},LOADING:{value:1},NONE:{value:0},readyState:{get:function(){return(c.prop(this,"track")||{readyState:0}).readyState},writeable:!1},track:{get:function(){return l.createTextTrack(c(this).closest("audio, video")[0],
this)},writeable:!1}},"prop");h.defineNodeNamesProperties(["audio","video"],{textTracks:{get:function(){c("track",this).each(function(){j(this)});return l.createTrackList(this)},writeable:!1},addTextTrack:{value:function(c,g,i){c=l.createTextTrack(this,{kind:c||"",label:g||"",srclang:i||""});g=h.data(this,"mediaelementBase")||h.data(this,"mediaelementBase",{});if(!g.scriptedTextTracks)g.scriptedTextTracks=[];g.scriptedTextTracks.push(c);s.call(this);return c}}},"prop");c(o).bind("emptied ended",function(e){c(e.target).is("audio, video")&&
setTimeout(function(){s.call(e.target)},9)});h.addReady(function(e,g){c("video, audio",e).add(g.filter("video, audio, track").closest("audio, video")).each(s).each(function(){if(Modernizr.track){var e=this.textTracks;c.prop(this,"textTracks").length!=e.length&&h.error("textTracks couldn't be copied");c("track",this).each(function(){var e=c.prop(this,"track"),f=this.track,g,a;if(f){g=c.prop(this,"kind");a=f.readyState||this.readyState;if(f.mode||a)e.mode=f.mode;if("descriptions"!=g)f.mode="string"==
typeof f.mode?"disabled":0,this.kind="metadata",c(this).attr({kind:g})}}).bind("load error",function(c){c.originalEvent&&c.stopImmediatePropagation()})}})});Modernizr.track&&c("video, audio").trigger("trackapichange")});
