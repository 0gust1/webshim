jQuery.webshims.register("form-extend",function(c,e,m,j,t,k){m=m.Modernizr;t=m.inputtypes;if(m.formvalidation&&!e.bugs.bustedValidity){var f=e.inputTypes,s={};e.addInputType=function(d,g){f[d]=g};e.addValidityRule=function(d,g){s[d]=g};e.addValidityRule("typeMismatch",function(d,g,a,c){if(""===g)return!1;c=c.typeMismatch;if(!("type"in a))a.type=(d[0].getAttribute("type")||"").toLowerCase();f[a.type]&&f[a.type].mismatch&&(c=f[a.type].mismatch(g,d));return c});var o=k.overrideMessages,p=!t.number||
!t.time||!t.range||o,v="customError,typeMismatch,rangeUnderflow,rangeOverflow,stepMismatch,tooLong,patternMismatch,valueMissing,valid".split(","),k=o?["value","checked"]:["value"],q=[],h=function(d,a){if(d){var b=(d.getAttribute&&d.getAttribute("type")||d.type||"").toLowerCase();if(o||f[b])o&&!a&&"radio"==b&&d.name?c(j.getElementsByName(d.name)).each(function(){c.prop(this,"validity")}):c.prop(d,"validity")}},r={};["input","textarea","select"].forEach(function(d){var a=e.defineNodeNameProperty(d,
"setCustomValidity",{prop:{value:function(b){var b=b+"",l="input"==d?c(this).getNativeElement()[0]:this;a.prop._supvalue.call(l,b);e.bugs.validationMessage&&e.data(l,"customvalidationMessage",b);p&&(e.data(l,"hasCustomError",!!b),h(l))}}});r[d]=a.prop._supvalue});if(p||o)k.push("min"),k.push("max"),k.push("step"),q.push("input");o&&(k.push("required"),k.push("pattern"),q.push("select"),q.push("textarea"));if(p){var u;q.forEach(function(d){var a=e.defineNodeNameProperty(d,"validity",{prop:{get:function(){if(!u){var b=
"input"==d?c(this).getNativeElement()[0]:this,l=a.prop._supget.call(b);if(!l)return l;var i={};v.forEach(function(d){i[d]=l[d]});if(!c.prop(b,"willValidate"))return i;u=!0;var k=c(b),n={type:(b.getAttribute&&b.getAttribute("type")||"").toLowerCase(),nodeName:(b.nodeName||"").toLowerCase()},x=k.val(),w=!!e.data(b,"hasCustomError"),h;u=!1;i.customError=w;if(i.valid&&i.customError)i.valid=!1;else if(!i.valid){var j=!0;c.each(i,function(d,a){if(a)return j=!1});if(j)i.valid=!0}c.each(s,function(a,g){i[a]=
g(k,x,n,i);if(i[a]&&(i.valid||!h)&&(o||f[n.type]&&f[n.type].mismatch))r[d].call(b,e.createValidationMessage(b,a)),i.valid=!1,h=!0});i.valid?(r[d].call(b,""),e.data(b,"hasCustomError",!1)):o&&!h&&!w&&c.each(i,function(a,g){if("valid"!==a&&g)return r[d].call(b,e.createValidationMessage(b,a)),!1});return i}},writeable:!1}})});k.forEach(function(d){e.onNodeNamesPropertyModify(q,d,function(){h(this)})});if(j.addEventListener){var b,l=function(d){if("form"in d.target){var a=d.target.form;clearTimeout(b);
h(d.target);a&&o&&c("input",a).each(function(){"password"==this.type&&h(this)})}};j.addEventListener("change",l,!0);o&&(j.addEventListener("blur",l,!0),j.addEventListener("keydown",function(d){13==d.keyCode&&l(d)},!0));j.addEventListener("input",function(d){clearTimeout(b);b=setTimeout(function(){h(d.target)},290)},!0)}var a=q.join(",");e.addReady(function(d,b){c(a,d).add(b.filter(a)).each(function(){c.prop(this,"validity")})});o&&e.ready("DOM form-message",function(){e.activeLang({register:"form-core",
callback:function(){c("input, select, textarea").getNativeElement().each(function(){if(!e.data(this,"hasCustomError")){var d=this,a=c.prop(d,"validity")||{valid:!0},b;a.valid||(b=(d.nodeName||"").toLowerCase(),c.each(a,function(a,c){if("valid"!==a&&c)return r[b].call(d,e.createValidationMessage(d,a)),!1}))}})}})})}e.defineNodeNameProperty("input","type",{prop:{get:function(){var a=(this.getAttribute("type")||"").toLowerCase();return e.inputTypes[a]?a:this.type}}})}});
jQuery.webshims.register("form-number-date-api",function(c,e){var m,j,t;if(!e.getStep)e.getStep=function(b,e){var a=c.attr(b,"step");if("any"===a)return a;e=e||p(b);if(!f[e]||!f[e].step)return a;a=m.asNumber(a);return(!isNaN(a)&&0<a?a:f[e].step)*f[e].stepScaleFactor};if(!e.addMinMaxNumberToCache)e.addMinMaxNumberToCache=function(b,c,a){b+"AsNumber"in a||(a[b+"AsNumber"]=f[a.type].asNumber(c.attr(b)),isNaN(a[b+"AsNumber"])&&b+"Default"in f[a.type]&&(a[b+"AsNumber"]=f[a.type][b+"Default"]))};var k=
parseInt("NaN",10),f=e.inputTypes,s=function(b){return"number"==typeof b||b&&b==1*b},o=function(b){return c('<input type="'+b+'" />').prop("type")===b},p=function(b){return(b.getAttribute("type")||"").toLowerCase()},v=e.addMinMaxNumberToCache,q=function(b,c){for(var b=""+b,c=c-b.length,a=0;a<c;a++)b="0"+b;return b},h=e.bugs.valueAsNumberSet||e.bugs.bustedValidity;e.addValidityRule("stepMismatch",function(b,c,a,d){if(""===c)return!1;if(!("type"in a))a.type=p(b[0]);if("date"==a.type)return!1;d=(d||
{}).stepMismatch;if(f[a.type]&&f[a.type].step){if(!("step"in a))a.step=e.getStep(b[0],a.type);if("any"==a.step)return!1;if(!("valueAsNumber"in a))a.valueAsNumber=f[a.type].asNumber(c);if(isNaN(a.valueAsNumber))return!1;v("min",b,a);b=a.minAsNumber;isNaN(b)&&(b=f[a.type].stepBase||0);d=Math.abs((a.valueAsNumber-b)%a.step);d=!(1.0E-7>=d||1.0E-7>=Math.abs(d-a.step))}return d});[{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",factor:-1}].forEach(function(c){e.addValidityRule(c.name,
function(e,a,d,g){g=(g||{})[c.name]||!1;if(""===a)return g;if(!("type"in d))d.type=p(e[0]);if(f[d.type]&&f[d.type].asNumber){if(!("valueAsNumber"in d))d.valueAsNumber=f[d.type].asNumber(a);if(isNaN(d.valueAsNumber))return!1;v(c.attr,e,d);if(isNaN(d[c.attr+"AsNumber"]))return g;g=d[c.attr+"AsNumber"]*c.factor<d.valueAsNumber*c.factor-1.0E-7}return g})});e.reflectProperties(["input"],["max","min","step"]);var r=e.defineNodeNameProperty("input","valueAsNumber",{prop:{get:function(){var b=p(this),b=f[b]&&
f[b].asNumber?f[b].asNumber(c.prop(this,"value")):r.prop._supget&&r.prop._supget.apply(this,arguments);null==b&&(b=k);return b},set:function(b){var l=p(this);f[l]&&f[l].numberToString?isNaN(b)?c.prop(this,"value",""):(l=f[l].numberToString(b),!1!==l?c.prop(this,"value",l):e.warn("INVALID_STATE_ERR: DOM Exception 11")):r.prop._supset&&r.prop._supset.apply(this,arguments)}}}),u=e.defineNodeNameProperty("input","valueAsDate",{prop:{get:function(){var b=p(this);return f[b]&&f[b].asDate&&!f[b].noAsDate?
f[b].asDate(c.prop(this,"value")):u.prop._supget&&u.prop._supget.call(this)||null},set:function(b){var l=p(this);if(f[l]&&f[l].dateToString&&!f[l].noAsDate){if(null===b)return c.prop(this,"value",""),"";l=f[l].dateToString(b);if(!1!==l)return c.prop(this,"value",l),l;e.warn("INVALID_STATE_ERR: DOM Exception 11")}else return u.prop._supset&&u.prop._supset.apply(this,arguments)||null}}});m={mismatch:function(c){return!s(c)},step:1,stepScaleFactor:1,asNumber:function(c){return s(c)?1*c:k},numberToString:function(c){return s(c)?
c:!1}};j={minDefault:0,maxDefault:100};t={mismatch:function(b){if(!b||!b.split||!/\d$/.test(b))return!0;var e=b.split(/\u002D/);if(3!==e.length)return!0;var a=!1;c.each(e,function(d,c){if(!(s(c)||c&&c=="0"+1*c))return a=!0,!1});if(a)return a;if(4!==e[0].length||2!=e[1].length||12<e[1]||2!=e[2].length||33<e[2])a=!0;return b!==this.dateToString(this.asDate(b,!0))},step:1,stepScaleFactor:864E5,asDate:function(c,e){return!e&&this.mismatch(c)?null:new Date(this.asNumber(c,!0))},asNumber:function(c,e){var a=
k;if(e||!this.mismatch(c))c=c.split(/\u002D/),a=Date.UTC(c[0],c[1]-1,c[2]);return a},numberToString:function(c){return s(c)?this.dateToString(new Date(1*c)):!1},dateToString:function(c){return c&&c.getFullYear?c.getUTCFullYear()+"-"+q(c.getUTCMonth()+1,2)+"-"+q(c.getUTCDate(),2):!1}};if(h||!o("range")||!o("time"))j=c.extend({},m,j);(h||!o("number"))&&e.addInputType("number",m);(h||!o("range"))&&e.addInputType("range",j);(h||!o("date"))&&e.addInputType("date",t)});
jQuery.webshims.register("form-number-date-ui",function(c,e,m,j,t,k){var f=e.triggerInlineForm,s=Modernizr.inputtypes,o=function(){var c={"padding-box":"innerWidth","border-box":"outerWidth","content-box":"width"},d=Modernizr.prefixed&&Modernizr.prefixed("boxSizing");return function(g,e){var b,i,f;i="width";d&&(i=c[g.css(d)]||i);b=g[i]();i="width"==i;if(b){var n=parseInt(e.css("marginLeft"),10)||0,k=e.outerWidth();(f=parseInt(g.css("marginRight"),10)||0)&&g.css("marginRight",0);n<=-1*k?(e.css("marginRight",
Math.floor(Math.abs(k+n)+f)),g.css("paddingRight",(parseInt(g.css("paddingRight"),10)||0)+Math.abs(n)),i&&g.css("width",Math.floor(b+n))):(e.css("marginRight",f),g.css("width",Math.floor(b-n-k)))}}}(),p={},v=c([]),q,h=function(a,d){c("input",a).add(d.filter("input")).each(function(){var a=c.prop(this,"type");if(h[a]&&!e.data(this,"shadowData"))h[a](c(this))})},r=function(a,d){if(k.lazyDate){var g=c.data(a[0],"setDateLazyTimer");g&&clearTimeout(g);c.data(a[0],"setDateLazyTimer",setTimeout(function(){a.datepicker("setDate",
d);c.removeData(a[0],"setDateLazyTimer");a=null},0))}else a.datepicker("setDate",d)};if(k.lazyDate===t)try{k.lazyDate=c.browser.msie&&9>e.browserVersion||500>c(m).width()&&500>c(m).height()}catch(u){}var b={tabindex:1,tabIndex:1,title:1,"aria-required":1,"aria-invalid":1};if(!k.copyAttrs)k.copyAttrs={};e.extendUNDEFProp(k.copyAttrs,b);h.common=function(a,d,g){Modernizr.formvalidation&&a.bind("firstinvalid",function(c){(e.fromSubmit||!q)&&a.unbind("invalid.replacedwidgetbubble").bind("invalid.replacedwidgetbubble",
function(d){!c.isInvalidUIPrevented()&&!d.isDefaultPrevented()&&(e.validityAlert.showFor(c.target),c.preventDefault(),d.preventDefault());a.unbind("invalid.replacedwidgetbubble")})});var f,h,i=c("input, span.ui-slider-handle",d),l=a[0].attributes;for(f in k.copyAttrs)if((h=l[f])&&h.specified)b[f]&&i[0]?i.attr(f,h.nodeValue):d[0].setAttribute(f,h.nodeValue);h=a.attr("id");f=k.calculateWidth?{css:{marginRight:a.css("marginRight"),marginLeft:a.css("marginLeft")},outerWidth:a.outerWidth()}:{};f.label=
h?c('label[for="'+h+'"]',a[0].form):v;h=e.getID(f.label);d.addClass(a[0].className);e.addShadowDom(a,d,{data:g||{},shadowFocusElement:c("input.input-datetime-local-date, span.ui-slider-handle",d)[0],shadowChilds:i});a.after(d).hide();a[0].form&&c(a[0].form).bind("reset",function(c){c.originalEvent&&!c.isDefaultPrevented()&&setTimeout(function(){a.prop("value",a.prop("value"))},0)});1==d.length&&!c("*",d)[0]&&(d.attr("aria-labelledby",h),f.label.bind("click",function(){d.focus();return!1}));return f};
Modernizr.formvalidation&&["input","form"].forEach(function(c){var d=e.defineNodeNameProperty(c,"checkValidity",{prop:{value:function(){q=!0;var c=d.prop._supvalue.apply(this,arguments);q=!1;return c}}})});if(!s.date||k.replaceUI){var l=function(a,d,g,b){var f,i,h=function(){n.dpDiv.unbind("mousedown.webshimsmousedownhandler");i=f=!1},n=d.bind("focusin",function(){h();n.dpDiv.unbind("mousedown.webshimsmousedownhandler").bind("mousedown.webshimsmousedownhandler",function(){f=!0})}).bind("focusout blur",
function(c){f&&(i=!0,c.stopImmediatePropagation())}).datepicker(c.extend(!0,{onClose:function(){i&&d.not(":focus")?(h(),d.trigger("focusout"),d.triggerHandler("blur")):h()}},p,k.datepicker,a.data("datepicker"))).bind("change",g).data("datepicker");n.dpDiv.addClass("input-date-datepicker-control");b&&e.triggerDomUpdate(b[0]);"disabled,min,max,value,step,placeholder".split(",").forEach(function(c){var d=a.prop(c);""!==d&&("disabled"!=c||!d)&&a.prop(c,d)});return n};h.date=function(a){if(c.fn.datepicker){var d=
c('<input class="input-date" type="text" />'),g=this.common(a,d,h.date.attrs),b=l(a,d,function(g){h.date.blockAttr=!0;var b;if(k.lazyDate){var e=c.data(d[0],"setDateLazyTimer");e&&(clearTimeout(e),c.removeData(d[0],"setDateLazyTimer"))}try{b=(b=c.datepicker.parseDate(d.datepicker("option","dateFormat"),d.prop("value")))?c.datepicker.formatDate("yy-mm-dd",b):d.prop("value")}catch(n){b=d.prop("value")}a.prop("value",b);h.date.blockAttr=!1;g.stopImmediatePropagation();f(a[0],"input");f(a[0],"change")});
g.css&&(d.css(g.css),g.outerWidth&&d.outerWidth(g.outerWidth),b.trigger[0]&&o(d,b.trigger))}};h.date.attrs={disabled:function(a,d,b){c.prop(d,"disabled",!!b)},min:function(a,d,b){try{b=c.datepicker.parseDate("yy-mm-dd",b)}catch(e){b=!1}b&&c(d).datepicker("option","minDate",b)},max:function(a,d,b){try{b=c.datepicker.parseDate("yy-mm-dd",b)}catch(e){b=!1}b&&c(d).datepicker("option","maxDate",b)},placeholder:function(a,d,b){a=(b||"").split("-");3==a.length&&(b=c(d).datepicker("option","dateFormat").replace("yy",
a[0]).replace("mm",a[1]).replace("dd",a[2]));c.prop(d,"placeholder",b)},value:function(a,d,b){if(!h.date.blockAttr){try{var e=c.datepicker.parseDate("yy-mm-dd",b)}catch(f){e=!1}e?r(c(d),e):c.prop(d,"value",b)}}}}if(!s.range||k.replaceUI)h.range=function(a){if(c.fn.slider){var d=c('<span class="input-range"><span class="ui-slider-handle" role="slider" tabindex="0" /></span>'),b=this.common(a,d,h.range.attrs);c("span",d).attr("aria-labelledby",b.label.attr("id"));b.label.bind("click",function(){c("span",
d).focus();return!1});b.css&&(d.css(b.css),b.outerWidth&&d.outerWidth(b.outerWidth));d.slider(c.extend(!0,{},k.slider,a.data("slider"))).bind("slide",function(c,d){if(c.originalEvent)h.range.blockAttr=!0,a.prop("value",d.value),h.range.blockAttr=!1,f(a[0],"input"),f(a[0],"change")});["disabled","min","max","step","value"].forEach(function(d){var b=a.attr(d),e;"value"==d&&!b&&(e=a.getShadowElement())&&(b=(c(e).slider("option","max")-c(e).slider("option","min"))/2);null!=b&&a.attr(d,b)})}},h.range.attrs=
{disabled:function(a,d,b){b=!!b;c(d).slider("option","disabled",b);c("span",d).attr({"aria-disabled":b+"",tabindex:b?"-1":"0"})},min:function(a,d,b){b=b?1*b||0:0;c(d).slider("option","min",b);c("span",d).attr({"aria-valuemin":b})},max:function(a,d,b){b=b||0===b?1*b||100:100;c(d).slider("option","max",b);c("span",d).attr({"aria-valuemax":b})},value:function(b,d,e){e=c(b).prop("valueAsNumber");isNaN(e)||(h.range.blockAttr||c(d).slider("option","value",e),c("span",d).attr({"aria-valuenow":e,"aria-valuetext":e}))},
step:function(b,d,e){e=e&&c.trim(e)?1*e||1:1;c(d).slider("option","step",e)}};if(!e.bugs.valueAsNumberSet&&(k.replaceUI||!Modernizr.inputtypes.date||!Modernizr.inputtypes.range))m=function(){e.data(this,"hasShadow")&&c.prop(this,"value",c.prop(this,"value"))},e.onNodeNamesPropertyModify("input","valueAsNumber",m),e.onNodeNamesPropertyModify("input","valueAsDate",m);c.each("disabled,min,max,value,step,placeholder".split(","),function(c,b){e.onNodeNamesPropertyModify("input",b,function(c){var a=e.data(this,
"shadowData");if(a&&a.data&&a.data[b]&&a.nativeElement===this)a.data[b](this,a.shadowElement,c)})});if(!k.availabeLangs)k.availabeLangs="af ar ar-DZ az bg bs ca cs da de el en-AU en-GB en-NZ eo es et eu fa fi fo fr fr-CH gl he hr hu hy id is it ja ko kz lt lv ml ms nl no pl pt-BR rm ro ru sk sl sq sr sr-SR sv ta th tr uk vi zh-CN zh-HK zh-TW".split(" ");m=function(){c.datepicker&&(e.activeLang({langObj:c.datepicker.regional,module:"form-number-date-ui",callback:function(b){c("input.hasDatepicker").filter(".input-date, .input-datetime-local-date").datepicker("option",
c.extend(!0,p,b,k.datepicker)).getNativeElement().filter("[placeholder]").prop("placeholder",function(c,b){return b})}}),c(j).unbind("jquery-uiReady.langchange input-widgetsReady.langchange"))};c(j).bind("jquery-uiReady.langchange input-widgetsReady.langchange",m);m();(function(){var b=function(){var b={};return function(d){return d in b?b[d]:b[d]=c('<input type="'+d+'" />')[0].type===d}}();if(!b("number")){var d=e.cfg["forms-ext"],g=e.inputTypes,h=function(b,d,a){a=a||{};if(!("type"in a))a.type=
c.prop(b,"type");if(!("step"in a))a.step=e.getStep(b,a.type);if(!("valueAsNumber"in a))a.valueAsNumber=g[a.type].asNumber(c.prop(b,"value"));var f="any"==a.step?g[a.type].step*g[a.type].stepScaleFactor:a.step;e.addMinMaxNumberToCache("min",c(b),a);e.addMinMaxNumberToCache("max",c(b),a);if(isNaN(a.valueAsNumber))a.valueAsNumber=g[a.type].stepBase||0;if("any"!==a.step&&(b=Math.round(1E7*((a.valueAsNumber-(a.minAsnumber||0))%a.step))/1E7)&&Math.abs(b)!=a.step)a.valueAsNumber-=b;b=a.valueAsNumber+f*d;
return b=!isNaN(a.minAsNumber)&&b<a.minAsNumber?a.valueAsNumber*d<a.minAsNumber?a.minAsNumber:isNaN(a.maxAsNumber)?a.valueAsNumber:a.maxAsNumber:!isNaN(a.maxAsNumber)&&b>a.maxAsNumber?a.valueAsNumber*d>a.maxAsNumber?a.maxAsNumber:isNaN(a.minAsNumber)?a.valueAsNumber:a.minAsNumber:Math.round(1E7*b)/1E7};e.modules["form-number-date-ui"].getNextStep=h;var k=function(a,b,d){if(!a.disabled&&!a.readOnly&&!c(d).hasClass("step-controls")&&(c.prop(a,"value",g[b].numberToString(h(a,c(d).hasClass("step-up")?
1:-1,{type:b}))),c(a).unbind("blur.stepeventshim"),f(a,"input"),j.activeElement)){if(j.activeElement!==a)try{a.focus()}catch(e){}setTimeout(function(){if(j.activeElement!==a)try{a.focus()}catch(b){}c(a).one("blur.stepeventshim",function(){f(a,"change")})},0)}};if(d.stepArrows){var i={set:function(){var a=e.data(this,"step-controls");if(a)a[this.disabled||this.readonly?"addClass":"removeClass"]("disabled-step-control")}};e.onNodeNamesPropertyModify("input","disabled",i);e.onNodeNamesPropertyModify("input",
"readonly",c.extend({},i))}var l={38:1,40:-1};e.addReady(function(i,j){d.stepArrows&&c("input",i).add(j.filter("input")).each(function(){var i=c.prop(this,"type");if(g[i]&&g[i].asNumber&&d.stepArrows&&!(!0!==d.stepArrows&&!d.stepArrows[i]||b(i)||c(j).hasClass("has-step-controls"))){var j=this,m=c('<span class="step-controls" unselectable="on"><span class="step-up" /><span class="step-down" /></span>').insertAfter(j).bind("selectstart dragstart",function(){return!1}).bind("mousedown mousepress",function(a){k(j,
i,a.target);return!1}).bind("mousepressstart mousepressend",function(a){c(a.target)["mousepressstart"==a.type?"addClass":"removeClass"]("mousepress-ui")}),p=function(a,b){if(!j.disabled&&!j.readOnly)return c.prop(j,"value",g[i].numberToString(h(j,b,{type:i}))),f(j,"input"),!1},n=c(j).addClass("has-step-controls").attr({readonly:j.readOnly,disabled:j.disabled,autocomplete:"off",role:"spinbutton"}).bind(c.browser.msie?"keydown":"keypress",function(a){if(!j.disabled&&!j.readOnly&&l[a.keyCode])return c.prop(j,
"value",g[i].numberToString(h(j,l[a.keyCode],{type:i}))),f(j,"input"),!1});c.fn.mwheelIntent?n.add(m).bind("mwheelIntent",p):n.bind("focus",function(){n.add(m).unbind(".mwhellwebshims").bind("mousewheel.mwhellwebshims",p)}).bind("blur",function(){c(j).add(m).unbind(".mwhellwebshims")});e.data(j,"step-controls",m);d.calculateWidth&&(o(n,m),m.css("marginTop",(n.outerHeight()-m.outerHeight())/2))}})})}})();e.addReady(function(a,b){c(j).bind("jquery-uiReady.initinputui input-widgetsReady.initinputui",
function(){if(c.datepicker||c.fn.slider){if(c.datepicker&&!p.dateFormat)p.dateFormat=c.datepicker._defaults.dateFormat;h(a,b)}c.datepicker&&c.fn.slider?c(j).unbind(".initinputui"):e.modules["input-widgets"].src||e.warn('jQuery UI Widget factory is already included, but not datepicker or slider. configure src of $.webshims.modules["input-widgets"].src')})})});
