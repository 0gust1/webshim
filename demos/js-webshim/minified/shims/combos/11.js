(function(b){if(!Modernizr.genericDOM){var g=document,p,l,o=/<([\w:]+)/,h={option:1,optgroup:1,legend:1,thead:1,tr:1,td:1,col:1,area:1};b.webshims.fixHTML5=function(b){if("string"!=typeof b||h[(o.exec(b)||["",""])[1].toLowerCase()])return b;if(!l){p=g.body;if(!p)return b;l=g.createElement("div");l.style.display="none"}var n=l.cloneNode(!1);p.appendChild(n);n.innerHTML=b;p.removeChild(n);return n.childNodes}}})(jQuery);
jQuery.webshims.register("dom-extend",function(b,g,p,l,o){var h=g.modules,s=/\s*,\s*/,n={},v={},q={},x={},a={},i=b.fn.val,d=function(j,f,c,a,m){return m?i.call(b(j)):i.call(b(j),c)};b.fn.val=function(j){var f=this[0];arguments.length&&null==j&&(j="");if(!arguments.length)return!f||1!==f.nodeType?i.call(this):b.prop(f,"value",j,"val",!0);if(b.isArray(j))return i.apply(this,arguments);var c=b.isFunction(j);return this.each(function(a){f=this;1===f.nodeType&&(c?(a=j.call(f,a,b.prop(f,"value",o,"val",
!0)),null==a&&(a=""),b.prop(f,"value",a,"val")):b.prop(f,"value",j,"val"))})};var e="_webshimsLib"+Math.round(1E3*Math.random()),r=function(j,f,c){j=j.jquery?j[0]:j;if(!j)return c||{};var a=b.data(j,e);c!==o&&(a||(a=b.data(j,e,{})),f&&(a[f]=c));return f?a&&a[f]:a};[{name:"getNativeElement",prop:"nativeElement"},{name:"getShadowElement",prop:"shadowElement"},{name:"getShadowFocusElement",prop:"shadowFocusElement"}].forEach(function(j){b.fn[j.name]=function(){return this.map(function(){var b=r(this,
"shadowData");return b&&b[j.prop]||this})}});["removeAttr","prop","attr"].forEach(function(j){n[j]=b[j];b[j]=function(f,c,t,m,i){var e="val"==m,r=!e?n[j]:d;if(!f||!v[c]||1!==f.nodeType||!e&&m&&"attr"==j&&b.attrFn[c])return r(f,c,t,m,i);var y=(f.nodeName||"").toLowerCase(),g=q[y],w="attr"==j&&(!1===t||null===t)?"removeAttr":j,k,h,l;g||(g=q["*"]);g&&(g=g[c]);g&&(k=g[w]);if(k){if("value"==c)h=k.isVal,k.isVal=e;if("removeAttr"===w)return k.value.call(f);if(t===o)return k.get?k.get.call(f):k.value;k.set&&
("attr"==j&&!0===t&&(t=c),l=k.set.call(f,t));if("value"==c)k.isVal=h}else l=r(f,c,t,m,i);if((t!==o||"removeAttr"===w)&&a[y]&&a[y][c]){var s;s="removeAttr"==w?!1:"prop"==w?!!t:!0;a[y][c].forEach(function(b){if(!b.only||(b.only="prop"==j)||"attr"==b.only&&"prop"!=j)b.call(f,t,s,e?"val":w,j)})}return l};x[j]=function(f,c,a){q[f]||(q[f]={});q[f][c]||(q[f][c]={});var m=q[f][c][j],e=function(b,f,m){return f&&f[b]?f[b]:m&&m[b]?m[b]:"prop"==j&&"value"==c?function(b){return a.isVal?d(this,c,b,!1,0===arguments.length):
n[j](this,c,b)}:"prop"==j&&"value"==b&&a.value.apply?function(b){var a=n[j](this,c);a&&a.apply&&(a=a.apply(this,arguments));return a}:function(b){return n[j](this,c,b)}};q[f][c][j]=a;if(a.value===o){if(!a.set)a.set=a.writeable?e("set",a,m):g.cfg.useStrict&&"prop"==c?function(){throw c+" is readonly on "+f;}:b.noop;if(!a.get)a.get=e("get",a,m)}["value","get","set"].forEach(function(b){a[b]&&(a["_sup"+b]=e(b,m))})}});var k=!b.browser.msie||8<parseInt(b.browser.version,10),A=function(){var b=g.getPrototypeOf(l.createElement("foobar")),
a=Object.prototype.hasOwnProperty;return function(c,e,m){var d=l.createElement(c),i=g.getPrototypeOf(d);if(k&&i&&b!==i&&(!d[e]||!a.call(d,e))){var h=d[e];m._supvalue=function(){return h&&h.apply?h.apply(this,arguments):h};i[e]=m.value}else m._supvalue=function(){var b=r(this,"propValue");return b&&b[e]&&b[e].apply?b[e].apply(this,arguments):b&&b[e]},u.extendValue(c,e,m.value);m.value._supvalue=m._supvalue}}(),u=function(){var a={};g.addReady(function(f,c){var e={},d=function(a){e[a]||(e[a]=b(f.getElementsByTagName(a)),
c[0]&&b.nodeName(c[0],a)&&(e[a]=e[a].add(c)))};b.each(a,function(b,a){d(b);!a||!a.forEach?g.warn("Error: with "+b+"-property. methods: "+a):a.forEach(function(a){e[b].each(a)})});e=null});var f,c=b([]),e=function(c,e){a[c]?a[c].push(e):a[c]=[e];b.isDOMReady&&(f||b(l.getElementsByTagName(c))).each(e)};return{createTmpCache:function(a){b.isDOMReady&&(f=f||b(l.getElementsByTagName(a)));return f||c},flushTmpCache:function(){f=null},content:function(a,c){e(a,function(){var a=b.attr(this,c);null!=a&&b.attr(this,
c,a)})},createElement:function(b,a){e(b,a)},extendValue:function(a,c,f){e(a,function(){b(this).each(function(){r(this,"propValue",{})[c]=this[c];this[c]=f})})}}}(),z=function(b,a){if(b.defaultValue===o)b.defaultValue="";if(!b.removeAttr)b.removeAttr={value:function(){b[a||"prop"].set.call(this,b.defaultValue);b.removeAttr._supvalue.call(this)}}};b.extend(g,{getID:function(){var a=(new Date).getTime();return function(f){var f=b(f),c=f.attr("id");c||(a++,c="ID-"+a,f.attr("id",c));return c}}(),extendUNDEFProp:function(a,
f){b.each(f,function(b,f){b in a||(a[b]=f)})},createPropDefault:z,data:r,moveToFirstEvent:function(){var a=b._data?"_data":"data";return function(f,c,e){if((f=(b[a](f,"events")||{})[c])&&1<f.length)c=f.pop(),e||(e="bind"),"bind"==e&&f.delegateCount?f.splice(f.delegateCount,0,c):f.unshift(c)}}(),addShadowDom:function(a,f,c){c=c||{};a.jquery&&(a=a[0]);f.jquery&&(f=f[0]);if(!c.shadowFocusElement)c.shadowFocusElement=f;var d=b.data(a,e)||b.data(a,e,{}),i=b.data(f,e)||b.data(f,e,{});d.hasShadow=f;i.nativeElement=
a;i.shadowData=d.shadowData={nativeElement:a,shadowElement:f,shadowFocusElement:c.shadowFocusElement};c.shadowChilds&&c.shadowChilds.each(function(){r(this,"shadowData",i.shadowData)});if(c.data)d.shadowData.data=c.data,i.shadowData.data=c.data;c=null},propTypes:{standard:function(a){z(a);if(!a.prop)a.prop={set:function(b){a.attr.set.call(this,""+b)},get:function(){return a.attr.get.call(this)||a.defaultValue}}},"boolean":function(a){z(a);if(!a.prop)a.prop={set:function(b){b?a.attr.set.call(this,
""):a.removeAttr.value.call(this)},get:function(){return null!=a.attr.get.call(this)}}}},reflectProperties:function(a,f){"string"==typeof f&&(f=f.split(s));f.forEach(function(c){g.defineNodeNamesProperty(a,c,{prop:{set:function(a){b.attr(this,c,a)},get:function(){return b.attr(this,c)||""}}})})},defineNodeNameProperty:function(a,f,c){v[f]=!0;if(c.reflect)g.propTypes[c.propType||"standard"](c);["prop","attr","removeAttr"].forEach(function(e){var d=c[e];d&&(d="prop"===e?b.extend({writeable:!0},d):b.extend({},
d,{writeable:!0}),x[e](a,f,d),"*"!=a&&g.cfg.extendNative&&"prop"==e&&d.value&&b.isFunction(d.value)&&A(a,f,d),c[e]=d)});c.initAttr&&u.content(a,f);return c},defineNodeNameProperties:function(a,b,c,e){for(var d in b)!e&&b[d].initAttr&&u.createTmpCache(a),c&&(b[d][c]?g.log("override: "+a+"["+d+"] for "+c):(b[d][c]={},["value","set","get"].forEach(function(a){a in b[d]&&(b[d][c][a]=b[d][a],delete b[d][a])}))),b[d]=g.defineNodeNameProperty(a,d,b[d]);e||u.flushTmpCache();return b},createElement:function(a,
f,c){var e;b.isFunction(f)&&(f={after:f});u.createTmpCache(a);f.before&&u.createElement(a,f.before);c&&(e=g.defineNodeNameProperties(a,c,!1,!0));f.after&&u.createElement(a,f.after);u.flushTmpCache();return e},onNodeNamesPropertyModify:function(e,f,c,d){"string"==typeof e&&(e=e.split(s));b.isFunction(c)&&(c={set:c});e.forEach(function(b){a[b]||(a[b]={});"string"==typeof f&&(f=f.split(s));c.initAttr&&u.createTmpCache(b);f.forEach(function(f){a[b][f]||(a[b][f]=[],v[f]=!0);if(c.set){if(d)c.set.only=d;
a[b][f].push(c.set)}c.initAttr&&u.content(b,f)});u.flushTmpCache()})},defineNodeNamesBooleanProperty:function(a,f,c){c||(c={});if(b.isFunction(c))c.set=c;g.defineNodeNamesProperty(a,f,{attr:{set:function(a){this.setAttribute(f,a);c.set&&c.set.call(this,!0)},get:function(){return null==this.getAttribute(f)?o:f}},removeAttr:{value:function(){this.removeAttribute(f);c.set&&c.set.call(this,!1)}},reflect:!0,propType:"boolean",initAttr:c.initAttr||!1})},contentAttr:function(a,b,c){if(a.nodeName){if(c===
o)return c=(a.attributes[b]||{}).value,null==c?o:c;"boolean"==typeof c?c?a.setAttribute(b,b):a.removeAttribute(b):a.setAttribute(b,c)}},activeLang:function(){var a=[],f={},c,e,d=/:\/\/|^\.*\//,i=function(a,c,e){return c&&e&&-1!==b.inArray(c,e.availabeLangs||[])?(a.loading=!0,e=e.langSrc,d.test(e)||(e=g.cfg.basePath+e),g.loader.loadScript(e+c+".js",function(){a.langObj[c]?(a.loading=!1,k(a,!0)):b(function(){a.langObj[c]&&k(a,!0);a.loading=!1})}),!0):!1},r=function(a){f[a]&&f[a].forEach(function(a){a.callback()})},
k=function(a,b){if(a.activeLang!=c&&a.activeLang!==e){var f=h[a.module].options;if(a.langObj[c]||e&&a.langObj[e])a.activeLang=c,a.callback(a.langObj[c]||a.langObj[e],c),r(a.module);else if(!b&&!i(a,c,f)&&!i(a,e,f)&&a.langObj[""]&&""!==a.activeLang)a.activeLang="",a.callback(a.langObj[""],c),r(a.module)}};return function(d){if("string"==typeof d&&d!==c)c=d,e=c.split("-")[0],c==e&&(e=!1),b.each(a,function(a,b){k(b)});else if("object"==typeof d)if(d.register)f[d.register]||(f[d.register]=[]),f[d.register].push(d),
d.callback();else{if(!d.activeLang)d.activeLang="";a.push(d);k(d)}return c}}()});b.each({defineNodeNamesProperty:"defineNodeNameProperty",defineNodeNamesProperties:"defineNodeNameProperties",createElements:"createElement"},function(a,b){g[a]=function(a,e,d,i){"string"==typeof a&&(a=a.split(s));var r={};a.forEach(function(a){r[a]=g[b](a,e,d,i)});return r}});g.isReady("webshimLocalization",!0)});
(function(b,g){var p=b.webshims.browserVersion;if(!(b.browser.mozilla&&5<p)&&(!b.browser.msie||12>p&&7<p)){var l={article:"article",aside:"complementary",section:"region",nav:"navigation",address:"contentinfo"},o=function(b,g){b.getAttribute("role")||b.setAttribute("role",g)};b.webshims.addReady(function(h,s){b.each(l,function(g,a){for(var i=b(g,h).add(s.filter(g)),d=0,e=i.length;d<e;d++)o(i[d],a)});if(h===g){var n=g.getElementsByTagName("header")[0],p=g.getElementsByTagName("footer"),q=p.length;
n&&!b(n).closest("section, article")[0]&&o(n,"banner");q&&(n=p[q-1],b(n).closest("section, article")[0]||o(n,"contentinfo"))}})}})(jQuery,document);
jQuery.webshims.register("form-datalist",function(b,g,p,l,o){g.propTypes.element=function(h){g.createPropDefault(h,"attr");if(!h.prop)h.prop={get:function(){var g=h.attr.get.call(this);g&&(g=b("#"+g)[0])&&h.propNodeName&&!b.nodeName(g,h.propNodeName)&&(g=null);return g||null},writeable:!1}};(function(){if(!Modernizr.input.list){var h=0,s={submit:1,button:1,reset:1,hidden:1,range:1,date:1},n=b.browser.msie&&7>parseInt(b.browser.version,10),v={},q=function(a){if(!a)return[];if(v[a])return v[a];var b;
g.ready("json-storage",function(){try{b=JSON.parse(localStorage.getItem("storedDatalistOptions"+a))}catch(d){}v[a]=b||[]});return b||[]},x={_create:function(a){if(!s[b.prop(a.input,"type")]){var i=a.datalist,d=b.data(a.input,"datalistWidget");if(i&&d&&d.datalist!==i)d.datalist=i,d.id=a.id,d._resetListCached();else if(i){if(!(d&&d.datalist===i)){h++;var e=this;this.hideList=b.proxy(e,"hideList");this.timedHide=function(){clearTimeout(e.hideTimer);e.hideTimer=setTimeout(e.hideList,9)};this.datalist=
i;this.id=a.id;this.hasViewableData=!0;this._autocomplete=b.attr(a.input,"autocomplete");b.data(a.input,"datalistWidget",this);this.shadowList=b('<div class="datalist-polyfill" />').appendTo("body");this.index=-1;this.input=a.input;this.arrayOptions=[];this.shadowList.delegate("li","mouseenter.datalistWidget mousedown.datalistWidget click.datalistWidget",function(a){var d=b("li:not(.hidden-item)",e.shadowList),i="mousedown"==a.type||"click"==a.type;e.markItem(d.index(a.currentTarget),i,d);"click"==
a.type&&e.hideList();return"mousedown"!=a.type}).bind("focusout",this.timedHide);a.input.setAttribute("autocomplete","off");b(a.input).attr({"aria-haspopup":"true"}).bind("input.datalistWidget",function(){if(!e.triggeredByDatalist)e.changedValue=!1,e.showHideOptions()}).bind("keydown.datalistWidget",function(a){var d=a.keyCode;if(40==d&&!e.showList())return e.markItem(e.index+1,!0),!1;if(e.isListVisible){if(38==d)return e.markItem(e.index-1,!0),!1;if(!a.shiftKey&&(33==d||36==d))return e.markItem(0,
!0),!1;if(!a.shiftKey&&(34==d||35==d))return a=b("li:not(.hidden-item)",e.shadowList),e.markItem(a.length-1,!0,a),!1;if(13==d||27==d)return 13==d&&e.changeValue(b("li.active-item:not(.hidden-item)",e.shadowList)),e.hideList(),!1}}).bind("focus.datalistWidget",function(){b(this).hasClass("list-focus")&&e.showList()}).bind("blur.datalistWidget",this.timedHide);b(this.datalist).unbind("updateDatalist.datalistWidget").bind("updateDatalist.datalistWidget",b.proxy(this,"_resetListCached"));this._resetListCached();
a.input.form&&a.input.id&&b(a.input.form).bind("submit.datalistWidget"+a.input.id,function(){var d=b.prop(a.input,"value"),i=(a.input.name||a.input.id)+b.prop(a.input,"type");if(!e.storedOptions)e.storedOptions=q(i);if(d&&-1==e.storedOptions.indexOf(d)&&(e.storedOptions.push(d),d=e.storedOptions,i)){d=d||[];try{localStorage.setItem("storedDatalistOptions"+i,JSON.stringify(d))}catch(g){}}});b(p).bind("unload",function(){e.destroy()})}}else d&&d.destroy()}},destroy:function(){var a=b.attr(this.input,
"autocomplete");b(this.input).unbind(".datalistWidget").removeData("datalistWidget");this.shadowList.remove();b(l).unbind(".datalist"+this.id);this.input.form&&this.input.id&&b(this.input.form).unbind("submit.datalistWidget"+this.input.id);this.input.removeAttribute("aria-haspopup");a===o?this.input.removeAttribute("autocomplete"):b(this.input).attr("autocomplete",a)},_resetListCached:function(a){var b=this,d;this.needsUpdate=!0;this.lastUpdatedValue=!1;this.lastUnfoundValue="";this.updateTimer||
(p.QUnit||(d=a&&l.activeElement==b.input)?b.updateListOptions(d):g.ready("WINDOWLOAD",function(){b.updateTimer=setTimeout(function(){b.updateListOptions();b=null;h=1},200+100*h)}))},updateListOptions:function(a){this.needsUpdate=!1;clearTimeout(this.updateTimer);this.updateTimer=!1;this.shadowList.css({fontSize:b.curCSS(this.input,"fontSize"),fontFamily:b.curCSS(this.input,"fontFamily")});var i=[],d=[],e=[],g,k,h,l;for(k=b.prop(this.datalist,"options"),h=0,l=k.length;h<l;h++){g=k[h];if(g.disabled)return;
g={value:b(g).val()||"",text:b.trim(b.attr(g,"label")||g.textContent||g.innerText||b.text([g])||""),className:g.className||"",style:b.attr(g,"style")||""};g.text?g.text!=g.value&&(g.className+=" different-label-value"):g.text=g.value;d[h]=g.value;e[h]=g}if(!this.storedOptions)this.storedOptions=q((this.input.name||this.input.id)+b.prop(this.input,"type"));this.storedOptions.forEach(function(a){-1==d.indexOf(a)&&e.push({value:a,text:a,className:"stored-suggest",style:""})});for(h=0,l=e.length;h<l;h++)k=
e[h],i[h]='<li class="'+k.className+'" style="'+k.style+'" tabindex="-1" role="listitem"><span class="option-label">'+k.text+'</span> <span class="option-value">'+k.value+"</span></li>";this.arrayOptions=e;this.shadowList.html('<ul role="list" class="'+(this.datalist.className||"")+" "+this.datalist.id+'-shadowdom">'+i.join("\n")+"</ul>");b.fn.bgIframe&&n&&this.shadowList.bgIframe();(a||this.isListVisible)&&this.showHideOptions()},showHideOptions:function(){var a=b.prop(this.input,"value").toLowerCase();
if(!(a===this.lastUpdatedValue||this.lastUnfoundValue&&0===a.indexOf(this.lastUnfoundValue))){this.lastUpdatedValue=a;var g=!1,d=b("li",this.shadowList);a?this.arrayOptions.forEach(function(e,h){if(!("lowerText"in e))e.lowerText=e.text!=e.value?e.text.toLowerCase()+e.value.toLowerCase():e.text.toLowerCase();-1!==e.lowerText.indexOf(a)?(b(d[h]).removeClass("hidden-item"),g=!0):b(d[h]).addClass("hidden-item")}):d.length&&(d.removeClass("hidden-item"),g=!0);(this.hasViewableData=g)?this.showList():(this.lastUnfoundValue=
a,this.hideList())}},showList:function(){if(this.isListVisible)return!1;this.needsUpdate&&this.updateListOptions();this.showHideOptions();if(!this.hasViewableData)return!1;var a=this,g=b(this.input).offset();g.top+=b(this.input).outerHeight();g.width=b(this.input).outerWidth()-(parseInt(this.shadowList.css("borderLeftWidth"),10)||0)-(parseInt(this.shadowList.css("borderRightWidth"),10)||0);n&&(this.shadowList.css("height","auto"),250<this.shadowList.height()&&this.shadowList.css("height",220));this.shadowList.css(g).addClass("datalist-visible");
this.isListVisible=!0;b(l).unbind(".datalist"+this.id).bind("mousedown.datalist"+this.id+" focusin.datalist"+this.id,function(d){d.target===a.input||a.shadowList[0]===d.target||b.contains(a.shadowList[0],d.target)?(clearTimeout(a.hideTimer),setTimeout(function(){clearTimeout(a.hideTimer)},0)):a.timedHide()});return!0},hideList:function(){if(!this.isListVisible)return!1;var a=this,i=function(){a.changedValue&&b(a.input).trigger("change");a.changedValue=!1};this.shadowList.removeClass("datalist-visible list-item-active").scrollTop(0).find("li.active-item").removeClass("active-item");
this.index=-1;this.isListVisible=!1;if(this.changedValue){a.triggeredByDatalist=!0;g.triggerInlineForm&&g.triggerInlineForm(this.input,"input");if(this.input==l.activeElement||b(this.input).is(":focus"))b(this.input).one("blur",i);else i();a.triggeredByDatalist=!0}b(l).unbind(".datalist"+this.id);return!0},scrollIntoView:function(a){var g=b("> ul",this.shadowList),d=a.position();d.top-=(parseInt(g.css("paddingTop"),10)||0)+(parseInt(g.css("marginTop"),10)||0)+(parseInt(g.css("borderTopWidth"),10)||
0);0>d.top?this.shadowList.scrollTop(this.shadowList.scrollTop()+d.top-2):(d.top+=a.outerHeight(),a=this.shadowList.height(),d.top>a&&this.shadowList.scrollTop(this.shadowList.scrollTop()+(d.top-a)+2))},changeValue:function(a){if(a[0]){var a=b("span.option-value",a).text(),g=b.prop(this.input,"value");if(a!=g)b(this.input).prop("value",a).triggerHandler("updateInput"),this.changedValue=!0}},markItem:function(a,g,d){d=d||b("li:not(.hidden-item)",this.shadowList);if(d.length)0>a?a=d.length-1:a>=d.length&&
(a=0),d.removeClass("active-item"),this.shadowList.addClass("list-item-active"),d=d.filter(":eq("+a+")").addClass("active-item"),g&&(this.changeValue(d),this.scrollIntoView(d)),this.index=a}};(function(){g.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var a=b("select",this);return a[0]?a[0].options:[]}}});g.defineNodeNameProperties("input",{selectedOption:{prop:{writeable:!1,get:function(){var a=b.prop(this,"list"),g=null,d;if(!a)return g;d=b.attr(this,"value");if(!d)return g;
a=b.prop(a,"options");if(!a.length)return g;b.each(a,function(a,h){if(d==b.prop(h,"value"))return g=h,!1});return g}}},autocomplete:{attr:{get:function(){var a=b.data(this,"datalistWidget");return a?a._autocomplete:"autocomplete"in this?this.autocomplete:this.getAttribute("autocomplete")},set:function(a){var g=b.data(this,"datalistWidget");g?(g._autocomplete=a,"off"==a&&g.hideList()):"autocomplete"in this?this.autocomplete=a:this.setAttribute("autocomplete",a)}}},list:{attr:{get:function(){var a=
g.contentAttr(this,"list");return null==a?o:a},set:function(a){g.contentAttr(this,"list",a);g.objectCreate(x,o,{input:this,id:a,datalist:b.prop(this,"list")})}},initAttr:!0,reflect:!0,propType:"element",propNodeName:"datalist"}});if(b.event.customEvent)b.event.customEvent.updateDatalist=!0,b.event.customEvent.updateInput=!0;g.addReady(function(a,g){g.filter("select, option").each(function(){var a=this.parentNode,e=b.nodeName(a,"datalist");if(a&&!e)a=a.parentNode,e=b.nodeName(a,"datalist");a&&e&&b(a).triggerHandler("updateDatalist")})})})()}})()});
