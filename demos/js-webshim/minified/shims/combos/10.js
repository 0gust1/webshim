(function(){var b=Function.prototype.call,a=Object.prototype,h=b.bind(a.toString),k=b.bind(a.hasOwnProperty);if(!Array.isArray)Array.isArray=function(b){return"[object Array]"==h(b)};if(!Array.prototype.forEach)Array.prototype.forEach=function(b,e){var n=q(this),a=0,f=n.length>>>0;if("[object Function]"!=h(b))throw new TypeError;for(;a<f;)a in n&&b.call(e,n[a],a,n),a++};if(!Array.prototype.map)Array.prototype.map=function(b,e){var a=q(this),p=a.length>>>0,f=Array(p);if("[object Function]"!=h(b))throw new TypeError;
for(var i=0;i<p;i++)i in a&&(f[i]=b.call(e,a[i],i,a));return f};if(!Array.prototype.filter)Array.prototype.filter=function(b,e){var a=q(this),f=a.length>>>0,i=[];if("[object Function]"!=h(b))throw new TypeError;for(var m=0;m<f;m++)m in a&&b.call(e,a[m],m,a)&&i.push(a[m]);return i};if(!Array.prototype.every)Array.prototype.every=function(b,e){var a=q(this),f=a.length>>>0;if("[object Function]"!=h(b))throw new TypeError;for(var i=0;i<f;i++)if(i in a&&!b.call(e,a[i],i,a))return!1;return!0};if(!Array.prototype.some)Array.prototype.some=
function(b,e){var a=q(this),f=a.length>>>0;if("[object Function]"!=h(b))throw new TypeError;for(var i=0;i<f;i++)if(i in a&&b.call(e,a[i],i,a))return!0;return!1};if(!Array.prototype.reduce)Array.prototype.reduce=function(b){var a=q(this),e=a.length>>>0;if("[object Function]"!=h(b))throw new TypeError;if(!e&&1==arguments.length)throw new TypeError;var f=0,i;if(2<=arguments.length)i=arguments[1];else{do{if(f in a){i=a[f++];break}if(++f>=e)throw new TypeError;}while(1)}for(;f<e;f++)f in a&&(i=b.call(void 0,
i,a[f],f,a));return i};if(!Array.prototype.reduceRight)Array.prototype.reduceRight=function(b){var a=q(this),e=a.length>>>0;if("[object Function]"!=h(b))throw new TypeError;if(!e&&1==arguments.length)throw new TypeError;var f,e=e-1;if(2<=arguments.length)f=arguments[1];else{do{if(e in a){f=a[e--];break}if(0>--e)throw new TypeError;}while(1)}do e in this&&(f=b.call(void 0,f,a[e],e,a));while(e--);return f};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(b){var e=q(this),a=e.length>>>0;
if(!a)return-1;var f=0;1<arguments.length&&(f=u(arguments[1]));for(f=0<=f?f:a-Math.abs(f);f<a;f++)if(f in e&&e[f]===b)return f;return-1};if(!Array.prototype.lastIndexOf)Array.prototype.lastIndexOf=function(b){var e=q(this),a=e.length>>>0;if(!a)return-1;var f=a-1;1<arguments.length&&(f=u(arguments[1]));for(f=0<=f?f:a-Math.abs(f);0<=f;f--)if(f in e&&b===e[f])return f;return-1};if(!Object.keys){var f=!0,m="toString,toLocaleString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,constructor".split(","),
e=m.length,i;for(i in{toString:null})f=!1;Object.keys=function(b){if("object"!=typeof b&&"function"!=typeof b||null===b)throw new TypeError("Object.keys called on a non-object");var a=[],i;for(i in b)k(b,i)&&a.push(i);if(f)for(i=0;i<e;i++){var l=m[i];k(b,l)&&a.push(l)}return a}}if(!Date.prototype.toISOString)Date.prototype.toISOString=function(){var b,a,e;if(!isFinite(this))throw new RangeError;b=[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),
this.getUTCSeconds()];for(a=b.length;a--;)e=b[a],10>e&&(b[a]="0"+e);return b.slice(0,3).join("-")+"T"+b.slice(3).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};if(!Date.now)Date.now=function(){return(new Date).getTime()};if(!Date.prototype.toJSON)Date.prototype.toJSON=function(){if("function"!=typeof this.toISOString)throw new TypeError;return this.toISOString()};b="\t\n\u000b\u000c\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";
if(!String.prototype.trim||b.trim()){var b="["+b+"]",v=RegExp("^"+b+b+"*"),r=RegExp(b+b+"*$");String.prototype.trim=function(){return(""+this).replace(v,"").replace(r,"")}}var u=function(b){b=+b;b!==b?b=-1:0!==b&&b!==1/0&&b!==-(1/0)&&(b=(0<b||-1)*Math.floor(Math.abs(b)));return b},l="a"!="a"[0],q=function(b){if(null==b)throw new TypeError;return l&&"string"==typeof b&&b?b.split(""):Object(b)}})();
(function(b,a){var h=!(!Object.create||!Object.defineProperties||!Object.getOwnPropertyDescriptor);h&&!b.browser.msie&&Object.defineProperty&&Object.prototype.__defineGetter__&&function(){try{var b=document.createElement("foo");Object.defineProperty(b,"bar",{get:function(){return!0}});h=!!b.bar}catch(a){h=!1}b=null}();Modernizr.objectAccessor=!(!(h||Object.prototype.__defineGetter__&&Object.prototype.__lookupSetter__)||b.browser.opera&&!(11<=a.browserVersion));Modernizr.advancedObjectProperties=h;
if(!h||!Object.create||!Object.defineProperties||!Object.getOwnPropertyDescriptor||!Object.defineProperty){var k=Function.prototype.call.bind(Object.prototype.hasOwnProperty);a.objectCreate=function(b,m,e,i){var h;h=function(){};h.prototype=b;h=new h;if(!i&&!("__proto__"in h)&&!Modernizr.objectAccessor)h.__proto__=b;m&&a.defineProperties(h,m);if(e)h.options=jQuery.extend(!0,{},h.options||{},e),e=h.options;h._create&&jQuery.isFunction(h._create)&&h._create(e);return h};a.defineProperties=function(b,
m){for(var e in m)k(m,e)&&a.defineProperty(b,e,m[e]);return b};a.defineProperty=function(b,a,e){if("object"!=typeof e||null===e)return b;if(k(e,"value"))return b[a]=e.value,b;b.__defineGetter__&&("function"==typeof e.get&&b.__defineGetter__(a,e.get),"function"==typeof e.set&&b.__defineSetter__(a,e.set));return b};a.getPrototypeOf=function(b){return Object.getPrototypeOf&&Object.getPrototypeOf(b)||b.__proto__||b.constructor&&b.constructor.prototype};a.getOwnPropertyDescriptor=function(b,a){if("object"!==
typeof b&&"function"!==typeof b||null===b)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object");var e;if(Object.defineProperty&&Object.getOwnPropertyDescriptor)try{return e=Object.getOwnPropertyDescriptor(b,a)}catch(i){}e={configurable:!0,enumerable:!0,writable:!0,value:void 0};var h=b.__lookupGetter__&&b.__lookupGetter__(a),r=b.__lookupSetter__&&b.__lookupSetter__(a);if(!h&&!r){if(!k(b,a))return;e.value=b[a];return e}delete e.writable;delete e.value;e.get=e.set=void 0;if(h)e.get=
h;if(r)e.set=r;return e}}})(jQuery,jQuery.webshims);(function(b){if(!Modernizr.genericDOM){var a=document,h,k,f=/<([\w:]+)/,m={option:1,optgroup:1,legend:1,thead:1,tr:1,td:1,col:1,area:1};b.webshims.fixHTML5=function(b){if("string"!=typeof b||m[(f.exec(b)||["",""])[1].toLowerCase()])return b;if(!k){h=a.body;if(!h)return b;k=a.createElement("div");k.style.display="none"}var i=k.cloneNode(!1);h.appendChild(i);i.innerHTML=b;h.removeChild(i);return i.childNodes}}})(jQuery);
jQuery.webshims.register("dom-extend",function(b,a,h,k,f){var m=a.modules,e=/\s*,\s*/,i={},v={},r={},u={},l={},q=b.fn.val,y=function(a,c,d,g,e){return e?q.call(b(a)):q.call(b(a),d)};b.fn.val=function(a){var c=this[0];arguments.length&&null==a&&(a="");if(!arguments.length)return!c||1!==c.nodeType?q.call(this):b.prop(c,"value",a,"val",!0);if(b.isArray(a))return q.apply(this,arguments);var d=b.isFunction(a);return this.each(function(g){c=this;1===c.nodeType&&(d?(g=a.call(c,g,b.prop(c,"value",f,"val",
!0)),null==g&&(g=""),b.prop(c,"value",g,"val")):b.prop(c,"value",a,"val"))})};var t="_webshimsLib"+Math.round(1E3*Math.random()),n=function(a,c,d){a=a.jquery?a[0]:a;if(!a)return d||{};var g=b.data(a,t);d!==f&&(g||(g=b.data(a,t,{})),c&&(g[c]=d));return c?g&&g[c]:g};[{name:"getNativeElement",prop:"nativeElement"},{name:"getShadowElement",prop:"shadowElement"},{name:"getShadowFocusElement",prop:"shadowFocusElement"}].forEach(function(a){b.fn[a.name]=function(){return this.map(function(){var b=n(this,
"shadowData");return b&&b[a.prop]||this})}});["removeAttr","prop","attr"].forEach(function(e){i[e]=b[e];b[e]=function(c,d,a,j,w){var h="val"==j,m=!h?i[e]:y;if(!c||!v[d]||1!==c.nodeType||!h&&j&&"attr"==e&&b.attrFn[d])return m(c,d,a,j,w);var C=(c.nodeName||"").toLowerCase(),x=r[C],z="attr"==e&&(!1===a||null===a)?"removeAttr":e,k,n,o;x||(x=r["*"]);x&&(x=x[d]);x&&(k=x[z]);if(k){if("value"==d)n=k.isVal,k.isVal=h;if("removeAttr"===z)return k.value.call(c);if(a===f)return k.get?k.get.call(c):k.value;k.set&&
("attr"==e&&!0===a&&(a=d),o=k.set.call(c,a));if("value"==d)k.isVal=n}else o=m(c,d,a,j,w);if((a!==f||"removeAttr"===z)&&l[C]&&l[C][d]){var q;q="removeAttr"==z?!1:"prop"==z?!!a:!0;l[C][d].forEach(function(b){if(!b.only||(b.only="prop"==e)||"attr"==b.only&&"prop"!=e)b.call(c,a,q,h?"val":z,e)})}return o};u[e]=function(c,d,g){r[c]||(r[c]={});r[c][d]||(r[c][d]={});var j=r[c][d][e],w=function(b,c,a){return c&&c[b]?c[b]:a&&a[b]?a[b]:"prop"==e&&"value"==d?function(b){return g.isVal?y(this,d,b,!1,0===arguments.length):
i[e](this,d,b)}:"prop"==e&&"value"==b&&g.value.apply?function(b){var c=i[e](this,d);c&&c.apply&&(c=c.apply(this,arguments));return c}:function(b){return i[e](this,d,b)}};r[c][d][e]=g;if(g.value===f){if(!g.set)g.set=g.writeable?w("set",g,j):a.cfg.useStrict&&"prop"==d?function(){throw d+" is readonly on "+c;}:b.noop;if(!g.get)g.get=w("get",g,j)}["value","get","set"].forEach(function(b){g[b]&&(g["_sup"+b]=w(b,j))})}});var p=!b.browser.msie||8<parseInt(b.browser.version,10),o=function(){var b=a.getPrototypeOf(k.createElement("foobar")),
c=Object.prototype.hasOwnProperty;return function(d,e,j){var i=k.createElement(d),f=a.getPrototypeOf(i);if(p&&f&&b!==f&&(!i[e]||!c.call(i,e))){var h=i[e];j._supvalue=function(){return h&&h.apply?h.apply(this,arguments):h};f[e]=j.value}else j._supvalue=function(){var b=n(this,"propValue");return b&&b[e]&&b[e].apply?b[e].apply(this,arguments):b&&b[e]},s.extendValue(d,e,j.value);j.value._supvalue=j._supvalue}}(),s=function(){var e={};a.addReady(function(c,d){var g={},i=function(a){g[a]||(g[a]=b(c.getElementsByTagName(a)),
d[0]&&b.nodeName(d[0],a)&&(g[a]=g[a].add(d)))};b.each(e,function(b,c){i(b);!c||!c.forEach?a.warn("Error: with "+b+"-property. methods: "+c):c.forEach(function(c){g[b].each(c)})});g=null});var c,d=b([]),g=function(d,a){e[d]?e[d].push(a):e[d]=[a];b.isDOMReady&&(c||b(k.getElementsByTagName(d))).each(a)};return{createTmpCache:function(a){b.isDOMReady&&(c=c||b(k.getElementsByTagName(a)));return c||d},flushTmpCache:function(){c=null},content:function(c,d){g(c,function(){b(this).filter("["+d+"]").attr(d,
function(b,c){return c})})},createElement:function(b,c){g(b,c)},extendValue:function(c,d,a){g(c,function(){b(this).each(function(){n(this,"propValue",{})[d]=this[d];this[d]=a})})}}}(),A=function(b,c){if(b.defaultValue===f)b.defaultValue="";if(!b.removeAttr)b.removeAttr={value:function(){b[c||"prop"].set.call(this,b.defaultValue);b.removeAttr._supvalue.call(this)}}};b.extend(a,{getID:function(){var a=(new Date).getTime();return function(c){var c=b(c),d=c.attr("id");d||(a++,d="ID-"+a,c.attr("id",d));
return d}}(),extendUNDEFProp:function(a,c){b.each(c,function(b,c){b in a||(a[b]=c)})},createPropDefault:A,data:n,moveToFirstEvent:function(){var a=b._data?"_data":"data";return function(c,d,e){if((c=(b[a](c,"events")||{})[d])&&1<c.length)d=c.pop(),e||(e="bind"),"bind"==e&&c.delegateCount?c.splice(c.delegateCount,0,d):c.unshift(d)}}(),addShadowDom:function(a,c,d){d=d||{};a.jquery&&(a=a[0]);c.jquery&&(c=c[0]);if(!d.shadowFocusElement)d.shadowFocusElement=c;var e=b.data(a,t)||b.data(a,t,{}),j=b.data(c,
t)||b.data(c,t,{});e.hasShadow=c;j.nativeElement=a;j.shadowData=e.shadowData={nativeElement:a,shadowElement:c,shadowFocusElement:d.shadowFocusElement};d.shadowChilds&&d.shadowChilds.each(function(){n(this,"shadowData",j.shadowData)});if(d.data)e.shadowData.data=d.data,j.shadowData.data=d.data;d=null},propTypes:{standard:function(b){A(b);if(!b.prop)b.prop={set:function(c){b.attr.set.call(this,""+c)},get:function(){return b.attr.get.call(this)||b.defaultValue}}},"boolean":function(b){A(b);if(!b.prop)b.prop=
{set:function(c){c?b.attr.set.call(this,""):b.removeAttr.value.call(this)},get:function(){return null!=b.attr.get.call(this)}}}},reflectProperties:function(i,c){"string"==typeof c&&(c=c.split(e));c.forEach(function(c){a.defineNodeNamesProperty(i,c,{prop:{set:function(a){b.attr(this,c,a)},get:function(){return b.attr(this,c)||""}}})})},defineNodeNameProperty:function(e,c,d){v[c]=!0;if(d.reflect)a.propTypes[d.propType||"standard"](d);["prop","attr","removeAttr"].forEach(function(g){var j=d[g];j&&(j=
"prop"===g?b.extend({writeable:!0},j):b.extend({},j,{writeable:!0}),u[g](e,c,j),"*"!=e&&a.cfg.extendNative&&"prop"==g&&j.value&&b.isFunction(j.value)&&o(e,c,j),d[g]=j)});d.initAttr&&s.content(e,c);return d},defineNodeNameProperties:function(b,c,d,e){for(var j in c)!e&&c[j].initAttr&&s.createTmpCache(b),d&&(c[j][d]?a.log("override: "+b+"["+j+"] for "+d):(c[j][d]={},["value","set","get"].forEach(function(b){b in c[j]&&(c[j][d][b]=c[j][b],delete c[j][b])}))),c[j]=a.defineNodeNameProperty(b,j,c[j]);e||
s.flushTmpCache();return c},createElement:function(e,c,d){var g;b.isFunction(c)&&(c={after:c});s.createTmpCache(e);c.before&&s.createElement(e,c.before);d&&(g=a.defineNodeNameProperties(e,d,!1,!0));c.after&&s.createElement(e,c.after);s.flushTmpCache();return g},onNodeNamesPropertyModify:function(a,c,d,g){"string"==typeof a&&(a=a.split(e));b.isFunction(d)&&(d={set:d});a.forEach(function(b){l[b]||(l[b]={});"string"==typeof c&&(c=c.split(e));d.initAttr&&s.createTmpCache(b);c.forEach(function(c){l[b][c]||
(l[b][c]=[],v[c]=!0);if(d.set){if(g)d.set.only=g;l[b][c].push(d.set)}d.initAttr&&s.content(b,c)});s.flushTmpCache()})},defineNodeNamesBooleanProperty:function(e,c,d){d||(d={});if(b.isFunction(d))d.set=d;a.defineNodeNamesProperty(e,c,{attr:{set:function(b){this.setAttribute(c,b);d.set&&d.set.call(this,!0)},get:function(){return null==this.getAttribute(c)?f:c}},removeAttr:{value:function(){this.removeAttribute(c);d.set&&d.set.call(this,!1)}},reflect:!0,propType:"boolean",initAttr:d.initAttr||!1})},
contentAttr:function(b,c,a){if(b.nodeName){if(a===f)return a=(b.attributes[c]||{}).value,null==a?f:a;"boolean"==typeof a?a?b.setAttribute(c,c):b.removeAttribute(c):b.setAttribute(c,a)}},activeLang:function(){var e=[],c={},d,g,i=/:\/\/|^\.*\//,f=function(c,d,e){return d&&e&&-1!==b.inArray(d,e.availabeLangs||[])?(c.loading=!0,e=e.langSrc,i.test(e)||(e=a.cfg.basePath+e),a.loader.loadScript(e+d+".js",function(){c.langObj[d]?(c.loading=!1,k(c,!0)):b(function(){c.langObj[d]&&k(c,!0);c.loading=!1})}),!0):
!1},h=function(b){c[b]&&c[b].forEach(function(b){b.callback()})},k=function(b,c){if(b.activeLang!=d&&b.activeLang!==g){var a=m[b.module].options;if(b.langObj[d]||g&&b.langObj[g])b.activeLang=d,b.callback(b.langObj[d]||b.langObj[g],d),h(b.module);else if(!c&&!f(b,d,a)&&!f(b,g,a)&&b.langObj[""]&&""!==b.activeLang)b.activeLang="",b.callback(b.langObj[""],d),h(b.module)}};return function(a){if("string"==typeof a&&a!==d)d=a,g=d.split("-")[0],d==g&&(g=!1),b.each(e,function(b,c){k(c)});else if("object"==
typeof a)if(a.register)c[a.register]||(c[a.register]=[]),c[a.register].push(a),a.callback();else{if(!a.activeLang)a.activeLang="";e.push(a);k(a)}return d}}()});b.each({defineNodeNamesProperty:"defineNodeNameProperty",defineNodeNamesProperties:"defineNodeNameProperties",createElements:"createElement"},function(b,c){a[b]=function(b,g,i,f){"string"==typeof b&&(b=b.split(e));var h={};b.forEach(function(b){h[b]=a[c](b,g,i,f)});return h}});a.isReady("webshimLocalization",!0)});
(function(b,a){var h=b.webshims.browserVersion;if(!(b.browser.mozilla&&5<h)&&(!b.browser.msie||12>h&&7<h)){var k={article:"article",aside:"complementary",section:"region",nav:"navigation",address:"contentinfo"},f=function(b,a){b.getAttribute("role")||b.setAttribute("role",a)};b.webshims.addReady(function(h,e){b.each(k,function(a,i){for(var k=b(a,h).add(e.filter(a)),r=0,t=k.length;r<t;r++)f(k[r],i)});if(h===a){var i=a.getElementsByTagName("header")[0],v=a.getElementsByTagName("footer"),r=v.length;
i&&!b(i).closest("section, article")[0]&&f(i,"banner");r&&(i=v[r-1],b(i).closest("section, article")[0]||f(i,"contentinfo"))}})}})(jQuery,document);
(function(b,a,h){var k=a.audio&&a.video,f=!1;if(k){var m=document.createElement("video");a.videoBuffered="buffered"in m;f="loop"in m;h.capturingEvents("play,playing,waiting,paused,ended,durationchange,loadedmetadata,canplay,volumechange".split(","));a.videoBuffered||(h.addPolyfill("mediaelement-native-fix",{f:"mediaelement",test:a.videoBuffered,dependencies:["dom-support"]}),h.reTest("mediaelement-native-fix"))}b.webshims.ready("dom-support swfobject",function(b,a,h,m,u){var l=a.mediaelement,q=a.cfg.mediaelement,
y=function(c,d){var c=b(c),g={src:c.attr("src")||"",elem:c,srcProp:c.prop("src")};if(!g.src)return g;var j=c.attr("type");if(j)g.type=j,g.container=b.trim(j.split(";")[0]);else if(d||(d=c[0].nodeName.toLowerCase(),"source"==d&&(d=(c.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),j=l.getTypeForSrc(g.src,d))g.type=j,g.container=j,a.warn("you should always provide a proper mime-type using the source element. "+g.src+" detected as: "+j),b.nodeName(c[0],"source")&&c.attr("type",
j);if(j=c.attr("media"))g.media=j;return g},t=swfobject.hasFlashPlayerVersion("9.0.115"),n=function(){a.ready("mediaelement-swf",function(){if(!l.createSWF)a.modules["mediaelement-swf"].test=b.noop,a.reTest(["mediaelement-swf"],k)})};l.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":"mp4,mpg4,m4r,m4a,m4p,m4b,aac".split(","),"audio/wav":["wav"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"],"audio/fla":["flv","f4a","fla"],"application/x-mpegURL":["m3u8",
"m3u"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"],"application/x-mpegURL":["m3u8","m3u"],"video/MP2T":["ts"]}};l.mimeTypes.source=b.extend({},l.mimeTypes.audio,l.mimeTypes.video);l.getTypeForSrc=function(a,d){if(-1!=a.indexOf("youtube.com/watch?"))return"video/youtube";var a=
a.split("?")[0].split("."),a=a[a.length-1],g;b.each(l.mimeTypes[d],function(b,d){if(-1!==d.indexOf(a))return g=b,!1});return g};l.srces=function(a,d){a=b(a);if(d)a.removeAttr("src").removeAttr("type").find("source").remove(),b.isArray(d)||(d=[d]),d.forEach(function(b){var d=m.createElement("source");"string"==typeof b&&(b={src:b});d.setAttribute("src",b.src);b.type&&d.setAttribute("type",b.type);b.media&&d.setAttribute("media",b.media);a.append(d)});else{var d=[],g=a[0].nodeName.toLowerCase(),j=y(a,
g);j.src?d.push(j):b("source",a).each(function(){j=y(this,g);j.src&&d.push(j)});return d}};b.fn.loadMediaSrc=function(a,d){return this.each(function(){d!==u&&(b(this).removeAttr("poster"),d&&b.attr(this,"poster",d));l.srces(this,a);b(this).mediaLoad()})};l.swfMimeTypes="video/3gpp,video/x-msvideo,video/quicktime,video/x-m4v,video/mp4,video/m4p,video/x-flv,video/flv,audio/mpeg,audio/aac,audio/mp4,audio/x-m4a,audio/m4a,audio/mp3,audio/x-fla,audio/fla,youtube/flv,jwplayer/jwplayer,video/youtube".split(",");
l.canSwfPlaySrces=function(a,d){var g="";t&&(a=b(a),d=d||l.srces(a),b.each(d,function(b,a){if(a.container&&a.src&&-1!=l.swfMimeTypes.indexOf(a.container))return g=a,!1}));return g};var p={};l.canNativePlaySrces=function(a,d){var g="";if(k){var a=b(a),j=(a[0].nodeName||"").toLowerCase();if(!p[j])return g;d=d||l.srces(a);b.each(d,function(b,d){if(d.type&&p[j].prop._supvalue.call(a[0],d.type))return g=d,!1})}return g};l.setError=function(c,d){d||(d="can't play sources");b(c).pause().data("mediaerror",
d);a.warn("mediaelementError: "+d);setTimeout(function(){b(c).data("mediaerror")&&b(c).trigger("mediaerror")},1)};var o=function(){var b;return function(d,e,j){a.ready("mediaelement-swf",function(){l.createSWF?l.createSWF(d,e,j):b||(b=!0,n(),o(d,e,j))})}}(),s=function(b,a,e,j,f){e||!1!==e&&a&&"flash"==a.isActive?(e=l.canSwfPlaySrces(b,j))?o(b,e,a):f?l.setError(b,!1):s(b,a,!1,j,!0):(e=l.canNativePlaySrces(b,j))?a&&"flash"==a.isActive&&l.setActive(b,"html5",a):f?(l.setError(b,!1),a&&"flash"==a.isActive&&
l.setActive(b,"html5",a)):s(b,a,!0,j,!0)},A=/^(?:embed|object)$/i,B=function(c,d){var g=a.data(c,"mediaelementBase")||a.data(c,"mediaelementBase",{}),f=l.srces(c),h=c.parentNode;clearTimeout(g.loadTimer);b.data(c,"mediaerror",!1);if(f.length&&h&&!A.test(h.nodeName||""))d=d||a.data(c,"mediaelement"),s(c,d,q.preferFlash||u,f)};b(m).bind("ended",function(c){var d=a.data(c.target,"mediaelement");(!f||d&&"html5"!=d.isActive||b.prop(c.target,"loop"))&&setTimeout(function(){!b.prop(c.target,"paused")&&b.prop(c.target,
"loop")&&b(c.target).prop("currentTime",0).play()},1)});f||a.defineNodeNamesBooleanProperty(["audio","video"],"loop");["audio","video"].forEach(function(c){var d=a.defineNodeNameProperty(c,"load",{prop:{value:function(){var b=a.data(this,"mediaelement");B(this,b);k&&(!b||"html5"==b.isActive)&&d.prop._supvalue&&d.prop._supvalue.apply(this,arguments)}}});p[c]=a.defineNodeNameProperty(c,"canPlayType",{prop:{value:function(a){var d="";k&&p[c].prop._supvalue&&(d=p[c].prop._supvalue.call(this,a),"no"==
d&&(d=""));!d&&t&&(a=b.trim((a||"").split(";")[0]),-1!=l.swfMimeTypes.indexOf(a)&&(d="maybe"));return d}}})});a.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var b=this,d=a.data(b,"mediaelementBase")||a.data(b,"mediaelementBase",{});clearTimeout(d.loadTimer);d.loadTimer=setTimeout(function(){B(b);b=null},9)}});k&&a.isReady("mediaelement-core",!0);a.addReady(function(c,d){b("video, audio",c).add(d.filter("video, audio")).each(function(){b.browser.msie&&8<a.browserVersion&&
b.prop(this,"paused")&&!b.prop(this,"readyState")&&b(this).is('audio[preload="none"][controls]:not([autoplay])')?b(this).prop("preload","metadata").mediaLoad():B(this);if(k){var c,d,f=this,h=function(){var a=b.prop(f,"buffered");if(a){for(var c="",d=0,g=a.length;d<g;d++)c+=a.end(d);return c}},l=function(){var a=h();a!=d&&(d=a,b(f).triggerHandler("progress"))};b(this).bind("play loadstart progress",function(b){"progress"==b.type&&(d=h());clearTimeout(c);c=setTimeout(l,999)}).bind("emptied stalled mediaerror abort suspend",
function(b){"emptied"==b.type&&(d=!1);clearTimeout(c)})}})});k?t&&a.ready("WINDOWLOAD",n):a.isReady("mediaelement-core",!0)})})(jQuery,Modernizr,jQuery.webshims);
jQuery.webshims.register("mediaelement-swf",function(b,a,h,k,f,m){var e=a.mediaelement,i=h.swfobject,v=Modernizr.audio&&Modernizr.video,r=i.hasFlashPlayerVersion("9.0.115"),u=0,h={paused:!0,ended:!1,currentSrc:"",duration:h.NaN,readyState:0,networkState:0,videoHeight:0,videoWidth:0,error:null,buffered:{start:function(b){if(b)a.error("buffered index size error");else return 0},end:function(b){if(b)a.error("buffered index size error");else return 0},length:0}},l=Object.keys(h),q={currentTime:0,volume:1,
muted:!1};Object.keys(q);var y=b.extend({isActive:"html5",activating:"html5",wasSwfReady:!1,_bufferedEnd:0,_bufferedStart:0,_metadata:!1,_durationCalcs:-1,_callMeta:!1,currentTime:0,_ppFlag:f},h,q),t=/^jwplayer-/,n=function(b){if(b=k.getElementById(b.replace(t,"")))return b=a.data(b,"mediaelement"),"flash"==b.isActive?b:null},p=function(b){return(b=a.data(b,"mediaelement"))&&"flash"==b.isActive?b:null},o=function(a,c){c=b.Event(c);c.preventDefault();b.event.trigger(c,f,a)},s=m.playerPath||a.cfg.basePath+
"jwplayer/"+(m.playerName||"player.swf"),A=m.pluginPath||a.cfg.basePath+"swf/jwwebshims.swf";a.extendUNDEFProp(m.jwParams,{allowscriptaccess:"always",allowfullscreen:"true",wmode:"transparent"});a.extendUNDEFProp(m.jwVars,{screencolor:"ffffffff"});a.extendUNDEFProp(m.jwAttrs,{bgcolor:"#000000"});var B=function(a,c){var d=a.duration;if(!(d&&0<a._durationCalcs)){try{if(a.duration=a.jwapi.getPlaylist()[0].duration,!a.duration||0>=a.duration||a.duration===a._lastDuration)a.duration=d}catch(f){}a.duration&&
a.duration!=a._lastDuration?(o(a._elem,"durationchange"),("audio"==a._elemNodeName||a._callMeta)&&e.jwEvents.Model.META(b.extend({duration:a.duration},c),a),a._durationCalcs--):a._durationCalcs++}},c=function(b,a){3>b&&clearTimeout(a._canplaythroughTimer);if(3<=b&&3>a.readyState)a.readyState=b,o(a._elem,"canplay"),clearTimeout(a._canplaythroughTimer),a._canplaythroughTimer=setTimeout(function(){c(4,a)},4E3);if(4<=b&&4>a.readyState)a.readyState=b,o(a._elem,"canplaythrough");a.readyState=b};e.jwEvents=
{View:{PLAY:function(b){var a=n(b.id);if(a&&!a.stopPlayPause&&(a._ppFlag=!0,a.paused==b.state)){a.paused=!b.state;if(a.ended)a.ended=!1;o(a._elem,b.state?"play":"pause")}}},Model:{BUFFER:function(a){var d=n(a.id);if(d&&"percentage"in a&&d._bufferedEnd!=a.percentage){d.networkState=100==a.percentage?1:2;(isNaN(d.duration)||5<a.percentage&&25>a.percentage||100===a.percentage)&&B(d,a);if(d.ended)d.ended=!1;if(d.duration){2<a.percentage&&20>a.percentage?c(3,d):20<a.percentage&&c(4,d);if(d._bufferedEnd&&
d._bufferedEnd>a.percentage)d._bufferedStart=d.currentTime||0;d._bufferedEnd=a.percentage;d.buffered.length=1;if(100==a.percentage)d.networkState=1,c(4,d);b.event.trigger("progress",f,d._elem,!0)}}},META:function(b,a){if(a=a&&a.networkState?a:n(b.id))if("duration"in b){if(!a._metadata||!((!b.height||a.videoHeight==b.height)&&b.duration===a.duration)){a._metadata=!0;var d=a.duration;if(b.duration)a.duration=b.duration;a._lastDuration=a.duration;if(b.height||b.width)a.videoHeight=b.height||0,a.videoWidth=
b.width||0;if(!a.networkState)a.networkState=2;1>a.readyState&&c(1,a);a.duration&&d!==a.duration&&o(a._elem,"durationchange");o(a._elem,"loadedmetadata")}}else a._callMeta=!0},TIME:function(b){var a=n(b.id);if(a&&a.currentTime!==b.position){a.currentTime=b.position;a.duration&&a.duration<a.currentTime&&B(a,b);2>a.readyState&&c(2,a);if(a.ended)a.ended=!1;o(a._elem,"timeupdate")}},STATE:function(b){var a=n(b.id);if(a)switch(b.newstate){case "BUFFERING":if(a.ended)a.ended=!1;c(1,a);o(a._elem,"waiting");
break;case "PLAYING":a.paused=!1;a._ppFlag=!0;a.duration||B(a,b);3>a.readyState&&c(3,a);if(a.ended)a.ended=!1;o(a._elem,"playing");break;case "PAUSED":if(!a.paused&&!a.stopPlayPause)a.paused=!0,a._ppFlag=!0,o(a._elem,"pause");break;case "COMPLETED":4>a.readyState&&c(4,a),a.ended=!0,o(a._elem,"ended")}}},Controller:{ERROR:function(b){var a=n(b.id);a&&e.setError(a._elem,b.message)},SEEK:function(b){var a=n(b.id);if(a){if(a.ended)a.ended=!1;if(a.paused)try{a.jwapi.sendEvent("play","false")}catch(c){}if(a.currentTime!=
b.position)a.currentTime=b.position,o(a._elem,"timeupdate")}},VOLUME:function(b){var a=n(b.id);if(a&&(b=b.percentage/100,a.volume!=b))a.volume=b,o(a._elem,"volumechange")},MUTE:function(b){if(!b.state){var a=n(b.id);if(a&&a.muted!=b.state)a.muted=b.state,o(a._elem,"volumechange")}}}};var d=function(a){b.each(e.jwEvents,function(c,d){b.each(d,function(b){a.jwapi["add"+c+"Listener"](b,"jQuery.webshims.mediaelement.jwEvents."+c+"."+b)})})},g=function(a){a&&(a._ppFlag===f&&b.prop(a._elem,"autoplay")||
!a.paused)&&setTimeout(function(){if("flash"==a.isActive&&(a._ppFlag===f||!a.paused))try{b(a._elem).play()}catch(c){}},1)},j=function(a){if(a&&"video"==a._elemNodeName){var c,d,e,f,g,h,i,j,k=function(k,l){if(l&&k&&!(1>l||1>k||"flash"!=a.isActive))if(c&&(c.remove(),c=!1),f=k,g=l,clearTimeout(i),d="auto"==a._elem.style.width,e="auto"==a._elem.style.height,d||e){h=h||b(a._elem).getShadowElement();var m;d&&!e?(m=h.height(),k*=m/l,l=m):!d&&e&&(m=h.width(),l*=m/k,k=m);j=!0;setTimeout(function(){j=!1},9);
h.css({width:k,height:l})}},l=function(){if(!("flash"!=a.isActive||b.prop(a._elem,"readyState")&&b.prop(this,"videoWidth"))){var f=b.prop(a._elem,"poster");if(f&&(d="auto"==a._elem.style.width,e="auto"==a._elem.style.height,d||e))c&&(c.remove(),c=!1),c=b('<img style="position: absolute; height: auto; width: auto; top: 0px; left: 0px; visibility: hidden;" />'),c.bind("load error alreadycomplete",function(){clearTimeout(i);var a=this,d=a.naturalWidth||a.width||a.offsetWidth,e=a.naturalHeight||a.height||
a.offsetHeight;e&&d?(k(d,e),a=null):setTimeout(function(){d=a.naturalWidth||a.width||a.offsetWidth;e=a.naturalHeight||a.height||a.offsetHeight;k(d,e);c&&(c.remove(),c=!1);a=null},9);b(this).unbind()}).prop("src",f).appendTo("body").each(function(){this.complete||this.error?b(this).triggerHandler("alreadycomplete"):(clearTimeout(i),i=setTimeout(function(){b(a._elem).triggerHandler("error")},9999))})}};b(a._elem).bind("loadedmetadata",function(){k(b.prop(this,"videoWidth"),b.prop(this,"videoHeight"))}).bind("emptied",
l).bind("swfstageresize",function(){j||k(f,g)}).bind("emptied",function(){f=void 0;g=void 0}).triggerHandler("swfstageresize");l();b.prop(a._elem,"readyState")&&k(b.prop(a._elem,"videoWidth"),b.prop(a._elem,"videoHeight"))}};e.playerResize=function(a){a&&(a=k.getElementById(a.replace(t,"")))&&b(a).triggerHandler("swfstageresize")};b(k).bind("emptied",function(a){a=p(a.target);g(a)});var w;e.jwPlayerReady=function(c){var e=n(c.id);if(e&&e.jwapi){clearTimeout(w);e.jwData=c;e.shadowElem.removeClass("flashblocker-assumed");
e.wasSwfReady?b(e._elem).mediaLoad():(c=parseFloat(c.version,10),(5.6>c||6<=c)&&a.warn("mediaelement-swf is only testet with jwplayer 5.6+"),b.prop(e._elem,"volume",e.volume),b.prop(e._elem,"muted",e.muted),d(e));e.wasSwfReady=!0;var c=e.actionQueue.length,f=0,h;if(c&&"flash"==e.isActive)for(;e.actionQueue.length&&c>f;)f++,h=e.actionQueue.shift(),e.jwapi[h.fn].apply(e.jwapi,h.args);if(e.actionQueue.length)e.actionQueue=[];g(e)}};var E=b.noop;if(v){var H={play:1,playing:1},C="play,pause,playing,canplay,progress,waiting,ended,loadedmetadata,durationchange,emptied".split(","),
x=C.map(function(a){return a+".webshimspolyfill"}).join(" "),z=function(c){var d=a.data(c.target,"mediaelement");d&&(c.originalEvent&&c.originalEvent.type===c.type)==("flash"==d.activating)&&(c.stopImmediatePropagation(),H[c.type]&&d.isActive!=d.activating&&b(c.target).pause())},E=function(c){b(c).unbind(x).bind(x,z);C.forEach(function(b){a.moveToFirstEvent(c,b)})};E(k)}e.setActive=function(c,d,e){e||(e=a.data(c,"mediaelement"));if(e&&e.isActive!=d){"html5"!=d&&"flash"!=d&&a.warn("wrong type for mediaelement activating: "+
d);var f=a.data(c,"shadowData");e.activating=d;b(c).pause();e.isActive=d;"flash"==d?(f.shadowElement=f.shadowFocusElement=e.shadowElem[0],b(c).hide().getShadowElement().show()):(b(c).show().getShadowElement().hide(),f.shadowElement=f.shadowFocusElement=!1)}};var I=function(){var a="_bufferedEnd,_bufferedStart,_metadata,_ppFlag,currentSrc,currentTime,duration,ended,networkState,paused,videoHeight,videoWidth,_callMeta,_durationCalcs".split(","),b=a.length;return function(d){if(d){var e=b,f=d.networkState;
for(c(0,d);--e;)delete d[a[e]];d.actionQueue=[];d.buffered.length=0;f&&o(d._elem,"emptied")}}}(),G=function(a,c){var d=a._elem,e=a.shadowElem;b(d)[c?"addClass":"removeClass"]("webshims-controls");"audio"==a._elemNodeName&&!c?e.css({width:0,height:0}):e.css({width:d.style.width||b(d).width(),height:d.style.height||b(d).height()})};e.createSWF=function(c,d,f){if(r){1>u?u=1:u++;var g=b.extend({},m.jwVars,{image:b.prop(c,"poster")||"",file:d.srcProp}),h=b(c).data("jwvars")||{};if(f&&f.swfCreated)e.setActive(c,
"flash",f),I(f),f.currentSrc=d.srcProp,b.extend(g,h),m.changeJW(g,c,d,f,"load"),D(c,"sendEvent",["LOAD",g]);else{var k=b.prop(c,"controls"),l="jwplayer-"+a.getID(c),o=b.extend({},m.jwParams,b(c).data("jwparams")),n=c.nodeName.toLowerCase(),q=b.extend({},m.jwAttrs,{name:l,id:l},b(c).data("jwattrs")),p=b('<div class="polyfill-'+n+' polyfill-mediaelement" id="wrapper-'+l+'"><div id="'+l+'"></div>').css({position:"relative",overflow:"hidden"}),f=a.data(c,"mediaelement",a.objectCreate(y,{actionQueue:{value:[]},
shadowElem:{value:p},_elemNodeName:{value:n},_elem:{value:c},currentSrc:{value:d.srcProp},swfCreated:{value:!0},buffered:{value:{start:function(b){if(b>=f.buffered.length)a.error("buffered index size error");else return 0},end:function(b){if(b>=f.buffered.length)a.error("buffered index size error");else return(f.duration-f._bufferedStart)*f._bufferedEnd/100+f._bufferedStart},length:0}}}));G(f,k);p.insertBefore(c);v&&b.extend(f,{volume:b.prop(c,"volume"),muted:b.prop(c,"muted")});b.extend(g,{id:l,
controlbar:k?m.jwVars.controlbar||("video"==n?"over":"bottom"):"video"==n?"none":"bottom",icons:""+(k&&"video"==n)},h,{playerready:"jQuery.webshims.mediaelement.jwPlayerReady"});g.plugins=g.plugins?g.plugins+(","+A):A;a.addShadowDom(c,p);E(c);e.setActive(c,"flash",f);m.changeJW(g,c,d,f,"embed");j(f);i.embedSWF(s,l,"100%","100%","9.0.0",!1,g,o,q,function(d){if(d.success)f.jwapi=d.ref,k||b(d.ref).attr("tabindex","-1").css("outline","none"),setTimeout(function(){if(!d.ref.parentNode&&p[0].parentNode||
"none"==d.ref.style.display)p.addClass("flashblocker-assumed"),b(c).trigger("flashblocker"),a.warn("flashblocker assumed");b(d.ref).css({minHeight:"2px",minWidth:"2px",display:"block"})},9),w||(clearTimeout(w),w=setTimeout(function(){var c=b(d.ref);1<c[0].offsetWidth&&1<c[0].offsetHeight&&0===location.protocol.indexOf("file:")?a.warn("Add your local development-directory to the local-trusted security sandbox:  http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html"):
(2>c[0].offsetWidth||2>c[0].offsetHeight)&&a.info("JS-SWF connection can't be established on hidden or unconnected flash objects")},8E3))})}}else setTimeout(function(){b(c).mediaLoad()},1)};var D=function(a,b,c,d){return(d=d||p(a))?(d.jwapi&&d.jwapi[b]?d.jwapi[b].apply(d.jwapi,c||[]):(d.actionQueue.push({fn:b,args:c}),10<d.actionQueue.length&&setTimeout(function(){5<d.actionQueue.length&&d.actionQueue.shift()},99)),d):!1};["audio","video"].forEach(function(c){var d={},e,f=function(a){"audio"==c&&
("videoHeight"==a||"videoWidth"==a)||(d[a]={get:function(){var b=p(this);return b?b[a]:v&&e[a].prop._supget?e[a].prop._supget.apply(this):y[a]},writeable:!1})},g=function(a,b){f(a);delete d[a].writeable;d[a].set=b};g("volume",function(b){var c=p(this);if(c){if(b*=100,!isNaN(b)){var d=c.muted;(0>b||100<b)&&a.error("volume greater or less than allowed "+b/100);D(this,"sendEvent",["VOLUME",b],c);if(d)try{c.jwapi.sendEvent("mute","true")}catch(f){}b/=100;if(!(c.volume==b||"flash"!=c.isActive))c.volume=
b,o(c._elem,"volumechange")}}else if(e.volume.prop._supset)return e.volume.prop._supset.apply(this,arguments)});g("muted",function(a){var b=p(this);if(b){if(a=!!a,D(this,"sendEvent",["mute",""+a],b),!(b.muted==a||"flash"!=b.isActive))b.muted=a,o(b._elem,"volumechange")}else if(e.muted.prop._supset)return e.muted.prop._supset.apply(this,arguments)});g("currentTime",function(a){var b=p(this);if(b){if(a*=1,!isNaN(a)){if(b.paused)clearTimeout(b.stopPlayPause),b.stopPlayPause=setTimeout(function(){b.paused=
!0;b.stopPlayPause=!1},50);D(this,"sendEvent",["SEEK",""+a],b);if(b.paused){if(0<b.readyState)b.currentTime=a,o(b._elem,"timeupdate");try{b.jwapi.sendEvent("play","false")}catch(c){}}}}else if(e.currentTime.prop._supset)return e.currentTime.prop._supset.apply(this,arguments)});["play","pause"].forEach(function(b){d[b]={value:function(){var a=p(this);if(a)a.stopPlayPause&&clearTimeout(a.stopPlayPause),D(this,"sendEvent",["play","play"==b],a),setTimeout(function(){if("flash"==a.isActive&&(a._ppFlag=
!0,a.paused!=("play"!=b)))a.paused="play"!=b,o(a._elem,b)},1);else if(e[b].prop._supvalue)return e[b].prop._supvalue.apply(this,arguments)}}});l.forEach(f);a.onNodeNamesPropertyModify(c,"controls",function(d,e){var f=p(this);b(this)[e?"addClass":"removeClass"]("webshims-controls");if(f){try{D(this,e?"showControls":"hideControls",[c],f)}catch(g){a.warn("you need to generate a crossdomain.xml")}"audio"==c&&G(f,e);b(f.jwapi).attr("tabindex",e?"0":"-1")}});e=a.defineNodeNameProperties(c,d,"prop")});if(r){var J=
b.cleanData,K=b.browser.msie&&9>a.browserVersion,L={object:1,OBJECT:1};b.cleanData=function(a){var b,c,d;if(a&&(c=a.length)&&u)for(b=0;b<c;b++)if(L[a[b].nodeName]){if("sendEvent"in a[b]){u--;try{a[b].sendEvent("play",!1)}catch(e){}}if(K)try{for(d in a[b])"function"==typeof a[b][d]&&(a[b][d]=null)}catch(f){}}return J.apply(this,arguments)}}if(!v){var F=k.createElement("a");["poster","src"].forEach(function(c){a.defineNodeNamesProperty("src"==c?["audio","video","source"]:["video"],c,{prop:{get:function(){var a=
this.getAttribute(c);if(null==a)return"";F.setAttribute("href",a+"");return!b.support.hrefNormalized?F.getAttribute("href",4):F.href},set:function(a){b.attr(this,c,a)}}})});["autoplay","controls"].forEach(function(b){a.defineNodeNamesBooleanProperty(["audio","video"],b)});a.defineNodeNamesProperties(["audio","video"],{HAVE_CURRENT_DATA:{value:2},HAVE_ENOUGH_DATA:{value:4},HAVE_FUTURE_DATA:{value:3},HAVE_METADATA:{value:1},HAVE_NOTHING:{value:0},NETWORK_EMPTY:{value:0},NETWORK_IDLE:{value:1},NETWORK_LOADING:{value:2},
NETWORK_NO_SOURCE:{value:3}},"prop")}});
