jQuery.webshims.register("form-native-fix",function(b,e,f,j,k){if(!(!Modernizr.formvalidation||Modernizr.bugfreeformvalidation)){j=parseFloat(b.browser.version,10);var q=b.browser.webkit&&j<534.19;j=q&&j<533.18;var o=[],l,m,g,h;if(f.addEventListener){var i={timer:k,prevented:false};f.addEventListener("submit",function(a){if(!i.prevented&&a.target.checkValidity&&b.attr(a.target,"novalidate")==null){g=true;b(a.target).checkValidity();g=false}},true);k=function(a){if(b.attr(a.target,"formnovalidate")!=
null){i.timer&&clearTimeout(i.timer);i.prevented=true;i.timer=setTimeout(function(){i.prevented=false},20)}};f.addEventListener("click",k,true);f.addEventListener("touchstart",k,true);f.addEventListener("touchend",k,true)}b(document).bind("firstinvalidsystem",function(a,c){if(m=c.form){l=false;o=[];var d=b(m).unbind("submit.preventInvalidSubmit").bind("submit.preventInvalidSubmit",function(n){if(b.attr(m,"novalidate")==null){n.stopImmediatePropagation();return false}}).data("events").submit;d&&d.length>
1&&d.unshift(d.pop());if(g)l=c}}).bind("invalid",function(a){o.indexOf(a.target)==-1?o.push(a.target):a.stopImmediatePropagation()}).bind("lastinvalid",function(a,c){var d=c.invalidlist[0];if(d&&(q||!Modernizr.requiredSelect&&b.nodeName(d,"select"))&&document.activeElement&&d!==document.activeElement&&l&&!l.isInvalidUIPrevented())e.validityAlert.showFor(d);l=false;o=[];m&&b(m).unbind("submit.preventInvalidSubmit")});if(j){var r,p;(f=b(document).bind("invalid",function(a){if(a.originalEvent&&!g&&!h&&
(b.prop(a.target,"validity")||{}).valid){a.originalEvent.wrongWebkitInvalid=true;a.wrongWebkitInvalid=true;a.stopImmediatePropagation();a.preventDefault();return false}else p=true;clearTimeout(r);r=setTimeout(function(){if(a.target.form&&!p){p=false;b(a.target.form).trigger("submit")}p=false},1)}).data("events").invalid)&&f.length>1&&f.unshift(f.pop());b(document).bind("firstinvalidsystem",function(a,c){h||setTimeout(function(){c.isInvalidUIPrevented()||e.validityAlert.showFor(c.element)},0)})}(function(){if(q){["input",
"textarea","select"].forEach(function(a){var c=e.defineNodeNameProperty(a,"checkValidity",{prop:{value:function(){if(!this.willValidate)return true;var d=(b.prop(this,"validity")||{valid:true}).valid;h=true;!d&&c.prop._supvalue&&c.prop._supvalue.call(this)&&b(this).trigger("invalid");h=false;return d}}})});e.defineNodeNameProperty("form","checkValidity",{prop:{value:function(){var a=true;b(this.elements||[]).filter(function(){return this.willValidate&&!e.data(this,"nativeElement")}).each(function(){if(b(this).checkValidity()===
false)a=false});return a}}})}})();(function(){if(b.browser.opera){var a=function(c){c.preventDefault()};["form","input","textarea","select"].forEach(function(c){var d=e.defineNodeNameProperty(c,"checkValidity",{prop:{value:function(){g||b(this).bind("invalid",a);h=true;var n=d.prop._supvalue.apply(this,arguments);g||b(this).unbind("invalid",a);h=false;return n}}})})}})();Modernizr.requiredSelect||e.ready("form-extend",function(){e.addValidityRule("valueMissing",function(a,c,d,n){if(d.nodeName=="select"&&
!c&&a.prop("required")){if(!d.type)d.type=a[0].type;if(c=!c){if(!(c=a[0].selectedIndex<0)){a=a[0];c=a.type=="select-one"&&a.size<2?b("> option:first-child",a).prop("selected"):false}c=c}if(c)return true}return n.valueMissing});e.defineNodeNamesBooleanProperty(["select"],"required",{set:function(a){this.setAttribute("aria-required",a?"true":"false");b.prop(this,"validity")},initAttr:true})})}});
