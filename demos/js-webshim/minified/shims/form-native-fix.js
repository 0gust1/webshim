jQuery.webshims.register("form-native-fix",function(b,e,d,c,m){if(Modernizr.formvalidation&&!Modernizr.bugfreeformvalidation&&!e.bugs.bustedValidity){var k=b.browser.webkit,g=[],f,h;if(d.addEventListener){var i=m,j=!1;d.addEventListener("submit",function(a){if(!j&&a.target.checkValidity&&null==b.attr(a.target,"novalidate")&&(b("input:invalid, select:invalid, textarea:invalid",a.target).length&&(b(a.target).unbind("submit.preventInvalidSubmit").bind("submit.preventInvalidSubmit",function(l){null==
b.attr(a.target,"novalidate")&&(l.stopImmediatePropagation(),k&&l.preventDefault());a.target&&b(a.target).unbind("submit.preventInvalidSubmit")}),e.moveToFirstEvent(a.target,"submit")),!d.opera))e.fromSubmit=!0,b(a.target).checkValidity(),e.fromSubmit=!1},!0);c=function(a){null!=b.attr(a.target,"formnovalidate")&&(i&&clearTimeout(i),j=!0,i=setTimeout(function(){j=!1},20))};d.addEventListener("click",c,!0);d.addEventListener("touchstart",c,!0);d.addEventListener("touchend",c,!0)}b(document).bind("firstinvalidsystem",
function(a,b){if(h=b.form)f=!1,g=[],e.fromSubmit&&(f=b)}).bind("invalid",function(a){-1==g.indexOf(a.target)?g.push(a.target):a.stopImmediatePropagation()}).bind("lastinvalid",function(a,d){var c=d.invalidlist[0];c&&(k||b.nodeName(c,"select"))&&document.activeElement&&c!==document.activeElement&&f&&!f.isInvalidUIPrevented()&&e.validityAlert.showFor(c);f=!1;g=[];h&&b(h).unbind("submit.preventInvalidSubmit")})}});
