jQuery.webshims.register("form-native-fix",function(c,f,e,q,j){if(!(!Modernizr.formvalidation||Modernizr.bugfreeformvalidation)){var p=c.browser.webkit;q=p&&parseFloat(c.browser.version,10)<533.18;var n=[],k,l,g,h;if(e.addEventListener){var i={timer:j,prevented:false};e.addEventListener("submit",function(a){if(!i.prevented&&a.target.checkValidity&&c.attr(a.target,"novalidate")==null){g=true;c(a.target).checkValidity();g=false}},true);j=function(a){if(c.attr(a.target,"formnovalidate")!=null){i.timer&&
clearTimeout(i.timer);i.prevented=true;i.timer=setTimeout(function(){i.prevented=false},20)}};e.addEventListener("click",j,true);e.addEventListener("touchstart",j,true);e.addEventListener("touchend",j,true)}c(document).bind("firstinvalidsystem",function(a,b){if(l=b.form){k=false;n=[];var d=c(l).unbind("submit.preventInvalidSubmit").bind("submit.preventInvalidSubmit",function(m){if(c.attr(l,"novalidate")==null){m.stopImmediatePropagation();return false}}).data("events").submit;d&&d.length>1&&d.unshift(d.pop());
if(g)k=b}}).bind("invalid",function(a){n.indexOf(a.target)==-1?n.push(a.target):a.stopImmediatePropagation()}).bind("lastinvalid",function(a,b){var d=b.invalidlist[0];if(d&&(p||!Modernizr.requiredSelect&&c.nodeName(d,"select"))&&document.activeElement&&d!==document.activeElement&&k&&!k.isInvalidUIPrevented())f.validityAlert.showFor(d);k=false;n=[];l&&c(l).unbind("submit.preventInvalidSubmit")});if(q){var r,o;(e=c(document).bind("invalid",function(a){if(a.originalEvent&&!g&&!h&&(c.attr(a.target,"validity")||
{}).valid){a.originalEvent.wrongWebkitInvalid=true;a.wrongWebkitInvalid=true;a.stopImmediatePropagation();a.preventDefault();return false}else o=true;clearTimeout(r);r=setTimeout(function(){if(a.target.form&&!o){o=false;c(a.target.form).trigger("submit")}o=false},1)}).data("events").invalid)&&e.length>1&&e.unshift(e.pop());c(document).bind("firstinvalidsystem",function(a,b){h||setTimeout(function(){b.isInvalidUIPrevented()||f.validityAlert.showFor(b.element)},0)})}(function(){if(p){["input","textarea",
"select"].forEach(function(a){var b=f.defineNodeNameProperty(a,"checkValidity",{value:function(){if(!this.willValidate)return true;var d=(c.attr(this,"validity")||{valid:true}).valid;h=true;!d&&b._supvalue&&b._supvalue.call(this)&&c(this).trigger("invalid");h=false;return d}})});f.defineNodeNameProperty("form","checkValidity",{value:function(){var a=true;c(this.elements||[]).each(function(){if(c(this).checkValidity()===false)a=false});return a}})}})();(function(){if(c.browser.opera){var a=function(b){b.preventDefault()};
["form","input","textarea","select"].forEach(function(b){var d=f.defineNodeNameProperty(b,"checkValidity",{value:function(){g||c(this).bind("invalid",a);h=true;var m=d._supvalue.apply(this,arguments);g||c(this).unbind("invalid",a);h=false;return m}})})}})();Modernizr.requiredSelect||f.ready("form-extend",function(){f.addValidityRule("valueMissing",function(a,b,d,m){if(d.nodeName=="select"&&!b&&a.attr("required")){if(!d.type)d.type=a[0].type;if(b=!b){if(!(b=a[0].selectedIndex<0)){a=a[0];if(a.type==
"select-one"&&a.size<2){a=c("> option:first-child",a);b=!a.attr("disabled")&&a.attr("selected")}else b=false}b=b}if(b)return true}return m.valueMissing});f.defineNodeNamesBooleanProperty(["select"],"required",{set:function(a){this.setAttribute("aria-required",a?"true":"false");c.attr(this,"validity")},initAttr:true})})}});
