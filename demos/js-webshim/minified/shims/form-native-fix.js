jQuery.webshims.register("form-native-fix",function(a,c,g,q,e){if(Modernizr.formvalidation&&!Modernizr.bugfreeformvalidation&&!c.bugs.bustedValidity){var p=a.browser.webkit,l=[],h,m,f;if(g.addEventListener){var n=e,o=!1;g.addEventListener("submit",function(b){if(!o&&b.target.checkValidity&&null==a.attr(b.target,"novalidate")&&(f=!0,a("input:invalid, select:invalid, textarea:invalid",b.target).length&&(a(b.target).unbind("submit.preventInvalidSubmit").bind("submit.preventInvalidSubmit",function(j){null==
a.attr(b.target,"novalidate")&&(j.stopImmediatePropagation(),p&&j.preventDefault());b.target&&a(b.target).unbind("submit.preventInvalidSubmit")}),c.moveToFirstEvent(b.target,"submit")),f=!1,!g.opera))c.fromSubmit=!0,a(b.target).checkValidity(),c.fromSubmit=!1},!0);e=function(b){null!=a.attr(b.target,"formnovalidate")&&(n&&clearTimeout(n),o=!0,n=setTimeout(function(){o=!1},20))};g.addEventListener("click",e,!0);g.addEventListener("touchstart",e,!0);g.addEventListener("touchend",e,!0)}a(document).bind("firstinvalidsystem",
function(b,a){if(m=a.form)h=!1,l=[],c.fromSubmit&&(h=a)}).bind("invalid",function(a){-1==l.indexOf(a.target)?l.push(a.target):a.stopImmediatePropagation()}).bind("lastinvalid",function(b,j){var i=j.invalidlist[0];i&&(p||a.nodeName(i,"select"))&&a(i).not(":focus")&&h&&!h.isInvalidUIPrevented()&&c.validityAlert.showFor(i);h=!1;l=[];m&&a(m).unbind("submit.preventInvalidSubmit")});a.browser.webkit&&Modernizr.inputtypes.date&&(function(){var b={updateInput:1,input:1},c={date:1,time:1,"datetime-local":1},
i={focusout:1,blur:1},g={updateInput:1,change:1},e=function(a){var c,e=!0,d=a.prop("value"),j=d,k=function(c){if(a){var f=a.prop("value");f!==d&&(d=f,(!c||!b[c.type])&&a.trigger("input"));c&&g[c.type]&&(j=f);!e&&f!==j&&a.trigger("change")}},h,f=function(b){clearInterval(c);setTimeout(function(){b&&i[b.type]&&(e=!1);a&&(a.unbind("focusout blur",f).unbind("input change updateInput",k),k());a=null},1)};clearInterval(c);c=setInterval(k,160);clearTimeout(h);h=setTimeout(k,9);a.unbind("focusout blur",f).unbind("input change updateInput",
k);a.bind("focusout blur",f).bind("input updateInput change",k)};if(a.event.customEvent)a.event.customEvent.updateInput=!0;a(q).bind("focusin",function(b){b.target&&c[b.target.type]&&!b.target.readOnly&&!b.target.disabled&&e(a(b.target))})}(),function(){if("2010-1-1"==a('<input name="t" type="date" />').prop("value","2010-1-1").prop("value")){var b=function(b){var c=1,e,d;if("date"==b.type&&(f||!a(b).is(":focus")))if((d=b.value)&&10>d.length&&(d=d.split("-"))&&3==d.length){for(;3>c;c++)if(1==d[c].length)d[c]=
"0"+d[c];else if(2!=d[c].length){e=!0;break}if(!e)return d=d.join("-"),a.prop(b,"value",d),d}},e,i,g,h;e=c.defineNodeNameProperty("input","checkValidity",{prop:{value:function(){b(this);return e.prop._supvalue.apply(this,arguments)}}});i=c.defineNodeNameProperty("form","checkValidity",{prop:{value:function(){a("input",this).each(function(){b(this)});return i.prop._supvalue.apply(this,arguments)}}});g=c.defineNodeNameProperty("input","value",{prop:{set:function(){return g.prop._supset.apply(this,arguments)},
get:function(){return b(this)||g.prop._supget.apply(this,arguments)}}});h=c.defineNodeNameProperty("input","validity",{prop:{writeable:!1,get:function(){b(this);return h.prop._supget.apply(this,arguments)}}});a(document).bind("change",function(a){f=!0;b(a.target);f=!1})}}())}});
