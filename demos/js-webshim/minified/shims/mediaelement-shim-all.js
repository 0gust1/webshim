jQuery.webshims.ready("dom-support",function(d,f,p,o){var n=o.createElement("a");["poster","src"].forEach(function(k){f.defineNodeNamesProperty(k=="src"?["audio","video","source"]:["video"],k,{prop:{get:function(){var l=d.attr(this,k);if(l==null)return"";n.setAttribute("href",l);return n.href},set:function(l){d.attr(this,k,l)}}})});["autoplay","controls"].forEach(function(d){f.defineNodeNamesBooleanProperty(["audio","video"],d)});f.defineNodeNamesProperties(["audio","video"],{HAVE_CURRENT_DATA:{value:2},
HAVE_ENOUGH_DATA:{value:4},HAVE_FUTURE_DATA:{value:3},HAVE_METADATA:{value:1},HAVE_NOTHING:{value:0},NETWORK_EMPTY:{value:0},NETWORK_IDLE:{value:1},NETWORK_LOADING:{value:2},NETWORK_NO_SOURCE:{value:3}},"prop")});
jQuery.webshims.register("mediaelement-swf",function(d,f,p,o,n,k){var l=f.mediaelement,q=p.swfobject,D=Modernizr.audio&&Modernizr.video,E=q.hasFlashPlayerVersion("9.0.115"),x,y={paused:!0,ended:!1,currentSrc:"",duration:p.NaN,readyState:0,networkState:0,videoHeight:0,videoWidth:0,error:null,buffered:n},h=Object.keys(y),u={currentTime:0,volume:1,muted:!1};Object.keys(u);var z=d.extend({isActive:"html5",activating:"html5",wasSwfReady:!1,_bufferedEnd:0,_bufferedStart:0,_metadata:!1,currentTime:0,_ppFlag:n},
y,u),A=/^jwplayer-/,m=function(b){if(b=o.getElementById(b.replace(A,"")))return b=f.data(b,"mediaelement"),b.isActive=="flash"?b:null},r=function(b){return(b=f.data(b,"mediaelement"))&&b.isActive=="flash"?b:null},j=function(b,a){a=d.Event(a);a.preventDefault();d.event.trigger(a,n,b)},v,c=f.cfg.basePath+"swf/jwwebshims.swf",g=f.cfg.basePath+"jwplayer/player.swf";E&&f.ready("WINDOWLOAD",function(){x||d.ajax(c,f.xhrPreloadOption)});f.extendUNDEFProp(k.jwParams,{allowscriptaccess:"always",allowfullscreen:"true",
wmode:"transparent"});f.extendUNDEFProp(k.jwVars,{screencolor:"ffffffff",controlbar:"over"});f.extendUNDEFProp(k.jwAttrs,{bgcolor:"#000000"});l.jwEvents={View:{PLAY:function(b){var a=m(b.id);if(a&&!a.stopPlayPause&&(a._ppFlag=!0,a.paused==b.state)){a.paused=!b.state;if(a.ended)a.ended=!1;j(a._elem,b.state?"play":"pause")}}},Model:{BUFFER:function(b){var a=m(b.id);if(a&&a._bufferedEnd!=b.percentage){a.networkState=b.percentage==100?1:2;if(!a.duration){try{if(a.duration=a.jwapi.getPlaylist()[0].duration,
a.duration<=0)a.duration=p.NaN}catch(c){}a.duration&&(j(a._elem,"durationchange"),a._elemNodeName=="audio"&&this.META(d.extend({duration:a.duration},b),a))}if(a.ended)a.ended=!1;if(a.duration){if(b.percentage>1&&a.readyState<3)a.readyState=3,j(a._elem,"canplay");if(a._bufferedEnd&&a._bufferedEnd>b.percentage)a._bufferedStart=a.currentTime||0;a._bufferedEnd=b.percentage;a.buffered.length=1;if(b.percentage==100)a.networkState=1,a.readyState=4;d.event.trigger("progress",n,a._elem,!0)}}},META:function(b,
a){if("duration"in b||"youtubequalitylevels"in b)if((a=a&&a.networkState?a:m(b.id))&&!a._metadata){a._metadata=!0;if(!a.duration||"duration"in b||!("youtubequalitylevels"in b)){var c=a.duration;a.duration=b.duration;a.videoHeight=b.height||0;a.videoWidth=b.width||0;if(!a.networkState)a.networkState=2;if(a.readyState<1)a.readyState=1;c!==a.duration&&j(a._elem,"durationchange")}j(a._elem,"loadedmetadata")}},TIME:function(b){var a=m(b.id);if(a&&a.currentTime!==b.position){a.currentTime=b.position;if(a.readyState<
2)a.readyState=2;if(a.ended)a.ended=!1;j(a._elem,"timeupdate")}},STATE:function(b){var a=m(b.id);if(a)switch(b.newstate){case "BUFFERING":if(a.readyState>1)a.readyState=1;if(a.ended)a.ended=!1;j(a._elem,"waiting");break;case "PLAYING":a.paused=!1;a._ppFlag=!0;if(a.readyState<3)a.readyState=3,j(a._elem,"canplay");if(a.ended)a.ended=!1;j(a._elem,"playing");break;case "PAUSED":if(!a.paused&&!a.stopPlayPause)a.paused=!0,a._ppFlag=!0,j(a._elem,"pause");break;case "COMPLETED":if(a.readyState<4)a.readyState=
4;a.ended=!0;j(a._elem,"ended")}}},Controller:{ERROR:function(b){var a=m(b.id);a&&l.setError(a._elem,b.message)},SEEK:function(b){var a=m(b.id);if(a){if(a.ended)a.ended=!1;if(a.paused)try{a.jwapi.sendEvent("play","false")}catch(c){}if(a.currentTime!=b.position)a.currentTime=b.position,j(a._elem,"timeupdate")}},VOLUME:function(b){var a=m(b.id);if(a&&(b=b.percentage/100,a.volume!=b))a.volume=b,j(a._elem,"volumechange")},MUTE:function(b){if(!v||!b.state){var a=m(b.id);if(a&&a.muted!=b.state)a.muted=
b.state,j(a._elem,"volumechange")}}}};var e=function(b){d.each(l.jwEvents,function(a,c){d.each(c,function(c){b.jwapi["add"+a+"Listener"](c,"jQuery.webshims.mediaelement.jwEvents."+a+"."+c)})})},i=function(b){b&&(b._ppFlag===n&&d.prop(b._elem,"autoplay")||!b.paused)&&setTimeout(function(){if(b.isActive=="flash"&&(b._ppFlag===n||!b.paused))try{d(b._elem).play()}catch(a){}},1)},H=function(b){if(b&&b._elemNodeName=="video"){var a,c,g,e,t,s,i,l=function(l,f){if(f&&l&&!(f<1||l<1||b.isActive!="flash"))if(a&&
(a.remove(),a=!1),clearTimeout(t),c=b._elem.style.width=="auto",g=b._elem.style.height=="auto",c||g){var q=c+g+l+f;q!==s&&(s=q,e=e||d(b._elem).getShadowElement(),c&&!g?(q=d(b._elem).height(),l*=q/f,f=q):!c&&g&&(q=d(b._elem).width(),f*=q/l,l=q),i=!0,setTimeout(function(){i=!1},30),e.css({width:l,height:f}))}},f=function(){if(!(b.isActive!="flash"||d.prop(b._elem,"readyState")&&d.prop(this,"videoWidth"))){var e=d.prop(b._elem,"poster");if(e&&(c=b._elem.style.width=="auto",g=b._elem.style.height=="auto",
c||g))a&&(a.remove(),a=!1),a=d('<img style="position: absolute; height: auto; width: auto; top: 0px; left: 0px; visibility: hidden;" />'),a.bind("load error alreadycomplete",function(){clearTimeout(t);var b=this,c=b.naturalWidth||b.width||b.offsetWidth,g=b.naturalHeight||b.height||b.offsetHeight;g&&c?(l(c,g),b=null):setTimeout(function(){c=b.naturalWidth||b.width||b.offsetWidth;g=b.naturalHeight||b.height||b.offsetHeight;l(c,g);a&&(a.remove(),a=!1);b=null},9);d(this).unbind()}).prop("src",e).appendTo("body").each(function(){this.complete||
this.error?d(this).triggerHandler("alreadycomplete"):(clearTimeout(t),t=setTimeout(function(){d(b._elem).triggerHandler("error")},9999))})}};d(b._elem).bind("loadedmetadata swfstageresize",function(){l(d.prop(this,"videoWidth"),d.prop(this,"videoHeight"))}).bind("emptied",f).bind("swfstageresize",function(){i||(f(),d.prop(b._elem,"readyState")&&l(d.prop(this,"videoWidth"),d.prop(this,"videoHeight")))}).triggerHandler("swfstageresize")}};d(o).bind("emptied",function(b){b=r(b.target);i(b)});var B;l.jwPlayerReady=
function(b){var a=m(b.id);if(a&&a.jwapi){clearTimeout(B);a.jwData=b;if(a.wasSwfReady){var b=a.actionQueue.length,c=0,g;if(b&&a.isActive=="flash")for(;a.actionQueue.length&&b>c;)c++,g=a.actionQueue.shift(),a.jwapi[g.fn].apply(a.jwapi,g.args);if(a.actionQueue.length)a.actionQueue=[]}else b=parseFloat(b.version,10),(b<5.6||b>=6)&&f.warn("mediaelement-swf is only testet with jwplayer 5.6+"),d.prop(a._elem,"volume",a.volume),d.prop(a._elem,"muted",a.muted),e(a);a.wasSwfReady=!0;i(a)}};var F=d.noop;if(D){var I=
{play:1,playing:1},C=["play","pause","playing","canplay","progress","waiting","ended","loadedmetadata","durationchange","emptied"].map(function(b){return b+".webshimspolyfill"}).join(" "),G=function(b){var a=f.data(b.target,"mediaelement");a&&(b.originalEvent&&b.originalEvent.type===b.type)==(a.activating=="flash")&&(b.stopImmediatePropagation(),I[b.type]&&a.isActive!=a.activating&&d(b.target).pause())};d(o).bind(C,G);F=function(b){d(b).unbind(C).bind(C,G)}}l.setActive=function(b,a,c){c||(c=f.data(b,
"mediaelement"));if(c&&c.isActive!=a)a!="html5"&&a!="flash"&&f.warn("wrong type for mediaelement activating: "+a),c.activating=a,d(b).pause(),c.isActive=a,a=="flash"?d(b).hide().getShadowElement().show():d(b).show().getShadowElement().hide()};var J=function(){var b=["_bufferedEnd","_bufferedStart","_metadata","_ppFlag","currentSrc","currentTime","duration","ended","networkState","paused","videoHeight","videoWidth"],a=b.length;return function(c){if(c){for(var g=a,d=c.networkState;--g;)delete c[b[g]];
c.actionQueue=[];c.buffered.length=0;d&&j(c._elem,"emptied")}}}();l.createSWF=function(b,a,e){if(E){x=!0;var i=d.extend({},k.jwVars,{image:d.prop(b,"poster")||"",file:a.srcProp}),h=d(b).data("jwvars")||{};if(e&&e.swfCreated)l.setActive(b,"flash",e),J(e),e.currentSrc=a.srcProp,d.extend(i,h),k.changeJW(i,b,a,e,"load"),w(b,"sendEvent",["LOAD",i]);else{var t=d.prop(b,"controls"),s="jwplayer-"+f.getID(b),j=d.extend({},k.jwParams,d(b).data("jwparams")),m=b.nodeName.toLowerCase(),n=d.extend({},k.jwAttrs,
{name:s,id:s},d(b).data("jwattrs")),o=d('<div class="polyfill-'+m+'" id="wrapper-'+s+'"><div id="'+s+'"></div>').css({width:b.style.width||d(b).width(),height:b.style.height||d(b).height(),position:"relative"}).insertBefore(b),e=f.data(b,"mediaelement",f.objectCreate(z,{actionQueue:{value:[]},_elemNodeName:{value:m},_elem:{value:b},currentSrc:{value:a.srcProp},swfCreated:{value:!0},buffered:{value:{start:function(a){if(a>=e.buffered.length)f.error("buffered index size error");else return 0},end:function(a){if(a>=
e.buffered.length)f.error("buffered index size error");else return(e.duration-e._bufferedStart)*e._bufferedEnd/100+e._bufferedStart},length:0}}}));D&&d.extend(e,{volume:d.prop(b,"volume"),muted:d.prop(b,"muted")});d.extend(i,{id:s,controlbar:t?k.jwVars.controlbar||"over":"none",icons:""+t},h,{playerready:"jQuery.webshims.mediaelement.jwPlayerReady"});i.plugins?i.plugins+=","+c:i.plugins=c;f.addShadowDom(b,o);F(b);l.setActive(b,"flash",e);k.changeJW(i,b,a,e,"embed");H(e);q.embedSWF(g,s,"100%","100%",
"9.0.0",!1,i,j,n,function(a){if(a.success)e.jwapi=a.ref,t||d(a.ref).attr("tabindex","-1").css("outline","none"),B||(clearTimeout(B),B=setTimeout(function(){var b=d(a.ref);b[0].offsetWidth>1&&b[0].offsetHeight>1&&location.protocol.indexOf("file:")===0?f.warn("Add your local development-directory to the local-trusted security sandbox:  http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html"):(b[0].offsetWidth<2||b[0].offsetHeight<2)&&f.info("JS-SWF connection can't be established on hidden or unconnected flash objects")},
8E3))})}}else setTimeout(function(){d(b).mediaLoad()},1)};var w=function(b,a,c,e){return(e=e||r(b))?(e.jwapi&&e.jwapi[a]?e.jwapi[a].apply(e.jwapi,c||[]):(e.actionQueue.push({fn:a,args:c}),e.actionQueue.length>10&&setTimeout(function(){e.actionQueue.length>5&&e.actionQueue.shift()},99)),e):!1};["audio","video"].forEach(function(b){var a={},c,e=function(e){b=="audio"&&(e=="videoHeight"||e=="videoWidth")||(a[e]={get:function(){var a=r(this);if(a)return a[e];else if(c[e].prop._supget)return c[e].prop._supget.apply(this)},
writeable:!1})},g=function(b,c){e(b);delete a[b].writeable;a[b].set=c};g("volume",function(a){var b=r(this);if(b){if(a*=100,!isNaN(a)){(a<0||a>100)&&f.error("volume greater or less than allowed "+a/100);b.muted&&(v=!0);w(this,"sendEvent",["VOLUME",a],b);if(v){try{b.jwapi.sendEvent("mute","true")}catch(e){}v=!1}setTimeout(function(){a/=100;if(!(b.volume==a||b.isActive!="flash"))b.volume=a,j(b._elem,"volumechange"),b=null},1)}}else if(c.volume.prop._supset)return c.volume.prop._supset.apply(this,arguments)});
g("muted",function(a){var b=r(this);if(b)a=!!a,w(this,"sendEvent",["mute",""+a],b),setTimeout(function(){if(!(b.muted==a||b.isActive!="flash"))b.muted=a,j(b._elem,"volumechange"),b=null},1);else if(c.muted.prop._supset)return c.muted.prop._supset.apply(this,arguments)});g("currentTime",function(a){var b=r(this);if(b){if(a*=1,!isNaN(a)){if(b.paused)clearTimeout(b.stopPlayPause),b.stopPlayPause=setTimeout(function(){b.paused=!0;b.stopPlayPause=!1},50);w(this,"sendEvent",["SEEK",""+a],b);if(b.paused){if(b.readyState>
0)b.currentTime=a,j(b._elem,"timeupdate");try{b.jwapi.sendEvent("play","false")}catch(e){}}}}else if(c.currentTime.prop._supset)return c.currentTime.prop._supset.apply(this,arguments)});["play","pause"].forEach(function(b){a[b]={value:function(){var a=r(this);if(a)a.stopPlayPause&&clearTimeout(a.stopPlayPause),w(this,"sendEvent",["play",b=="play"],a),setTimeout(function(){if(a.isActive=="flash"&&(a._ppFlag=!0,a.paused!=(b!="play")))a.paused=b!="play",j(a._elem,b)},1);else if(c[b].prop._supvalue)return c[b].prop._supvalue.apply(this,
arguments)}}});h.forEach(e);f.onNodeNamesPropertyModify(b,"controls",function(a,b){var c=w(this,b?"showControls":"hideControls");c&&d(c.jwapi).attr("tabindex",b?"0":"-1")});c=f.defineNodeNameProperties(b,a,"prop")})});
(function(d,f,p){var o=f.audio&&f.video,n=!1;if(o){var k=document.createElement("video");f.videoBuffered="buffered"in k;n="loop"in k;f.videoBuffered||(p.addPolyfill("mediaelement-native-fix",{feature:"mediaelement",test:f.videoBuffered,dependencies:["dom-support"]}),p.cfg.waitReady&&d.readyWait++,p.loader.loadScript("mediaelement-native-fix",function(){p.cfg.waitReady&&d.ready(!0)}))}d.webshims.ready("dom-support",function(d,f,k,p,x){var y=f.cfg.mediaelement,h=f.mediaelement,u=!k.swfobject||swfobject.hasFlashPlayerVersion("9.0.115"),
z=function(){f.ready("mediaelement-swf",function(){if(!h.createSWF)f.modules["mediaelement-swf"].test=!1,delete d.event.special["mediaelement-swfReady"],f.loader.loadList(["mediaelement-swf"])})},A=function(c,g){var c=d(c),e={src:c.attr("src")||"",elem:c,srcProp:c.prop("src")};if(!e.src)return e;var i=c.attr("type");if(i)e.type=i,e.container=d.trim(i.split(";")[0]);else if(g||(g=c[0].nodeName.toLowerCase(),g=="source"&&(g=(c.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),
i=h.getTypeForSrc(e.src,g))e.type=i,e.container=i,f.warn("you should always provide a proper mime-type using the source element. "+e.src+" detected as: "+i),d.nodeName(c[0],"source")&&c.attr("type",i);if(i=c.attr("media"))e.media=i;return e};f.loader.loadList(["swfobject"]);f.ready("swfobject",function(){(u=swfobject.hasFlashPlayerVersion("9.0.115"))&&f.ready("WINDOWLOAD",z)});o&&f.capturingEvents(["play","playing","waiting","paused","ended","durationchange","loadedmetadata","canplay","volumechange"]);
h.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4","m4r"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"]}};
h.mimeTypes.source=d.extend({},h.mimeTypes.audio,h.mimeTypes.video);h.getTypeForSrc=function(c,g){if(c.indexOf("youtube.com/watch?")!=-1)return"video/youtube";var c=c.split("?")[0].split("."),c=c[c.length-1],e;d.each(h.mimeTypes[g],function(d,g){if(g.indexOf(c)!==-1)return e=d,!1});return e};h.srces=function(c,g){c=d(c);if(g)c.removeAttr("src").removeAttr("type").find("source").remove(),d.isArray(g)||(g=[g]),g.forEach(function(e){var d=p.createElement("source");typeof e=="string"&&(e={src:e});d.setAttribute("src",
e.src);e.type&&d.setAttribute("type",e.type);e.media&&d.setAttribute("media",e.media);c.append(d)});else{var g=[],e=c[0].nodeName.toLowerCase(),f=A(c,e);f.src?g.push(f):d("source",c).each(function(){f=A(this,e);f.src&&g.push(f)});return g}};d.fn.loadMediaSrc=function(c,g){return this.each(function(){g!==x&&(d(this).removeAttr("poster"),g&&d.attr(this,"poster",g));h.srces(this,c);d(this).mediaLoad()})};h.swfMimeTypes=["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p",
"video/x-flv","video/flv","audio/mpeg","audio/aac","audio/mp4","audio/x-m4a","audio/m4a","audio/mp3","audio/x-fla","audio/fla","youtube/flv","jwplayer/jwplayer","video/youtube"];h.canSwfPlaySrces=function(c,g){var e="";u&&(c=d(c),g=g||h.srces(c),d.each(g,function(c,d){if(d.container&&d.src&&h.swfMimeTypes.indexOf(d.container)!=-1)return e=d,!1}));return e};var m={};h.canNativePlaySrces=function(c,g){var e="";if(o){var c=d(c),f=(c[0].nodeName||"").toLowerCase();if(!m[f])return e;g=g||h.srces(c);d.each(g,
function(d,g){if(g.type&&m[f].prop._supvalue.call(c[0],g.type))return e=g,!1})}return e};h.setError=function(c,g){g||(g="can't play sources");d(c).data("mediaerror",g);f.warn("mediaelementError: "+g);setTimeout(function(){d(c).data("mediaerror")&&d(c).trigger("mediaerror")},1)};var r=function(){var c;return function(d,e,i){f.ready("mediaelement-swf",function(){h.createSWF?h.createSWF(d,e,i):c||(c=!0,z(),r(d,e,i))})}}(),j=function(c,g,e,f,k,m){k=k||h.srces(g);d(g).data("mediaerror",!1);k.length&&(f||
f!==!1&&e&&e.isActive=="flash"?(f=h.canSwfPlaySrces(g,k))?r(g,f,e):m?h.setError(g,!1):j(c,g,e,!1,k,!0):(f=h.canNativePlaySrces(g))?e&&e.isActive=="flash"&&h.setActive(g,"html5",e):m?h.setError(g,!1):j(c,g,e,!0,k,!0))};d(p).bind("ended",function(c){var g=f.data(c.target,"mediaelement");(!n||g&&g.isActive!="html5"||d.prop(c.target,"loop"))&&setTimeout(function(){!d.prop(c.target,"paused")&&d.prop(c.target,"loop")&&d(c.target).prop("currentTime",0).play()},1)});n||f.defineNodeNamesBooleanProperty(["audio",
"video"],"loop");var v=/^(?:embed|object)$/i;f.addReady(function(c,g){d("video, audio",c).add(g.filter("video, audio")).each(function(){var c=this.parentNode;if(!c||!v.test(c.nodeName||""))c=f.data(this,"mediaelementBase")||f.data(this,"mediaelementBase",{}),j(c,this,!1,y.preferFlash||x)})});["audio","video"].forEach(function(c){var g=f.defineNodeNameProperty(c,"load",{prop:{value:function(){var c=f.data(this,"mediaelement"),d=f.data(this,"mediaelementBase")||f.data(this,"mediaelementBase",{});clearTimeout(d.loadTimer);
j(d,this,c);o&&(!c||c.isActive=="html5")&&g.prop._supvalue&&g.prop._supvalue.apply(this,arguments)}}});m[c]=f.defineNodeNameProperty(c,"canPlayType",{prop:{value:function(e){var f="";o&&m[c].prop._supvalue&&(f=m[c].prop._supvalue.call(this,e),f=="no"&&(f=""));!f&&u&&(e=d.trim(e.split(";")[0]),h.swfMimeTypes.indexOf(e)!=-1&&(f="maybe"));return f}}})});f.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var c=f.data(this,"mediaelement"),d=this,e=f.data(this,"mediaelementBase")||
f.data(this,"mediaelementBase",{});clearTimeout(e.loadTimer);e.loadTimer=setTimeout(function(){j(e,d,c)},9)}});f.isReady("mediaelement-core",!0)})})(jQuery,Modernizr,jQuery.webshims);
