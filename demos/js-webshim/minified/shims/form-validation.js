webshims.register("form-validation",function(e,t,n,i,a,r){var o="webkitURL"in n,s=o&&Modernizr.formvalidation&&!t.bugs.bustedValidity,l=s&&parseFloat((navigator.userAgent.match(/Safari\/([\d\.]+)/)||["","999999"])[1],10),u=r.iVal.errorClass||"user-error",c=r.iVal.successClass||"user-success",p=r.iVal.errorWrapperClass||"ws-invalid",d=r.iVal.successWrapperClass||"ws-success",f=r.iVal.errorBoxClass||"ws-errorbox",h={checkbox:1,radio:1},m=e([]),v=function(){return!e.prop(this,"form")},g=function(t){t=e(t);var n,a,r=m;return"radio"==t[0].type&&(a=t.prop("form"),n=t[0].name,r=n?a?e(a).jProp(n):e(i.getElementsByName(n)).filter(v):t,r=r.filter('[type="radio"]')),r},y=function(t,n){var i;return e.each(t,function(t,r){return r?(i=t+e.prop(n,"validationMessage"),!1):a}),i},b=function(e){var t;try{t=i.activeElement.name===e}catch(n){}return t},w={radio:1,checkbox:1,"select-one":1,"select-multiple":1,file:1,date:1,month:1,week:1,text:1},T={time:1,date:1,month:1,datetime:1,week:1,"datetime-local":1},x=function(n){if(r.iVal.sel){var i,o,p,d;if(n.target&&(i=e(n.target).getNativeElement()[0],p=e(i).getShadowElement(),"submit"!=i.type&&e.prop(i,"willValidate")&&("change"!=n.type||!(d=p.prop("type"))||w[d]))){o=e.data(i,"webshimsswitchvalidityclass");var f=function(){if(d||(d=p.prop("type")),!(s&&("change"==n.type||537.36>l)&&T[d]&&e(n.target).is(":focus")||"focusout"==n.type&&"radio"==i.type&&b(i.name))){if(t.refreshCustomValidityRules&&"async"==t.refreshCustomValidityRules(i))return e(i).one("refreshvalidityui",x),a;var r,o,f,m,v,w=e.prop(i,"validity");w.valid?p.hasClass(c)||(r=c,o=u,m="changedvaliditystate",f="changedvalid",h[i.type]&&i.checked&&g(i).not(i).removeClass(o).addClass(r).removeAttr("aria-invalid"),p.removeAttr("aria-invalid"),e.removeData(i,"webshimsinvalidcause")):(v=y(w,i),e.data(i,"webshimsinvalidcause")!=v&&(e.data(i,"webshimsinvalidcause",v),m="changedvaliditystate"),p.hasClass(u)||(r=u,o=c,h[i.type]&&!i.checked&&g(i).not(i).removeClass(o).addClass(r).attr("aria-invalid","true"),p.attr("aria-invalid","true"),f="changedinvalid")),r&&(p.addClass(r).removeClass(o),setTimeout(function(){e(i).trigger(f)},0)),m&&setTimeout(function(){e(i).trigger(m)},0),e.removeData(i,"webshimsswitchvalidityclass")}};o&&clearTimeout(o),"refreshvalidityui"==n.type?f():e.data(i,"webshimsswitchvalidityclass",setTimeout(f,9))}}};e(i.body||"html").on(r.validityUIEvents||"focusout change refreshvalidityui invalid",x).on("reset resetvalui",function(t){var n=e(t.target);n.is("form, fieldset")&&(n=n.jProp("elements")),n.filter(".user-error, .user-success").removeAttr("aria-invalid").removeClass("user-error").removeClass("user-success").getNativeElement().each(function(){e.removeData(this,"webshimsinvalidcause")}).trigger("resetvalidityui")});var N=function(){t.scrollRoot=o||"BackCompat"==i.compatMode?e(i.body):e(i.documentElement)},E=Modernizr.boxSizing||Modernizr["display-table"]||e.support.getSetAttribute||e.support.boxSizing?"minWidth":"width",A="transitionDelay"in i.documentElement.style,k={display:"inline-block",left:0,top:0,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};N(),t.ready("DOM",N),t.getRelOffset=function(t,n,i){var a,r;return t=e(t),e.swap(e(t)[0],k,function(){e.position&&i&&e.position.getScrollInfo?(i.of||(i.of=n),i.using=function(e,n){t.attr({"data-horizontal":n.horizontal,"data-vertical":n.vertical}),a=e},t.attr({"data-horizontal":"","data-vertical":"","data-my":i.my||"center","data-at":i.at||"center"}),t.position(i)):(a=e(n).offset(),r=t.offset(),a.top-=r.top,a.left-=r.left,a.top+=n.outerHeight())}),a},e.extend(t.wsPopover,{isInElement:function(t,n){return t==n||e.contains(t,n)},show:function(t){if(!this.isVisible){var a=e.Event("wspopoverbeforeshow");if(this.element.trigger(a),!a.isDefaultPrevented()){this.isVisible=!0,t=e(t||this.options.prepareFor).getNativeElement();var r=this,o=e(t).getShadowElement(),s=function(e){clearTimeout(r.timers.repos),r.timers.repos=setTimeout(function(){r.position(o)},e&&"pospopover"==e.type?4:200)};this.clear(),this.element.removeClass("ws-po-visible").css("display","none"),this.prepareFor(t,o),this.position(o),r.timers.show=setTimeout(function(){r.element.css("display",""),r.timers.show=setTimeout(function(){r.element.addClass("ws-po-visible").trigger("wspopovershow")},9)},9),e(i).on("focusin"+this.eventns+" mousedown"+this.eventns,function(e){!r.options.hideOnBlur||r.stopBlur||r.isInElement(r.lastElement[0]||i.body,e.target)||r.isInElement(t[0]||i.body,e.target)||r.isInElement(r.element[0],e.target)||r.hide()}),this.element.off("pospopover").on("pospopover",s),e(n).on("resize"+this.eventns+" pospopover"+this.eventns,s)}}},_getAutoAppendElement:function(){var t=/^(?:span|i|label|b|p|tr|thead|tbody|table|strong|em|ul|ol|dl|html)$/i;return function(n){for(var a,r=n[0],o=i.body;(r=r[a?"offsetParent":"parentNode"])&&1==r.nodeType&&r!=o;)a||t.test(r.nodeName)||(a=r),a&&"hidden"==e.style(r,"overflow")&&"static"!=e.style(r,"position")&&(a=!1);return e(a||o)}}(),prepareFor:function(t,n){var i,a,r=this,o={},s=e.extend(!0,{},this.options,t.jProp("form").data("wspopover")||{},t.data("wspopover"));this.lastOpts=s,this.lastElement=e(t).getShadowFocusElement(),this.prepared&&this.options.prepareFor||(a="element"==s.appendTo?t.parent():"auto"==s.appendTo?this._getAutoAppendElement(t):e(s.appendTo),this.prepared&&a[0]==this.element[0].parentNode||this.element.appendTo(a)),this.element.attr({"data-class":t.prop("className"),"data-id":t.prop("id")}),o[E]=s.constrainWidth?n.outerWidth():"",this.element.css(o),s.hideOnBlur&&(i=function(e){r.stopBlur?e.stopImmediatePropagation():r.hide()},r.timers.bindBlur=setTimeout(function(){r.lastElement.off(r.eventns).on("focusout"+r.eventns+" blur"+r.eventns,i),r.lastElement.getNativeElement().off(r.eventns)},10)),this.prepared=!0},clear:function(){e(n).off(this.eventns),e(i).off(this.eventns),this.element.off("transitionend"+this.eventns),this.stopBlur=!1,this.lastOpts=!1,e.each(this.timers,function(e,t){clearTimeout(t)})},hide:function(){var t=e.Event("wspopoverbeforehide");if(this.element.trigger(t),!t.isDefaultPrevented()&&this.isVisible){this.isVisible=!1;var i=this,a=function(t){t&&"transitionend"==t.type&&(t=t.originalEvent)&&t.target==i.element[0]&&"hidden"==i.element.css("visibility")||(i.element.off("transitionend"+i.eventns).css("display","none").attr({"data-id":"","data-class":"",hidden:"hidden"}),clearTimeout(i.timers.forcehide),e(n).off("resize"+i.eventns))};this.clear(),this.element.removeClass("ws-po-visible").trigger("wspopoverhide"),e(n).on("resize"+this.eventns,a),A&&this.element.off("transitionend"+this.eventns).on("transitionend"+this.eventns,a),i.timers.forcehide=setTimeout(a,A?600:40)}},position:function(e){var n=t.getRelOffset(this.element.removeAttr("hidden"),e,(this.lastOpts||this.options).position);this.element.css(n)}}),t.validityAlert=function(){r.messagePopover.position=e.extend({},{at:"left bottom",my:"left top",collision:"none"},r.messagePopover.position||{});var i=t.objectCreate(t.wsPopover,{},r.messagePopover),a=i.hide.bind(i);return i.element.addClass("validity-alert").attr({role:"alert"}),e.extend(i,{hideDelay:5e3,showFor:function(t,n,i,r){t=e(t).getNativeElement(),this.clear(),this.hide(),r||(this.getMessage(t,n),this.show(t),this.hideDelay&&(this.timers.delayedHide=setTimeout(a,this.hideDelay))),i||this.setFocus(t)},setFocus:function(i){var a=e(i).getShadowFocusElement(),o=t.scrollRoot.scrollTop()+(r.viewportOffset||0),s=a.offset().top-(r.scrollOffset||30),l=function(){try{a[0].focus()}catch(t){}e(n).triggerHandler("pospopover"+this.eventns)};o>s?t.scrollRoot.animate({scrollTop:s-5-(r.viewportOffset||0)},{queue:!1,duration:Math.max(Math.min(600,1.5*(o-s)),80),complete:l}):l()},getMessage:function(e,t){t||(t=e.getErrorMessage()),t?i.contentElement.text(t):this.hide()}}),i}();var S={slide:{show:"slideDown",hide:"slideUp"},fade:{show:"fadeIn",hide:"fadeOut"}};if(S[r.iVal.fx]||(r.iVal.fx="slide"),t.errorbox={create:function(t,n){n||(n=this.getFieldWrapper(t));var i=e("div."+f,n);return i.length||(i=e('<div class="'+f+'" hidden="hidden">'),n.append(i)),n.data("errorbox",i),i},getFieldWrapper:function(n){var i;return r.iVal.fieldWrapper&&(i="function"==typeof r.iVal.fieldWrapper?r.iVal.fieldWrapper.apply(this,arguments):e(n).parent().closest(r.iVal.fieldWrapper),i.length||(i=!1,t.error("could not find fieldwrapper: "+r.iVal.fieldWrapper))),i||(i=e(n).parent().closest(":not(span, label, em, strong, b, i, mark, p)")),i},_createContentMessage:function(){var t={},n=function(n){var i=e(n).data("errortype");return i||e.each(t,function(t,r){return e(n).is(r)?(i=t,!1):a}),i||"defaultMessage"};return e(function(){e.each(e("<input />").prop("validity"),function(e){if("valid"!=e){var n=e.replace(/[A-Z]/,function(e){return"-"+e.toLowerCase()});t[e]="."+n+", ."+e+", ."+e.toLowerCase()+', [data-errortype="'+e+'"]'}})}),function(t,i){var a=!1,r=e(t).data("errormessage")||{};"string"==typeof r&&(r={defaultMessage:r}),e("> *",i).each(function(){var t=n(this);r[t]||(a=!0,r[t]=e(this).html())}),a&&e(t).data("errormessage",r)}}(),get:function(t,n){n||(n=this.getFieldWrapper(t));var i=n.data("errorbox");return i?"string"==typeof i&&(i=e("#"+i),n.data("errorbox",i),this._createContentMessage(t,i)):(i=this.create(t,n),this._createContentMessage(t,i)),i},addSuccess:function(t,n){var i=e.prop(t,"type"),a=function(){var a=h[i]?e.prop(t,"checked"):e(t).val();n[a?"addClass":"removeClass"](d)},r=w[i]?"change":"blur";e(t).off(".recheckvalid").on(r+".recheckinvalid",a),a()},hideError:function(t,n){var i,a=this.getFieldWrapper(t),o=this.get(t,a);return o&&o.jquery&&(e(t).filter("input").off(".recheckinvalid"),!n&&(i=e("input:invalid, select:invalid, textarea:invalid",a)[0])?e(i).trigger("refreshvalidityui"):(a.removeClass(p),o.message="",o[S[r.iVal.fx].hide](function(){e(this).attr({hidden:"hidden"})}))),n||i||this.addSuccess(t,a),a},recheckInvalidInput:function(t){if(r.iVal.recheckDelay&&r.iVal.recheckDelay>90){var n,i=function(){x({type:"input",target:t})};e(t).filter('input:not([type="checkbox"], [type="radio"])').off(".recheckinvalid").on("input.recheckinvalid",function(){clearTimeout(n),n=setTimeout(i,r.iVal.recheckDelay)}).on("focusout.recheckinvalid",function(){clearTimeout(n)})}},showError:function(t){var n=this.getFieldWrapper(t),i=this.get(t,n),a=e(t).getErrorMessage();return i.message!=a&&(i.stop(!0,!0).html("<p>"+a+"</p>"),i.message=a,n.addClass(p).removeClass(d),this.recheckInvalidInput(t),(i.is("[hidden]")||"none"==i.css("display"))&&i.css({display:"none"}).removeAttr("hidden")[S[r.iVal.fx].show]()),n.removeClass(d),e(t).off(".recheckvalid"),n},reset:function(e){this.hideError(e,!0).removeClass(d)},toggle:function(t){e(t).is(":invalid")?this.showError(t):this.hideError(t)}},e(i.body).on({changedvaliditystate:function(n){if(r.iVal.sel){var i=e(n.target).jProp("form");i.is(r.iVal.sel)&&t.errorbox.toggle(n.target)}},resetvalidityui:function(n){if(r.iVal.sel){var i=e(n.target).jProp("form");i.is(r.iVal.sel)&&t.errorbox.reset(n.target)}},firstinvalid:function(n){if(r.iVal.sel&&r.iVal.handleBubble){var i=e(n.target).jProp("form");i.is(r.iVal.sel)&&(n.preventDefault(),"none"!=r.iVal.handleBubble&&t.validityAlert.showFor(n.target,!1,!1,"hide"==r.iVal.handleBubble))}},submit:function(t){return r.iVal.sel&&!r.iVal.noSubmitCheck&&e(t.target).is(r.iVal.sel)&&e.prop(t.target,"noValidate")&&!e(t.target).checkValidity()?(t.stopImmediatePropagation(),!1):a}}),t.modules["form-core"].getGroupElements=g,r.replaceValidationUI&&t.ready("DOM forms",function(){e(i).on("firstinvalid",function(e){e.isInvalidUIPrevented()||(e.preventDefault(),t.validityAlert.showFor(e.target))})}),function(){var t,n,a=[];e(i).on("invalid",function(r){if(!r.wrongWebkitInvalid){var o=e(r.target);if(!t){t=e.Event("firstinvalid"),t.isInvalidUIPrevented=r.isDefaultPrevented;var s=e.Event("firstinvalidsystem");e(i).triggerHandler(s,{element:r.target,form:r.target.form,isInvalidUIPrevented:r.isDefaultPrevented}),o.trigger(t)}t&&t.isDefaultPrevented()&&r.preventDefault(),a.push(r.target),r.extraData="fix",clearTimeout(n),n=setTimeout(function(){var n={type:"lastinvalid",cancelable:!1,invalidlist:e(a)};t=!1,a=[],e(r.target).trigger(n,[n])},9),o=null}})}(),s&&540>l&&function(){var t=/^(?:textarea|input)$/i,a=!1;i.addEventListener("contextmenu",function(e){t.test(e.target.nodeName||"")&&(a=e.target.form)&&setTimeout(function(){a=!1},1)},!1),e(n).on("invalid",function(e){e.originalEvent&&a&&a==e.target.form&&(e.wrongWebkitInvalid=!0,e.stopImmediatePropagation())})}(),!e.event.special.change&&!e.event.special.input&&Modernizr.inputtypes&&r.fixRangeChange){var C={trigger:function(){C.blockElement&&(C.blockElement=!1,setTimeout(function(){C.requestedChange&&C.value!=C.requestedChange.value&&e(C.requestedChange).trigger("change"),C.value=!1},9))},lastValue:!1,updateInputValue:function(e){C.lastValue=e.target.value},triggerInput:function(t){C.lastValue!==!1&&C.lastValue!=t.target.value&&e(t.target).trigger("input")},inputTeardown:function(t){e(t.target).off("input",C.updateInputValue).off("blur",C.inputTeardown),C.lastValue=!1},inputSetup:function(t){"range"==t.target.type&&(C.inputTeardown(t),C.lastValue=t.target.value,e(t.target).on("input",C.updateInputValue).on("blur",C.inputTeardown))}};e.each([{name:"key",evt:"keyup"},{name:"mouse",evt:"mouseup"},{name:"touch",evt:"touchend"}],function(t,n){n.name+"Setup";var a=n.name+"Commit";C[n.name+"Block"]=function(t){C.blockElement||"range"!=t.target.type||(C.blockElement=t.target,C.value=t.target.value,e(C.blockElement).off("blur",C.trigger).on("blur",C.trigger),e(i.body).off(n.evt,C[a]).on(n.evt,C[a]))},C[a]=function(){e(i.body).off(n.evt,C[a]),C.trigger()}}),e(i.body||"html").on({mousedown:C.mouseBlock,"keydown kepress":function(e){45>e.keyCode&&e.keyCode>30&&C.keyBlock(e)},touchstart:C.touchBlock,focusin:C.inputSetup}),e.extend(!0,e.event.special,{change:{handle:function(e){return e.isTrigger||C.blockElement!=e.target?(C.requestedChange==e.target&&(C.requestedChange=!1),e.handleObj.handler.apply(this,arguments),a):(C.requestedChange=e.target,C.triggerInput(e),!1)}},input:{handle:function(){var t,n,i=function(){n&&e(n).off("change",i),t=!1,n=!1},a=function(a){i(a),n=a.target,t=a.target.value,e(a.target).on("change",i)};return function(e){var i;if(!e.isTrigger&&"range"==e.target.type)if(n!=e.target)a(e);else if(n==e.target){if(t==(i=e.target.value))return!1;t=e.target.value}e.handleObj.handler.apply(this,arguments)}}()}})}});