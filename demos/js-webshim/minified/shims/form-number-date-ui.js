jQuery.webshims.register("form-number-date-ui",function(b,f,l,m,x,h){var n=f.triggerInlineForm,t=Modernizr.inputtypes,u=function(){var a={"padding-box":"innerWidth","border-box":"outerWidth","content-box":"width"},d=Modernizr.prefixed&&Modernizr.prefixed("boxSizing");b.browser.msie&&8>f.browserVersion&&(d=!1);return function(c,b){var f,g,h;g="width";d&&(g=a[c.css(d)]||g);f=c[g]();g="width"==g;if(f){var j=parseInt(b.css("marginLeft"),10)||0,r=b.outerWidth();(h=parseInt(c.css("marginRight"),10)||0)&&
c.css("marginRight",0);j<=-1*r?(b.css("marginRight",Math.floor(Math.abs(r+j-0.1)+h)),c.css("paddingRight",(parseInt(c.css("paddingRight"),10)||0)+Math.abs(j)),g&&c.css("width",Math.floor(f+j))):(b.css("marginRight",h),c.css("width",Math.floor(f-j-r-0.2)))}}}(),p={},y=b([]),s,i=function(a,d){b("input",a).add(d.filter("input")).each(function(){var c=b.prop(this,"type");if(i[c]&&!f.data(this,"shadowData"))i[c](b(this))})},z=function(a,d){if(h.lazyDate){var c=b.data(a[0],"setDateLazyTimer");c&&clearTimeout(c);
b.data(a[0],"setDateLazyTimer",setTimeout(function(){a.datepicker("setDate",d);b.removeData(a[0],"setDateLazyTimer");a=null},0))}else a.datepicker("setDate",d)};if(h.lazyDate===x)try{h.lazyDate=b.browser.msie&&9>f.browserVersion||500>b(l).width()&&500>b(l).height()}catch(B){}var v={tabindex:1,tabIndex:1,title:1,"aria-required":1,"aria-invalid":1};if(!h.copyAttrs)h.copyAttrs={};f.extendUNDEFProp(h.copyAttrs,v);var w=function(b){return h.calculateWidth?{css:{marginRight:b.css("marginRight"),marginLeft:b.css("marginLeft")},
outerWidth:b.outerWidth()}:{}};i.common=function(a,d,c){Modernizr.formvalidation&&a.bind("firstinvalid",function(c){(f.fromSubmit||!s)&&a.unbind("invalid.replacedwidgetbubble").bind("invalid.replacedwidgetbubble",function(b){!c.isInvalidUIPrevented()&&!b.isDefaultPrevented()&&(f.validityAlert.showFor(c.target),c.preventDefault(),b.preventDefault());a.unbind("invalid.replacedwidgetbubble")})});var k,o,g=b("input, span.ui-slider-handle",d),i=a[0].attributes;for(k in h.copyAttrs)if((o=i[k])&&o.specified)v[k]&&
g[0]?g.attr(k,o.nodeValue):d[0].setAttribute(k,o.nodeValue);k=(k=a.attr("id"))?b('label[for="'+k+'"]',a[0].form):y;d.addClass(a[0].className);f.addShadowDom(a,d,{data:c||{},shadowFocusElement:b("input.input-datetime-local-date, span.ui-slider-handle",d)[0],shadowChilds:g});a.after(d);a[0].form&&b(a[0].form).bind("reset",function(c){c.originalEvent&&!c.isDefaultPrevented()&&setTimeout(function(){a.prop("value",a.prop("value"))},0)});k[0]&&(d.getShadowFocusElement().attr("aria-labelledby",f.getID(k)),
k.bind("click",function(){a.getShadowFocusElement().focus();return!1}))};Modernizr.formvalidation&&["input","form"].forEach(function(b){var d=f.defineNodeNameProperty(b,"checkValidity",{prop:{value:function(){s=!0;var c=d.prop._supvalue.apply(this,arguments);s=!1;return c}}})});if(!t.date||h.replaceUI){var A=function(a,d,c,k){var o,g,i=function(){j.dpDiv.unbind("mousedown.webshimsmousedownhandler");g=o=!1},j=d.bind("focusin",function(){i();j.dpDiv.unbind("mousedown.webshimsmousedownhandler").bind("mousedown.webshimsmousedownhandler",
function(){o=!0})}).bind("focusout blur",function(c){o&&(g=!0,c.stopImmediatePropagation())}).datepicker(b.extend({onClose:function(){g&&d.not(":focus")?(i(),d.trigger("focusout"),d.triggerHandler("blur")):i()}},p,h.datepicker,a.data("datepicker"))).bind("change",c).data("datepicker");j.dpDiv.addClass("input-date-datepicker-control");k&&f.triggerDomUpdate(k[0]);"disabled,min,max,value,step,data-placeholder".split(",").forEach(function(c){var b=a.attr(c);b&&a.attr(c,b)});return j};i.date=function(a){if(b.fn.datepicker){var d=
b('<input class="input-date" type="text" />'),c;this.common(a,d,i.date.attrs);c=A(a,d,function(c){i.date.blockAttr=!0;var f;if(h.lazyDate){var g=b.data(d[0],"setDateLazyTimer");g&&(clearTimeout(g),b.removeData(d[0],"setDateLazyTimer"))}try{f=(f=b.datepicker.parseDate(d.datepicker("option","dateFormat"),d.prop("value")))?b.datepicker.formatDate("yy-mm-dd",f):d.prop("value")}catch(l){f=d.prop("value")}a.prop("value",f);i.date.blockAttr=!1;c.stopImmediatePropagation();n(a[0],"input");n(a[0],"change")});
b(a).bind("updateshadowdom",function(){if(c.trigger[0]&&(a.css({display:""}),a[0].offsetWidth||a[0].offsetHeight)){var b=w(a);b.css&&(d.css(b.css),b.outerWidth&&d.outerWidth(b.outerWidth),u(d,c.trigger))}a.css({display:"none"})}).triggerHandler("updateshadowdom");c.trigger[0]&&setTimeout(function(){f.ready("WINDOWLOAD",function(){b(a).triggerHandler("updateshadowdom")})},9)}};i.date.attrs={disabled:function(a,d,c){b.prop(d,"disabled",!!c)},min:function(a,d,c){try{c=b.datepicker.parseDate("yy-mm-dd",
c)}catch(f){c=!1}c&&b(d).datepicker("option","minDate",c)},max:function(a,d,c){try{c=b.datepicker.parseDate("yy-mm-dd",c)}catch(f){c=!1}c&&b(d).datepicker("option","maxDate",c)},"data-placeholder":function(a,d,c){a=(c||"").split("-");3==a.length&&(c=b(d).datepicker("option","dateFormat").replace("yy",a[0]).replace("mm",a[1]).replace("dd",a[2]));b.prop(d,"placeholder",c)},value:function(a,d,c){if(!i.date.blockAttr){try{var f=b.datepicker.parseDate("yy-mm-dd",c)}catch(h){f=!1}f?z(b(d),f):b.prop(d,"value",
c)}}}}if(!t.range||h.replaceUI)i.range=function(a){if(b.fn.slider){var d=b('<span class="input-range"><span class="ui-slider-handle" role="slider" tabindex="0" /></span>');this.common(a,d,i.range.attrs);a.bind("updateshadowdom",function(){a.css({display:""});if(a[0].offsetWidth||a[0].offsetHeight){var c=w(a);c.css&&(d.css(c.css),c.outerWidth&&d.outerWidth(c.outerWidth))}a.css({display:"none"})}).triggerHandler("updateshadowdom");d.slider(b.extend(!0,{},h.slider,a.data("slider"))).bind("slide",function(c,
b){if(c.originalEvent)i.range.blockAttr=!0,a.prop("value",b.value),i.range.blockAttr=!1,n(a[0],"input"),n(a[0],"change")});["disabled","min","max","step","value"].forEach(function(c){var d=a.prop(c),f;"value"==c&&!d&&(f=a.getShadowElement())&&(d=(b(f).slider("option","max")-b(f).slider("option","min"))/2);null!=d&&a.prop(c,d)})}},i.range.attrs={disabled:function(a,d,c){c=!!c;b(d).slider("option","disabled",c);b("span",d).attr({"aria-disabled":c+"",tabindex:c?"-1":"0"})},min:function(a,d,c){c=c?1*
c||0:0;b(d).slider("option","min",c);b("span",d).attr({"aria-valuemin":c})},max:function(a,d,c){c=c||0===c?1*c||100:100;b(d).slider("option","max",c);b("span",d).attr({"aria-valuemax":c})},value:function(a,d,c){c=b(a).prop("valueAsNumber");isNaN(c)||(i.range.blockAttr||b(d).slider("option","value",c),b("span",d).attr({"aria-valuenow":c,"aria-valuetext":c}))},step:function(a,d,c){c=c&&b.trim(c)?1*c||1:1;b(d).slider("option","step",c)}};if(!f.bugs.valueAsNumberSet&&(h.replaceUI||!Modernizr.inputtypes.date||
!Modernizr.inputtypes.range))l=function(){f.data(this,"hasShadow")&&b.prop(this,"value",b.prop(this,"value"))},f.onNodeNamesPropertyModify("input","valueAsNumber",l),f.onNodeNamesPropertyModify("input","valueAsDate",l);b.each("disabled,min,max,value,step,data-placeholder".split(","),function(b,d){f.onNodeNamesPropertyModify("input",d,function(b){var a=f.data(this,"shadowData");if(a&&a.data&&a.data[d]&&a.nativeElement===this)a.data[d](this,a.shadowElement,b)})});if(!h.availabeLangs)h.availabeLangs=
"af ar ar-DZ az bg bs ca cs da de el en-AU en-GB en-NZ eo es et eu fa fi fo fr fr-CH gl he hr hu hy id is it ja ko kz lt lv ml ms nl no pl pt-BR rm ro ru sk sl sq sr sr-SR sv ta th tr uk vi zh-CN zh-HK zh-TW".split(" ");l=function(){b.datepicker&&(f.activeLang({langObj:b.datepicker.regional,module:"form-number-date-ui",callback:function(a){a=b.extend({},p,a,h.datepicker);a.dateFormat&&h.datepicker.dateFormat!=a.dateFormat&&b("input.hasDatepicker").filter(".input-date, .input-datetime-local-date").datepicker("option",
"dateFormat",a.dateFormat).getNativeElement().filter("[data-placeholder]").attr("data-placeholder",function(b,c){return c});b.datepicker.setDefaults(a)}}),b(m).unbind("jquery-uiReady.langchange input-widgetsReady.langchange"))};b(m).bind("jquery-uiReady.langchange input-widgetsReady.langchange",l);l();(function(){var a=function(){var c={};return function(a){return a in c?c[a]:c[a]=b('<input type="'+a+'" />')[0].type===a}}();if(!a("number")){var d=f.cfg["forms-ext"],c=f.inputTypes,h=function(a,d,e){e=
e||{};if(!("type"in e))e.type=b.prop(a,"type");if(!("step"in e))e.step=f.getStep(a,e.type);if(!("valueAsNumber"in e))e.valueAsNumber=c[e.type].asNumber(b.prop(a,"value"));var h="any"==e.step?c[e.type].step*c[e.type].stepScaleFactor:e.step;f.addMinMaxNumberToCache("min",b(a),e);f.addMinMaxNumberToCache("max",b(a),e);if(isNaN(e.valueAsNumber))e.valueAsNumber=c[e.type].stepBase||0;if("any"!==e.step&&(a=Math.round(1E7*((e.valueAsNumber-(e.minAsnumber||0))%e.step))/1E7)&&Math.abs(a)!=e.step)e.valueAsNumber-=
a;a=e.valueAsNumber+h*d;return a=!isNaN(e.minAsNumber)&&a<e.minAsNumber?e.valueAsNumber*d<e.minAsNumber?e.minAsNumber:isNaN(e.maxAsNumber)?e.valueAsNumber:e.maxAsNumber:!isNaN(e.maxAsNumber)&&a>e.maxAsNumber?e.valueAsNumber*d>e.maxAsNumber?e.maxAsNumber:isNaN(e.minAsNumber)?e.valueAsNumber:e.minAsNumber:Math.round(1E7*a)/1E7};f.modules["form-number-date-ui"].getNextStep=h;var i=function(a,d,e){if(!a.disabled&&!a.readOnly&&!b(e).hasClass("step-controls")&&(b.prop(a,"value",c[d].numberToString(h(a,
b(e).hasClass("step-up")?1:-1,{type:d}))),b(a).unbind("blur.stepeventshim"),n(a,"input"),m.activeElement)){if(m.activeElement!==a)try{a.focus()}catch(f){}setTimeout(function(){if(m.activeElement!==a)try{a.focus()}catch(c){}b(a).one("blur.stepeventshim",function(){n(a,"change")})},0)}};if(d.stepArrows){var g={set:function(){var a=f.data(this,"step-controls");if(a)a[this.disabled||this.readonly?"addClass":"removeClass"]("disabled-step-control")}};f.onNodeNamesPropertyModify("input","disabled",g);f.onNodeNamesPropertyModify("input",
"readonly",b.extend({},g))}var l={38:1,40:-1};f.addReady(function(g,m){d.stepArrows&&b("input",g).add(m.filter("input")).each(function(){var e=b.prop(this,"type");if(c[e]&&c[e].asNumber&&d.stepArrows&&!(!0!==d.stepArrows&&!d.stepArrows[e]||a(e)||b(g).hasClass("has-step-controls"))){var g=this,j=b('<span class="step-controls" unselectable="on"><span class="step-up" /><span class="step-down" /></span>').insertAfter(g).bind("selectstart dragstart",function(){return!1}).bind("mousedown mousepress",function(a){i(g,
e,a.target);return!1}).bind("mousepressstart mousepressend",function(a){b(a.target)["mousepressstart"==a.type?"addClass":"removeClass"]("mousepress-ui")}),m=function(a,d){if(!g.disabled&&!g.readOnly&&d)return b.prop(g,"value",c[e].numberToString(h(g,d,{type:e}))),n(g,"input"),!1},q=b(g).addClass("has-step-controls").attr({readonly:g.readOnly,disabled:g.disabled,autocomplete:"off",role:"spinbutton"}).bind(b.browser.msie?"keydown":"keypress",function(a){if(!g.disabled&&!g.readOnly&&l[a.keyCode])return b.prop(g,
"value",c[e].numberToString(h(g,l[a.keyCode],{type:e}))),n(g,"input"),!1});"number"==e&&q.bind("keypress",function(){return function(a){var b=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">b||-1<"0123456789.".indexOf(b)}}());b.fn.mwheelIntent?q.add(j).bind("mwheelIntent",m):b.fn.mousewheel&&q.bind("focus",function(){q.add(j).unbind(".mwhellwebshims").bind("mousewheel.mwhellwebshims",m)}).bind("blur",function(){b(g).add(j).unbind(".mwhellwebshims")});f.data(g,
"step-controls",j);if(d.calculateWidth){var p;q.bind("updateshadowdom",function(){if(!p&&(g.offsetWidth||g.offsetHeight))p=!0,u(q,j),j.css("marginTop",(q.outerHeight()-j.outerHeight())/2)}).triggerHandler("updateshadowdom")}}})})}})();f.addReady(function(a,d){b(m).bind("jquery-uiReady.initinputui input-widgetsReady.initinputui",function(){if(b.datepicker||b.fn.slider){if(b.datepicker&&!p.dateFormat)p.dateFormat=b.datepicker._defaults.dateFormat;i(a,d)}b.datepicker&&b.fn.slider?b(m).unbind(".initinputui"):
f.modules["input-widgets"].src||f.warn('jQuery UI Widget factory is already included, but not datepicker or slider. configure src of $.webshims.modules["input-widgets"].src')})})});
