Modernizr.formvalidation||jQuery.webshims.register("form-extend",function(c,i,s,n){i.inputTypes=i.inputTypes||{};var q=i.cfg.forms,l,o=i.inputTypes,p={radio:1,checkbox:1};i.addInputType=function(a,b){o[a]=b};var g={customError:false,typeMismatch:false,rangeUnderflow:false,rangeOverflow:false,stepMismatch:false,tooLong:false,patternMismatch:false,valueMissing:false,valid:true},h={valueMissing:function(a,b,d){if(!a.attr("required"))return false;var f=false;if(!("type"in d))d.type=(a[0].getAttribute("type")||
a[0].type||"").toLowerCase();if(d.nodeName=="select"){if(b=!b){if(!(b=a[0].selectedIndex<0)){a=a[0];if(a.type=="select-one"&&a.size<2){a=c("> option:first-child",a);b=!a.attr("disabled")&&a.attr("selected")}else b=false}b=b}a=b}else a=p[d.type]?d.type=="checkbox"?!a.is(":checked"):!c(a[0].form&&a[0].name?a[0].form[a[0].name]:[]).filter(":checked")[0]:!b;return f=a},tooLong:function(a,b,d){if(b===""||d.nodeName=="select")return false;a=a.attr("maxlength");d=false;var f=b.length;if(f&&a>=0&&b.replace&&
(typeof a=="number"||a&&a==a*1))d=f>a;return d},typeMismatch:function(a,b,d){if(b===""||d.nodeName=="select")return false;var f=false;if(!("type"in d))d.type=(a[0].getAttribute("type")||a[0].type||"").toLowerCase();if(o[d.type]&&o[d.type].mismatch)f=o[d.type].mismatch(b,a);return f},patternMismatch:function(a,b,d){if(b===""||d.nodeName=="select")return false;a=a.attr("pattern");if(!a)return false;return!RegExp("^(?:"+a+")$").test(b)}};i.addValidityRule=function(a,b){h[a]=b};c.event.special.invalid=
{add:function(){c.data(this,"invalidEventShim")||c.event.special.invalid.setup.call(this)},setup:function(){c(this).bind("submit",c.event.special.invalid.handler).data("invalidEventShim",true);var a=c(this).data("events").submit;a&&a.length>1&&a.unshift(a.pop())},teardown:function(){c(this).unbind("submit",c.event.special.invalid.handler).data("invalidEventShim",false)},handler:function(a){if(!(a.type!="submit"||!c.nodeName(a.target,"form")||c.attr(a.target,"novalidate")!=null||c.data(a.target,"novalidate"))){l=
true;if(!c(a.target).checkValidity()){!a.originalEvent&&s.console&&console.log&&console.log("submit");a.stopImmediatePropagation();return l=false}l=false}}};i.addInputType("email",{mismatch:function(){var a=q.emailReg||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|(\x22((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?\x22))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;
return function(b){return!a.test(b)}}()});i.addInputType("url",{mismatch:function(){var a=q.urlReg||/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;
return function(b){return!a.test(b)}}()});i.defineNodeNamesProperties(["button","fieldset","output"],{checkValidity:{value:function(){return true}},willValidate:{value:false},setCustomValidity:{value:c.noop},validity:{set:c.noop,get:function(){return g}}});i.defineNodeNamesProperties(["input","textarea","select","form"],{checkValidity:{value:function(){var a,b=function(d){var f,j=c.attr(d,"validity");if(j)c.data(d,"cachedValidity",j);else return true;if(!j.valid){f=c.Event("invalid");var k=c(d).trigger(f);
if(l&&!a&&!f.isDefaultPrevented()){i.validityAlert.showFor(k);a=true}}c.data(d,"cachedValidity",false);return j.valid};return function(){a=false;if(c.nodeName(this,"form")){for(var d=true,f=this.elements||c("input, textarea, select",this),j=0,k=f.length;j<k;j++)b(f[j])||(d=false);return d}else return b(this)}}()},setCustomValidity:{value:function(a){c.data(this,"customvalidationMessage",""+a)}},willValidate:{set:c.noop,get:function(){var a={button:1,reset:1,hidden:1};return function(){return!!(this.form&&
!this.disabled&&!this.readOnly&&!a[this.type]&&c.attr(this.form,"novalidate")==null)}}()},validity:{set:c.noop,get:function(){var a=c.data(this,"cachedValidity");if(a)return a;a=c.extend({},g);if(!c.attr(this,"willValidate")||this.type=="submit")return a;var b=c(this),d=b.val(),f={nodeName:this.nodeName.toLowerCase()};this.getAttribute("aria-invalid");a.customError=!!c.data(this,"customvalidationMessage");if(a.customError)a.valid=false;c.each(h,function(j,k){if(k(b,d,f)){a[j]=true;a.valid=false}});
this.setAttribute("aria-invalid",a.valid?"false":"true");return a}}});i.defineNodeNamesBooleanProperty(["input","textarea","select"],"required",{set:function(a){this.setAttribute("aria-required",a?"true":"false")},initAttr:true});var m=function(){var a=this;if(a.form){c.data(a.form,"novalidate",true);setTimeout(function(){c.data(a.form,"novalidate",false)},1)}},e={submit:1,button:1};c(n).bind("click",function(a){a.target&&a.target.form&&e[a.target.type]&&c.attr(a.target,"formnovalidate")!=null&&m.call(a.target)});
i.addReady(function(a,b){var d=c("form",a).add(b.filter("form")).bind("invalid",c.noop).find("button[formnovalidate]").bind("click",m).end();setTimeout(function(){if(!n.activeElement||!n.activeElement.form){var f=true;c("input, select, textarea",d).each(function(){if(!f)return false;if(this.getAttribute("autofocus")!=null){f=false;var j=i.getVisualInput(this),k=c("input, select, textarea, .ui-slider-handle",j).filter(":visible:first");k[0]||(k=j);try{k[0].focus()}catch(r){}}})}},0)})});
jQuery.webshims.ready("dom-support form-core",function(c,i,s,n,q){Modernizr.textareaPlaceholder=!!("placeholder"in c("<textarea />")[0]);if(!(Modernizr.input.placeholder&&Modernizr.textareaPlaceholder)){var l=i.cfg.forms.placeholderType=="over";n=["textarea"];Modernizr.input.placeholder||n.push("input");var o=function(a){var b=s.onbeforeunload;s.onbeforeunload=function(){a.apply(this,arguments);b&&b.apply&&b.apply(this,arguments);s.onbeforeunload=null}},p=function(a,b,d){if(!l&&a.type!="password"){if(d===
false)d=c.attr(a,"value");a.value=d}b.box.removeClass("placeholder-visible")},g=function(a,b,d,f,j){if(!f){f=c.data(a,"placeHolder");if(!f)return}if(j=="focus"||!j&&a===document.activeElement){if(a.type=="password"||l||c(a).hasClass("placeholder-visible"))p(a,f,"")}else{if(b===false)b=c.attr(a,"value");if(b)p(a,f,b);else{if(d===false)d=c.attr(a,"placeholder")||"";if(d&&!b){b=f;d=d;if(d===false)d=c.attr(a,"placeholder")||"";if(!l&&a.type!="password")a.value=d;b.box.addClass("placeholder-visible")}else p(a,
f,b)}}},h=function(a){a=c(a);var b=a.attr("id"),d=!!(a.attr("title")||a.attr("aria-labeledby"));if(!d&&b)d=!!c('label[for="'+b+'"]',a[0].form)[0];return c(d?'<span class="placeholder-text"></span>':'<label for="'+(b||c.webshims.getID(a))+'" class="placeholder-text"></label>')},m=function(){var a={text:1,search:1,url:1,email:1,password:1,tel:1};return{create:function(b){var d=c.data(b,"placeHolder");if(d)return d;d=c.data(b,"placeHolder",{text:h(b)});c(b).bind("focus.placeholder blur.placeholder",
function(k){g(this,false,false,d,k.type)});b.form&&c(b.form).bind("reset.placeholder",function(k){setTimeout(function(){g(b,false,false,d,k.type)},0)});if(b.type=="password"||l){d.box=c(b).wrap('<span class="placeholder-box placeholder-box-'+(b.nodeName||"").toLowerCase()+'" />').parent();d.text.insertAfter(b).bind("mousedown.placeholder",function(){g(this,false,false,d,"focus");try{setTimeout(function(){b.focus()},0)}catch(k){}return false});c.each(["Left","Top"],function(k,r){var t=(parseInt(c.curCSS(b,
"padding"+r),10)||0)+Math.max(parseInt(c.curCSS(b,"margin"+r),10)||0,0)+(parseInt(c.curCSS(b,"border"+r+"Width"),10)||0);d.text.css("padding"+r,t)});c.curCSS(b,"lineHeight");var f={width:c(b).width(),height:c(b).height()},j=c.curCSS(b,"float");c.each(["lineHeight","fontSize","fontFamily","fontWeight"],function(k,r){var t=c.curCSS(b,r);d.text.css(r)!=t&&d.text.css(r,t)});f.width&&f.height&&d.text.css(f);j!=="none"&&d.box.addClass("placeholder-box-"+j)}else{f=function(k){if(c(b).hasClass("placeholder-visible")){p(b,
d,"");k&&k.type=="submit"&&setTimeout(function(){k.isDefaultPrevented()&&g(b,false,false,d)},9)}};if(c.nodeName(d.text[0],"label"))d.text.hide()[c.browser.msie?"insertBefore":"insertAfter"](b);o(f);d.box=c(b);b.form&&c(b.form).submit(f)}return d},update:function(b,d){if(a[c.attr(b,"type")]||c.nodeName(b,"textarea")){var f=m.create(b);f.text.text(d);g(b,false,d,f)}}}}();c.webshims.publicMethods={pHolder:m};n.forEach(function(a){i.defineNodeNameProperty(a,"placeholder",{set:function(b){i.contentAttr(this,
"placeholder",b);m.update(this,b)},get:function(){return i.contentAttr(this,"placeholder")||""},initAttr:true})});n.forEach(function(a){var b=i.defineNodeNameProperty(a,"value",{set:function(d){var f=i.contentAttr(this,"placeholder");f&&"value"in this&&g(this,d,f);return b._supset.call(this,d)},get:function(){return c(this).hasClass("placeholder-visible")?"":b._supget.call(this)}})});var e=c.fn.val;c.fn.val=function(a){if(a!==q){this.each(a===""?function(){if(this.nodeType===1){var b=this.getAttribute("placeholder");
if(c.nodeName(this,"select")||!b)e.call(c(this),"");else{b&&"value"in this&&g(this,a,b);if(l||this.type=="password")e.call(c(this),"")}}}:function(){if(this.nodeType===1){var b=this.getAttribute("placeholder");b&&"value"in this&&g(this,a,b)}});if(a==="")return this}else if(this[0]&&this[0].nodeType==1&&this.hasClass("placeholder-visible"))return"";return e.apply(this,arguments)}}});
jQuery.webshims.ready("dom-support",function(c,i,s,n,q){(function(){var l={input:1,textarea:1},o={updateInput:1,input:1},p={radio:1,checkbox:1,submit:1,button:1,image:1,reset:1,color:1},g=function(h){var m,e=h.attr("value"),a=function(d){if(h){var f=h.attr("value");if(f!==e){e=f;if(!d||!o[d.type])i.triggerInlineForm(h[0],"input")}}},b=function(){h.unbind("focusout",b).unbind("input",a).unbind("updateInput",a);clearInterval(m);a();h=null};clearInterval(m);m=setInterval(a,c.browser.mozilla?250:111);
setTimeout(a,9);h.bind("focusout",b).bind("input updateInput",a)};c(n).bind("focusin",function(h){if(h.target&&h.target.type&&!h.target.readonly&&!h.target.readOnly&&!h.target.disabled&&l[(h.target.nodeName||"").toLowerCase()]&&!p[h.target.type])g(c(h.target))})})();(function(){if(!("value"in n.createElement("output"))){var l=function(g){if(!g.getAttribute("aria-live")){g=c(g);var h=(g.text()||"").trim(),m=g.attr("id"),e=g.attr("for"),a=c('<input class="output-shim" type="hidden" name="'+(g.attr("name")||
"")+'" value="'+h+'" style="display: none" />').insertAfter(g),b=a[0].form||n,d=function(f){a[0].value=f;f=a[0].value;g.text(f);i.contentAttr(g[0],"value",f)};g[0].defaultValue=h;i.contentAttr(g[0],"value",h);g.attr({"aria-live":"polite"});if(m){a.attr("id",m);g.attr("aria-labeldby",i.getID(c('label[for="'+m+'"]',b)))}if(e){m=i.getID(g);e.split(" ").forEach(function(f){(f=b.getElementById(f))&&f.setAttribute("aria-controls",m)})}g.data("outputShim",d);a.data("outputShim",d);return d}};i.defineNodeNameProperty("output",
"value",{set:function(g){var h=c.data(this,"outputShim");h||(h=l(this));h(g)},get:function(){return i.contentAttr(this,"value")||c(this).text()||""}});var o=function(g){var h=c.data(this,"outputShim");h&&h(g)};i.onNodeNamesPropertyModify("input","value",{set:o});var p=c.fn.val;c.fn.val=function(g){var h=p.apply(this,arguments);this[0]&&g!==q&&c.nodeName(this[0],"input")&&o.call(this[0],g);return h};i.addReady(function(g,h){c("output",g).add(h.filter("output")).each(function(){l(this)})})}})();(function(){if(!Modernizr.datalist){var l=
0,o={submit:1,button:1,reset:1,hidden:1,range:1,date:1},p=c.browser.msie&&parseInt(c.browser.version,10)<7,g={},h=function(e){if(!e)return[];if(g[e])return g[e];var a;i.ready("json-storage",function(){try{a=JSON.parse(localStorage.getItem("storedDatalistOptions"+e))}catch(b){}g[e]=a||[]});return a||[]},m={_create:function(e){if(!o[(e.input.getAttribute("type")||"").toLowerCase()||e.input.type]){var a=e.id&&n.getElementById(e.id),b=c.data(e.input,"datalistWidget");if(a&&b&&b.datalist!==a){b.datalist=
a;b.id=e.id;b._resetListCached()}else if(a){if(!(b&&b.datalist===a)){l++;var d=this;this.timedHide=function(){clearTimeout(d.hideTimer);d.hideTimer=setTimeout(c.proxy(d,"hideList"),9)};this.datalist=a;this.id=e.id;this.lazyIDindex=l;this.hasViewableData=true;this._autocomplete=c.attr(e.input,"autocomplete");c.data(e.input,"datalistWidget",this);this.shadowList=c('<div class="datalist-polyfill" />').appendTo("body");this.index=-1;this.input=e.input;this.arrayOptions=[];this.shadowList.delegate("li",
"mouseover.datalistWidget mousedown.datalistWidget click.datalistWidget",function(f){var j=c("li:not(.hidden-item)",d.shadowList),k=f.type=="mousedown"||f.type=="click";d.markItem(j.index(f.target),k,j);f.type=="click"&&d.hideList();return f.type!="mousedown"}).bind("focusout",this.timedHide);e.input.setAttribute("autocomplete","off");c(e.input).attr({"aria-haspopup":"true"}).bind("input.datalistWidget",c.proxy(this,"showHideOptions")).bind("keydown.datalistWidget",function(f){var j=f.keyCode;if(j==
40&&!d.showList()){d.markItem(d.index+1,true);return false}if(d.isListVisible){if(j==38){d.markItem(d.index-1,true);return false}if(!f.shiftKey&&(j==33||j==36)){d.markItem(0,true);return false}if(!f.shiftKey&&(j==34||j==35)){f=c("li:not(.hidden-item)",d.shadowList);d.markItem(f.length-1,true,f);return false}if(j==13||j==27){if(j==13){f=c("li.active-item:not(.hidden-item)",d.shadowList);if(f[0]){c.attr(d.input,"value",f.attr("data-value"));c(d.input).triggerHandler("updateInput")}}d.hideList();return false}}}).bind("focus.datalistWidget",
function(){c(this).hasClass("list-focus")&&d.showList()}).bind("blur.datalistWidget",this.timedHide);c(this.datalist).unbind("updateDatalist.datalistWidget").bind("updateDatalist.datalistWidget",c.proxy(this,"_resetListCached"));this._resetListCached();e.input.form&&e.input.id&&c(e.input.form).bind("submit.datalistWidget"+e.input.id,function(){var f=c.attr(e.input,"value");d.storedOptions=h(e.input.name||e.input.id);if(f&&c.inArray(f,d.storedOptions)==-1){d.storedOptions.push(f);f=e.input.name||e.input.id;
var j=d.storedOptions;if(f){j=j||[];try{localStorage.setItem("storedDatalistOptions"+f,JSON.stringify(j))}catch(k){}}}});c(s).bind("unload",function(){d.destroy()})}}else b&&b.destroy()}},destroy:function(){var e=c.attr(this.input,"autocomplete");c(this.input).unbind(".datalistWidget").removeData("datalistWidget");this.shadowList.remove();c(n).unbind(".datalist"+this.id);this.input.form&&this.input.id&&c(this.input.form).unbind("submit.datalistWidget"+this.input.id);this.input.removeAttribute("aria-haspopup");
e===q?this.input.removeAttribute("autocomplete"):c(this.input).attr("autocomplete",e)},_resetListCached:function(){var e=this;this.needsUpdate=true;this.lastUpdatedValue=false;this.lastUnfoundValue="";clearTimeout(this.updateTimer);this.updateTimer=setTimeout(function(){e.updateListOptions()},this.isListVisible?0:40*this.lazyIDindex)},updateListOptions:function(){this.needsUpdate=false;clearTimeout(this.updateTimer);this.shadowList.css({fontSize:c.curCSS(this.input,"fontSize"),fontFamily:c.curCSS(this.input,
"fontFamily"),id:this.datalist.id+"-polyfill"});var e='<ul role="list" class="'+(this.datalist.className||"")+'">',a=[],b=[];c("option",this.datalist).each(function(d){if(!this.disabled){var f={value:c(this).val()||"",text:c.trim(c.attr(this,"label")||this.textContent||this.innerText||c.text([this])||""),className:this.className||"",style:c.attr(this,"style")||""};if(!f.text)f.text=f.value;a[d]=f.value;b[d]=f}});this.storedOptions=h(this.input.name||this.input.id);this.storedOptions.forEach(function(d){c.inArray(d,
a)==-1&&b.push({value:d,text:d,className:"",style:""})});b.forEach(function(d){var f=d.value.indexOf('"')!=-1?"'"+d.value+"'":'"'+d.value+'"';e+="<li data-value="+f+' class="'+d.className+'" style="'+d.style+'" tabindex="-1" role="listitem">'+d.text+"</li>"});e+="</ul>";this.arrayOptions=b;this.shadowList.html(e);this.isListVisible&&this.showHideOptions()},showHideOptions:function(){var e=c.attr(this.input,"value").toLowerCase();if(!(e===this.lastUpdatedValue||this.lastUnfoundValue&&e.indexOf(this.lastUnfoundValue)===
0)){this.lastUpdatedValue=e;var a=false,b=c("li",this.shadowList);if(e)this.arrayOptions.forEach(function(d,f){if(!("lowerText"in d)){d.lowerText=d.text.toLowerCase();d.lowerValue=d.value.toLowerCase()}if(d.lowerText.indexOf(e)!==-1||d.lowerValue.indexOf(e)!==-1){c(b[f]).removeClass("hidden-item");a=true}else c(b[f]).addClass("hidden-item")});else{b.removeClass("hidden-item");a=true}if(this.hasViewableData=a)this.showList();else{this.lastUnfoundValue=e;this.hideList()}}},showList:function(){if(this.isListVisible)return false;
this.needsUpdate&&this.updateListOptions();this.showHideOptions();if(!this.hasViewableData)return false;var e=this,a=c(this.input).offset();a.top+=c(this.input).outerHeight();a.width=c(this.input).outerWidth()-(parseInt(this.shadowList.css("borderLeftWidth"),10)||0)-(parseInt(this.shadowList.css("borderRightWidth"),10)||0);if(p){this.shadowList.css("height","auto");this.shadowList.height()>250&&this.shadowList.css("height",220)}this.shadowList.css(a).addClass("datalist-visible");this.isListVisible=
true;c(n).bind("mousedown.datalist"+this.id+" focusin.datalist"+this.id,function(b){if(b.target===e.input||e.shadowList[0]===b.target||c.contains(e.shadowList[0],b.target)){clearTimeout(e.hideTimer);setTimeout(function(){clearTimeout(e.hideTimer)},0)}else e.timedHide()});return true},hideList:function(){if(!this.isListVisible)return false;this.shadowList.removeClass("datalist-visible list-item-active").scrollTop(0).find("li.active-item").removeClass("active-item");this.index=-1;this.isListVisible=
false;c(this.input).removeAttr("aria-activedescendant");c(n).unbind(".datalist"+this.id);return true},scrollIntoView:function(e){var a=c("> ul",this.shadowList),b=e.position();b.top-=(parseInt(a.css("paddingTop"),10)||0)+(parseInt(a.css("marginTop"),10)||0)+(parseInt(a.css("borderTopWidth"),10)||0);if(b.top<0)this.shadowList.scrollTop(this.shadowList.scrollTop()+b.top-2);else{b.top+=e.outerHeight();e=this.shadowList.height();b.top>e&&this.shadowList.scrollTop(this.shadowList.scrollTop()+(b.top-e)+
2)}},markItem:function(e,a,b){b=b||c("li:not(.hidden-item)",this.shadowList);if(b.length){if(e<0)e=b.length-1;else if(e>=b.length)e=0;b.removeClass("active-item");this.shadowList.addClass("list-item-active");b=b.filter(":eq("+e+")").addClass("active-item");if(a){c.attr(this.input,"value",b.attr("data-value"));c.attr(this.input,"aria-activedescendant",c.webshims.getID(b));c(this.input).triggerHandler("updateInput");this.scrollIntoView(b)}this.index=e}}};i.defineNodeNameProperties("input",{list:{get:function(){var e=
i.contentAttr(this,"list");return e==null?q:e},set:function(e){i.contentAttr(this,"list",e);i.objectCreate(m,q,{input:this,id:e})},initAttr:true},selectedOption:{set:c.noop,get:function(){var e=c.attr(this,"list"),a=null,b;if(!e)return a;b=c.attr(this,"value");if(!b)return a;e=c.attr(e,"options");if(!e.length)return a;c.each(e,function(d,f){if(b==c.attr(f,"value")){a=f;return false}});return a}},autocomplete:{get:function(){var e=c.data(this,"datalistWidget");if(e)return e._autocomplete;return"autocomplete"in
this?this.autocomplete:this.getAttribute("autocomplete")},set:function(e){var a=c.data(this,"datalistWidget");if(a){a._autocomplete=e;e=="off"&&a.hideList()}else if("autocomplete"in this)this.autocomplete=e;else this.setAttribute("autocomplete",e)}}});i.defineNodeNameProperty("datalist","options",{get:function(){var e=c("select",this);return e[0]?e[0].options:[]}});i.addReady(function(e,a){a.filter("select, option").each(function(){var b=this.parentNode;if(b&&!c.nodeName(b,"datalist"))b=b.parentNode;
b&&c.nodeName(b,"datalist")&&c(b).triggerHandler("updateDatalist")})})}})()});
