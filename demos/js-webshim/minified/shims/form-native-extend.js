webshims.register("form-native-extend",function(e,t,n,a){"use strict";var i=n.Modernizr;if(i.inputtypes,i.formvalidation&&!t.bugs.bustedValidity){var r=t.inputTypes,o={},s=function(){var t,n=function(){e(this).prop("validity")},a=function(){e("input").each(n)};return function(){clearTimeout(t),t=setTimeout(a,9)}}();t.addInputType=function(n,a){r[n]=a,e.isDOMReady&&i.formvalidation&&!t.bugs.bustedValidity&&s()},t.addValidityRule=function(e,t){o[e]=t},t.addValidityRule("typeMismatch",function(e,t,n,a){if(""===t)return!1;var i=a.typeMismatch;return"type"in n||(n.type=(e[0].getAttribute("type")||"").toLowerCase()),r[n.type]&&r[n.type].mismatch&&(i=r[n.type].mismatch(t,e)),i});var u=!t.modules["form-number-date-api"].test(),l=["customError","typeMismatch","rangeUnderflow","rangeOverflow","stepMismatch","tooLong","patternMismatch","valueMissing","valid"],c=["value"],p=[],d=function(t){t&&((t.getAttribute&&t.getAttribute("type")||t.type||"").toLowerCase(),e.prop(t,"validity"))},f={};if(["input","textarea","select"].forEach(function(n){var a=t.defineNodeNameProperty(n,"setCustomValidity",{prop:{value:function(i){i+="";var r="input"==n?e(this).getNativeElement()[0]:this;a.prop._supvalue.call(r,i),u&&(t.data(r,"hasCustomError",!!i),d(r))}}});f[n]=a.prop._supvalue}),u&&(c.push("min"),c.push("max"),c.push("step"),p.push("input")),u){var h;if(p.forEach(function(n){var a=t.defineNodeNameProperty(n,"validity",{prop:{get:function(){if(!h){var i="input"==n?e(this).getNativeElement()[0]:this,s=a.prop._supget.call(i);if(!s)return s;var u={};if(l.forEach(function(e){u[e]=s[e]}),!e.prop(i,"willValidate"))return u;h=!0;var c,p=e(i),d={type:(i.getAttribute&&i.getAttribute("type")||"").toLowerCase(),nodeName:(i.nodeName||"").toLowerCase()},m=p.val(),v=!!t.data(i,"hasCustomError");if(h=!1,u.customError=v,u.valid&&u.customError)u.valid=!1;else if(!u.valid){var g=!0;e.each(u,function(e,t){return t?(g=!1,!1):undefined}),g&&(u.valid=!0)}return e.each(o,function(e,a){u[e]=a(p,m,d,u),u[e]&&(u.valid||!c)&&r[d.type]&&r[d.type].mismatch&&(f[n].call(i,t.createValidationMessage(i,e)),u.valid=!1,c=!0)}),u.valid&&(f[n].call(i,""),t.data(i,"hasCustomError",!1)),u}},writeable:!1}})}),c.forEach(function(e){t.onNodeNamesPropertyModify(p,e,function(){d(this)})}),a.addEventListener){var m,v=function(e){"form"in e.target&&(e.target.form,clearTimeout(m),d(e.target))};a.addEventListener("change",v,!0),a.addEventListener("input",function(e){clearTimeout(m),m=setTimeout(function(){d(e.target)},290)},!0)}var g=p.join(",");t.addReady(function(t,n){e(g,t).add(n.filter(g)).each(function(){e.prop(this,"validity")})})}t.defineNodeNameProperty("input","type",{prop:{get:function(){var e=this,n=(e.getAttribute("type")||"").toLowerCase();return t.inputTypes[n]?n:e.type}}})}});