jQuery.webshims.register("form-extend",function(e,b,j,m,o,h){j=j.Modernizr;o=j.inputtypes;if(j.formvalidation&&!b.bugs.bustedValidity){var k=b.inputTypes,u={};b.addInputType=function(a,d){k[a]=d};b.addValidityRule=function(a,d){u[a]=d};b.addValidityRule("typeMismatch",function(a,d,c,b){if(""===d)return!1;b=b.typeMismatch;if(!("type"in c))c.type=(a[0].getAttribute("type")||"").toLowerCase();k[c.type]&&k[c.type].mismatch&&(b=k[c.type].mismatch(d,a));return b});var i=h.overrideMessages,q=!o.number||
!o.time||!o.range||i,y="customError,typeMismatch,rangeUnderflow,rangeOverflow,stepMismatch,tooLong,patternMismatch,valueMissing,valid".split(","),h=i?["value","checked"]:["value"],g=[],p=function(a,b){if(a){var c=(a.getAttribute&&a.getAttribute("type")||a.type||"").toLowerCase();if(i||k[c])i&&!b&&"radio"==c&&a.name?e(m.getElementsByName(a.name)).each(function(){e.prop(this,"validity")}):e.prop(a,"validity")}},n={};["input","textarea","select"].forEach(function(a){var d=b.defineNodeNameProperty(a,
"setCustomValidity",{prop:{value:function(c){var c=c+"",l="input"==a?e(this).getNativeElement()[0]:this;d.prop._supvalue.call(l,c);b.bugs.validationMessage&&b.data(l,"customvalidationMessage",c);q&&(b.data(l,"hasCustomError",!!c),p(l))}}});n[a]=d.prop._supvalue});if(q||i)h.push("min"),h.push("max"),h.push("step"),g.push("input");i&&(h.push("required"),h.push("pattern"),g.push("select"),g.push("textarea"));if(q){var r;g.forEach(function(a){var d=b.defineNodeNameProperty(a,"validity",{prop:{get:function(){if(!r){var c=
"input"==a?e(this).getNativeElement()[0]:this,l=d.prop._supget.call(c);if(!l)return l;var f={};y.forEach(function(a){f[a]=l[a]});if(!e.prop(c,"willValidate"))return f;r=!0;var v=e(c),h={type:(c.getAttribute&&c.getAttribute("type")||"").toLowerCase(),nodeName:(c.nodeName||"").toLowerCase()},j=v.val(),g=!!b.data(c,"hasCustomError"),s;r=!1;f.customError=g;if(f.valid&&f.customError)f.valid=!1;else if(!f.valid){var w=!0;e.each(f,function(a,c){if(c)return w=!1});if(w)f.valid=!0}e.each(u,function(d,e){f[d]=
e(v,j,h,f);if(f[d]&&(f.valid||!s)&&(i||k[h.type]&&k[h.type].mismatch))n[a].call(c,b.createValidationMessage(c,d)),f.valid=!1,s=!0});f.valid?(n[a].call(c,""),b.data(c,"hasCustomError",!1)):i&&!s&&!g&&e.each(f,function(d,e){if("valid"!==d&&e)return n[a].call(c,b.createValidationMessage(c,d)),!1});return f}},writeable:!1}})});h.forEach(function(a){b.onNodeNamesPropertyModify(g,a,function(){p(this)})});if(m.addEventListener){var t;m.addEventListener("change",function(a){clearTimeout(t);p(a.target)},!0);
m.addEventListener("input",function(a){clearTimeout(t);t=setTimeout(function(){p(a.target)},290)},!0)}var x=g.join(",");b.addReady(function(a,b){e(x,a).add(b.filter(x)).each(function(){e.prop(this,"validity")})});i&&b.ready("DOM form-message",function(){b.activeLang({register:"form-core",callback:function(){e("input, select, textarea").getNativeElement().each(function(){if(!b.data(this,"hasCustomError")){var a=this,d=e.prop(a,"validity")||{valid:!0},c;d.valid||(c=(a.nodeName||"").toLowerCase(),e.each(d,
function(d,e){if("valid"!==d&&e)return n[c].call(a,b.createValidationMessage(a,d)),!1}))}})}})})}b.defineNodeNameProperty("input","type",{prop:{get:function(){var a=(this.getAttribute("type")||"").toLowerCase();return b.inputTypes[a]?a:this.type}}});e.browser.webkit&&j.inputtypes.date&&function(){var a={updateInput:1,input:1},b={date:1,time:1,"datetime-local":1},c={focusout:1,blur:1},h={updateInput:1,change:1},f=function(b){var d,e=!0,f=b.prop("value"),i=f,g=function(c){if(b){var d=b.prop("value");
d!==f&&(f=d,(!c||!a[c.type])&&b.trigger("input"));c&&h[c.type]&&(i=d);!e&&d!==i&&b.trigger("change")}},j,k=function(a){clearInterval(d);setTimeout(function(){a&&c[a.type]&&(e=!1);b&&(b.unbind("focusout blur",k).unbind("input change updateInput",g),g());b=null},1)};clearInterval(d);d=setInterval(g,160);clearTimeout(j);j=setTimeout(g,9);b.unbind("focusout blur",k).unbind("input change updateInput",g);b.bind("focusout blur",k).bind("input updateInput change",g)};if(e.event.customEvent)e.event.customEvent.updateInput=
!0;e(m).bind("focusin",function(a){a.target&&b[a.target.type]&&!a.target.readOnly&&!a.target.disabled&&f(e(a.target))})}();j.input.list&&!(e("<datalist><select><option></option></select></datalist>").prop("options")||[]).length&&b.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var a=this.options||[];if(!a.length){var b=e("select",this);if(b[0]&&b[0].options&&b[0].options.length)a=b[0].options}return a}}})}});
