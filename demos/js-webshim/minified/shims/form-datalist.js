webshims.register("form-datalist",function(e,t,n,a,r,i){"use strict";var o=function(n){n&&"string"==typeof n||(n="DOM"),o[n+"Loaded"]||(o[n+"Loaded"]=!0,t.ready(n,function(){e(function(){t.loader.loadList(["form-datalist-lazy"])})}))},s={submit:1,button:1,reset:1,hidden:1,range:1,date:1,month:1};t.modules["form-number-date-ui"].loaded&&e.extend(s,{number:1,time:1}),t.propTypes.element=function(n){t.createPropDefault(n,"attr"),n.prop||(n.prop={get:function(){var t=e.attr(this,"list");return t&&(t=a.getElementById(t),t&&n.propNodeName&&!e.nodeName(t,n.propNodeName)&&(t=null)),t||null},writeable:!1})},function(){var u=e.webshims.cfg.forms,l=Modernizr.input.list;if(!l||u.customDatalist){var c=function(){l||t.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var n,a=this,r=e("select",a);return r[0]?n=r[0].options:(n=e("option",a).get(),n.length&&t.warn("you should wrap your option-elements for a datalist in a select element to support IE and other old browsers.")),n}}});var n={autocomplete:{attr:{get:function(){var t=this,n=e.data(t,"datalistWidget");return n?n._autocomplete:"autocomplete"in t?t.autocomplete:t.getAttribute("autocomplete")},set:function(t){var n=this,a=e.data(n,"datalistWidget");a?(a._autocomplete=t,"off"==t&&a.hideList()):"autocomplete"in n?n.autocomplete=t:n.setAttribute("autocomplete",t)}}}};!u.customDatalist||l&&"selectedOption"in e("<input />")[0]||(n.selectedOption={prop:{writeable:!1,get:function(){var t,n,a=this,i=e.prop(a,"list"),o=null;return i?(t=e.prop(a,"value"))?(n=e.prop(i,"options"),n.length?(e.each(n,function(n,a){return t==e.prop(a,"value")?(o=a,!1):r}),o):o):o:o}}}),l?((e("<datalist><select><option></option></select></datalist>").prop("options")||[]).length||t.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var t=this.options||[];if(!t.length){var n=this,a=e("select",n);a[0]&&a[0].options&&a[0].options.length&&(t=a[0].options)}return t}}}),n.list={attr:{get:function(){var n=t.contentAttr(this,"list");return null!=n?(e.data(this,"datalistListAttr",n),s[e.prop(this,"type")]||s[e.attr(this,"type")]||this.removeAttribute("list")):n=e.data(this,"datalistListAttr"),null==n?r:n},set:function(n){var a=this;e.data(a,"datalistListAttr",n),s[e.prop(this,"type")]||s[e.attr(this,"type")]?a.setAttribute("list",n):t.objectCreate(p,r,{input:a,id:n,datalist:e.prop(a,"list")}),e(a).triggerHandler("listdatalistchange")}},initAttr:!0,reflect:!0,propType:"element",propNodeName:"datalist"}):n.list={attr:{get:function(){var e=t.contentAttr(this,"list");return null==e?r:e},set:function(n){var a=this;t.contentAttr(a,"list",n),t.objectCreate(p,r,{input:a,id:n,datalist:e.prop(a,"list")}),e(a).triggerHandler("listdatalistchange")}},initAttr:!0,reflect:!0,propType:"element",propNodeName:"datalist"},t.defineNodeNameProperties("input",n),t.addReady(function(t,n){n.filter("datalist > select, datalist, datalist > option, datalist > select > option").closest("datalist").each(function(){e(this).triggerHandler("updateDatalist")})})},p={_create:function(n){if(!s[e.prop(n.input,"type")]&&!s[e.attr(n.input,"type")]){var a=n.datalist,i=e.data(n.input,"datalistWidget"),u=this;return a&&i&&i.datalist!==a?(i.datalist=a,i.id=n.id,e(i.datalist).off("updateDatalist.datalistWidget").on("updateDatalist.datalistWidget",e.proxy(i,"_resetListCached")),i._resetListCached(),r):a?(i&&i.datalist===a||(this.datalist=a,this.id=n.id,this.hasViewableData=!0,this._autocomplete=e.attr(n.input,"autocomplete"),e.data(n.input,"datalistWidget",this),o("WINDOWLOAD"),t.isReady("form-datalist-lazy")?this._lazyCreate(n):(e(n.input).one("focus",o),t.ready("form-datalist-lazy",function(){u._destroyed||u._lazyCreate(n)}))),r):(i&&i.destroy(),r)}},destroy:function(){var t=e.attr(this.input,"autocomplete");e(this.input).off(".datalistWidget").removeData("datalistWidget"),this.shadowList.remove(),e(a).off(".datalist"+this.id),e(n).off(".datalist"+this.id),this.input.form&&this.input.id&&e(this.input.form).off("submit.datalistWidget"+this.input.id),this.input.removeAttribute("aria-haspopup"),t===r?this.input.removeAttribute("autocomplete"):e(this.input).attr("autocomplete",t),this._destroyed=!0}};t.loader.addModule("form-datalist-lazy",{noAutoCallback:!0,options:e.extend(i,{shadowListProto:p})}),c()}}()});