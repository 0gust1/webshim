(function(b){b.extend(b.expr.filters,{valid:function(l){return(b.attr(l,"validity")||{valid:true}).valid},invalid:function(l){return!b.expr.filters.valid(l)},willValidate:function(l){return b.attr(l,"willValidate")}});b.webshims.validityAlert=function(){var l={hideDelay:5E3,showFor:function(o,r){o=b(o);var a=(o.data("inputUIReplace")||{visual:o}).visual;i();j();this.getMessage(o);this.position(a);this.show();if(this.hideDelay)d=setTimeout(m,this.hideDelay);if(!r){o.focus();b(document).bind("focusout.validityalert",
m)}},getMessage:function(o){b("> div",p).html(o.attr("validationMessage"))},position:function(o){var r=o.offset();r.top+=o.outerHeight();p.css(r)},show:function(){p.css("display")==="none"?p.fadeIn():p.fadeTo(1)},hide:function(){j();p.fadeOut()}},p=b('<div class="validity-alert" role="alert"><div class="va-box" /></div>').css({position:"absolute",display:"none"}),d=false,m=b.proxy(l,"hide"),g=false,i=function(){if(!g){g=true;b(function(){p.appendTo("body")})}},j=function(){clearTimeout(d);b(document).unbind("focusout.validityalert");
p.stop()};return l}();b.webshims.validityMessages.en=b.webshims.validityMessages.en||b.webshims.validityMessages["en-US"]||{typeMismatch:{email:"{%value} is not a legal email address",url:"{%value} is not a valid web address",number:"{%value} is not a number!",date:"{%value} is not a date",time:"{%value} is not a time",range:"{%value} is not a number!","datetime-local":"{%value} is not a correct date-time format."},rangeUnderflow:"{%value} is too low. The lowest value you can use is {%min}.",rangeOverflow:"{%value}  is too high. The highest value you can use is {%max}.",
stepMismatch:"The value {%value} is not allowed for this form. Only certain values are allowed for this field. {%title}",tooLong:"The entered text is too large! You used {%valueLen} letters and the limit is {%maxlength}.",patternMismatch:"{%value} is not in the format this page requires! {%title}",valueMissing:"You have to specify a value"};b.webshims.validityMessages["en-US"]=b.webshims.validityMessages["en-US"]||b.webshims.validityMessages.en;b.webshims.validityMessages[""]=b.webshims.validityMessages[""]||
b.webshims.validityMessages.en;b.webshims.validityMessages.de=b.webshims.validityMessages.de||{typeMismatch:{email:"{%value} ist keine zul\u00e4ssige E-Mail-Adresse",url:"{%value} ist keine zul\u00e4ssige Webadresse",number:"{%value} ist keine Nummer!",date:"{%value} ist kein Datum",time:"{%value} ist keine Uhrzeit",range:"{%value} ist keine Nummer!","datetime-local":"{%value} ist kein Datum-Uhrzeit Format."},rangeUnderflow:"{%value} ist zu niedrig. {%min} ist der unterste Wert, den Sie benutzen k\u00f6nnen.",
rangeOverflow:"{%value} ist zu hoch. {%max} ist der oberste Wert, den Sie benutzen k\u00f6nnen.",stepMismatch:"Der Wert {%value} ist in diesem Feld nicht zul\u00e4ssig. Hier sind nur bestimmte Werte zul\u00e4ssig. {%title}",tooLong:"Der eingegebene Text ist zu lang! Sie haben {%valueLen} Buchstaben eingegeben, dabei sind {%maxlength} das Maximum.",patternMismatch:"{%value} hat f\u00fcr diese Seite ein falsches Format! {%title}",valueMissing:"Sie m\u00fcssen einen Wert eingeben"};var q=b.webshims.validityMessages[""];
b(document).bind("htmlExtLangChange",function(){b.webshims.activeLang(b.webshims.validityMessages,"validation-base",function(l){q=l})});b.webshims.createValidationMessage=function(l,p){var d=q[p];if(d&&typeof d!=="string")d=d[(l.getAttribute("type")||"").toLowerCase()]||d.defaultMessage;d&&b.each(["value","min","max","title","maxlength","label"],function(m,g){if(d.indexOf("{%"+g)!==-1){var i=(g=="label"?b.trim(b("label[for="+l.id+"]",l.form).text()).replace(/\*$|:$/,""):b.attr(l,g))||"";d=d.replace("{%"+
g+"}",i);if("value"==g)d=d.replace("{%valueLen}",i.length)}});return d||""};b.each(b.support.validationMessage?["customValidationMessage"]:["customValidationMessage","validationMessage"],function(l,p){b.webshims.attr(p,{elementNames:["input","select","textarea"],getter:function(d){var m="";if(!b.attr(d,"willValidate"))return m;var g=b.attr(d,"validity")||{valid:1};if(g.valid)return m;if(g.customError||p==="validationMessage")if(m="validationMessage"in d?d.validationMessage:b.data(d,"customvalidationMessage"))return m;
b.each(g,function(i,j){if(!(i=="valid"||!j))if(m=b.webshims.createValidationMessage(d,i))return false});return m||""}})});(function(){var l,p=[],d,m,g;b.support.validity===true&&document.addEventListener&&!window.noHTMLExtFixes&&document.addEventListener("submit",function(i){i.target.checkValidity&&b.attr(i.target,"novalidate")===undefined&&i.target.checkValidity()},true);b(document).bind("invalid",function(i){if(!l){m=i.target.form;if(b.support.validity===true&&m&&!window.noHTMLExtFixes){var j=b(m).bind("submit.preventInvalidSubmit",
function(o){if(b.attr(m,"novalidate")===undefined){o.stopImmediatePropagation();return false}}).data("events").submit;j&&j.length>1&&j.unshift(j.pop())}l=b.Event("firstinvalid");b(i.target).trigger(l)}l&&l.isDefaultPrevented()&&i.preventDefault();if(b.support.validity!==true||b.inArray(i.target,p)==-1)p.push(i.target);else if(!window.noHTMLExtFixes){g=true;i.stopImmediatePropagation()}i.extraData="fix";clearTimeout(d);d=setTimeout(function(){var o={type:"lastinvalid",cancelable:false,invalidlist:b(p)};
b.browser.webkit&&!g&&l.target!==document.activeElement&&!b.data(l.target,"maybePreventedinvalid")&&b.webshims.validityAlert.showFor(l.target);l=g=false;p=[];b(m).unbind("submit.preventInvalidSubmit");b(i.target).trigger(o,o)},0)})})();b.support.validationMessage=b.support.validationMessage||"shim"})(jQuery);
(function(b){if(!(b.support.validity!==true||b.support.fieldsetValidation||window.noHTMLExtFixes)){b.support.fieldsetValidation="shim";b.webshims.addMethod("checkValidity",function(){if(b.nodeName(this,"fieldset")){var q=true;b(this.elements||"input, textarea, select",this).each(function(){if(this.checkValidity)this.checkValidity()||(q=false)});return q}else if(this.checkValidity)return this.checkValidity()})}})(jQuery);
(function(b){if(!(b.support.validity===true&&b('<input type="datetime-local" />')[0].type=="datetime-local"&&b('<input type="range" />')[0].type=="range")){var q=b.webshims.inputTypes;b.webshims.addInputType=function(g,i){q[g]=i};var l={};b.webshims.addValidityRule=function(g,i){l[g]=i};b.webshims.addValidityRule("typeMismatch",function(g,i,j){if(i==="")return false;var o=false;if(!("type"in j))j.type=(g[0].getAttribute("type")||"").toLowerCase();if(q[j.type]&&q[j.type].mismatch)o=q[j.type].mismatch(i,
g);return o});var p=["customError","typeMismatch","rangeUnderflow","rangeOverflow","stepMismatch","tooLong","patternMismatch","valueMissing","valid"],d=b.fn.val;b.webshims.attr("validity",{elementNames:["input"],getter:function(g){var i=g.validity;if(!i)return i;var j={};b.each(p,function(k,f){j[f]=i[f]});if(!b.attr(g,"willValidate"))return j;var o=b(g),r=d.call(o),a={},c=!!b.data(g,"hasCustomError");j.customError=c;if(j.valid&&j.customError)j.valid=false;else if(!j.valid){var e=true;b.each(j,function(k,
f){if(f)return e=false});if(e)j.valid=true}if((g.nodeName||"").toLowerCase()=="select")return j;b.each(l,function(k,f){var n;j[k]=f(o,r,a);if(j[k]&&j.valid){n=b.webshims.createValidationMessage(g,k);g.setCustomValidity(n);j.valid=false}});j.valid&&g.setCustomValidity("");return j}});b.webshims.addMethod("setCustomValidity",function(g){g+="";this.setCustomValidity(g);b.data(this,"hasCustomError",!!g)});var m=function(g){if(q[(g.getAttribute&&g.getAttribute("type")||"").toLowerCase()])b.attr(g,"validity")};
b.webshims.attr("value",{elementNames:["input"],setter:function(g,i,j){j();m(g)},getter:true});b.fn.val=function(){var g=d.apply(this,arguments);this.each(function(){m(this)});return g};document.addEventListener&&document.addEventListener("change",function(g){m(g.target)},true);b.webshims.readyModules("number-date-type",function(){b.webshims.addReady(function(g){b("input",g).each(function(){m(this)})})},true,true)}})(jQuery);
(function(b){var q,l=function(){if(!q){q=true;var p=parseInt("NaN",10),d=b.webshims.inputTypes,m=function(a){return typeof a=="number"||b.trim(a)&&a==a*1},g=function(a){return b('<input type="'+a+'" />').attr("type")===a},i=function(a){return(a.getAttribute("type")||"").toLowerCase()},j=function(a,c){var e=b.attr(a,"step");if(e==="any")return e;c=c||i(a);if(!d[c]||!d[c].step)return e;e=d.number.asNumber(e);return(!isNaN(e)&&e>0?e:d[c].step)*d[c].stepScaleFactor},o=function(a,c,e){if(!(a+"AsNumber"in
e)){e[a+"AsNumber"]=d[e.type].asNumber(c.attr(a));if(isNaN(e[a+"AsNumber"])&&a+"Default"in d[e.type])e[a+"AsNumber"]=d[e.type][a+"Default"]}},r=function(a,c){a=""+a;c-=a.length;for(var e=0;e<c;e++)a="0"+a;return a};b.webshims.addValidityRule("stepMismatch",function(a,c,e){if(c==="")return false;if(!("type"in e))e.type=i(a[0]);if(e.type=="date")return false;var k=false;if(d[e.type]&&d[e.type].step){if(!("step"in e))e.step=j(a[0],e.type);if(e.step=="any")return false;if(!("valueAsNumber"in e))e.valueAsNumber=
d[e.type].asNumber(c);if(isNaN(e.valueAsNumber))return false;o("min",a,e);a=e.minAsNumber;if(isNaN(a))a=d[e.type].stepBase||0;k=Math.abs((e.valueAsNumber-a)%e.step);k=!(k<=1.0E-7||Math.abs(k-e.step)<=1.0E-7)}return k});b.each([{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",factor:-1}],function(a,c){b.webshims.addValidityRule(c.name,function(e,k,f){var n=false;if(k==="")return n;if(!("type"in f))f.type=i(e[0]);if(d[f.type]&&d[f.type].asNumber){if(!("valueAsNumber"in f))f.valueAsNumber=
d[f.type].asNumber(k);if(isNaN(f.valueAsNumber))return false;o(c.attr,e,f);if(isNaN(f[c.attr+"AsNumber"]))return n;n=f[c.attr+"AsNumber"]*c.factor<=f.valueAsNumber*c.factor-1.0E-7}return n})});b.webshims.attr("valueAsNumber",{elementNames:["input"],getter:function(a){var c=i(a);return d[c]&&d[c].asNumber?d[c].asNumber(b.attr(a,"value")):p},setter:function(a,c,e){var k=i(a);if(d[k]&&d[k].numberToString)if(isNaN(c))b.attr(a,"value","");else{c=d[k].numberToString(c);if(c!==false)b.attr(a,"value",c);
else throw"INVALID_STATE_ERR: DOM Exception 11";}else e()}});b.webshims.attr("valueAsDate",{elementNames:["input"],getter:function(a){var c=i(a);return d[c]&&d[c].asDate&&!d[c].noAsDate?d[c].asDate(b.attr(a,"value")):null},setter:function(a,c,e){var k=i(a);if(d[k]&&d[k].dateToString){if(!window.noHTMLExtFixes)throw"there are some serious issues in opera's implementation. don't use!";if(c===null)b.attr(a,"value","");else{c=d[k].dateToString(c);if(c!==false)b.attr(a,"value",c);else throw"INVALID_STATE_ERR: DOM Exception 11";
}}else e()}});g("number")||b.webshims.addInputType("number",{mismatch:function(a){return!m(a)},step:1,stepScaleFactor:1,asNumber:function(a){return m(a)?a*1:p},numberToString:function(a){return m(a)?a:false}});!g("number")&&d.number&&b.webshims.addInputType("range",b.extend({},d.number,{minDefault:0,maxDefault:100}));!g("date")&&d.number&&b.webshims.addInputType("date",{mismatch:function(a){if(!a||!a.split||!/\d$/.test(a))return true;var c=a.split(/\u002D/);if(c.length!==3)return true;var e=false;
b.each(c,function(k,f){if(!(m(f)||f&&f=="0"+f*1)){e=true;return false}});if(e)return e;if(c[0].length!==4||c[1].length!=2||c[1]>12||c[2].length!=2||c[2]>33)e=true;return a!==this.dateToString(this.asDate(a,true))},step:1,stepScaleFactor:864E5,asDate:function(a,c){if(!c&&this.mismatch(a))return null;return new Date(this.asNumber(a,true))},asNumber:function(a,c){var e=p;if(c||!this.mismatch(a)){a=a.split(/\u002D/);e=Date.UTC(a[0],a[1]-1,a[2])}return e},numberToString:function(a){return m(a)?this.dateToString(new Date(a*
1)):false},dateToString:function(a){return a&&a.getFullYear?a.getUTCFullYear()+"-"+r(a.getUTCMonth()+1,2)+"-"+r(a.getUTCDate(),2):false}});!g("time")&&d.number&&d.date&&b.webshims.addInputType("time",b.extend({},d.date,{mismatch:function(a,c){if(!a||!a.split||!/\d$/.test(a))return true;a=a.split(/\u003A/);if(a.length<2||a.length>3)return true;var e=false,k;if(a[2]){a[2]=a[2].split(/\u002E/);k=parseInt(a[2][1],10);a[2]=a[2][0]}b.each(a,function(f,n){if(!(m(n)||n&&n=="0"+n*1)||n.length!==2){e=true;
return false}});if(e)return true;if(a[0]>23||a[0]<0||a[1]>59||a[1]<0)return true;if(a[2]&&(a[2]>59||a[2]<0))return true;if(k&&isNaN(k))return true;if(k)if(k<100)k*=100;else if(k<10)k*=10;return c===true?[a,k]:false},step:60,stepBase:0,stepScaleFactor:1E3,asDate:function(a){a=new Date(this.asNumber(a));return isNaN(a)?null:a},asNumber:function(a){var c=p;a=this.mismatch(a,true);if(a!==true){c=Date.UTC("1970",0,1,a[0][0],a[0][1],a[0][2]||0);if(a[1])c+=a[1]}return c},dateToString:function(a){if(a&&a.getUTCHours){var c=
r(a.getUTCHours(),2)+":"+r(a.getUTCMinutes(),2),e=a.getSeconds();if(e!="0")c+=":"+r(e,2);e=a.getUTCMilliseconds();if(e!="0")c+="."+r(e,3);return c}else return false}}));!g("datetime-local")&&d.number&&d.time&&b.webshims.addInputType("datetime-local",b.extend({},d.time,{mismatch:function(a,c){if(!a||!a.split||(a+"special").split(/\u0054/).length!==2)return true;a=a.split(/\u0054/);return d.date.mismatch(a[0])||d.time.mismatch(a[1],c)},noAsDate:true,asDate:function(a){a=new Date(this.asNumber(a));return isNaN(a)?
null:a},asNumber:function(a){var c=p,e=this.mismatch(a,true);if(e!==true){a=a.split(/\u0054/)[0].split(/\u002D/);c=Date.UTC(a[0],a[1]-1,a[2],e[0][0],e[0][1],e[0][2]||0);if(e[1])c+=e[1]}return c},dateToString:function(a,c){return d.date.dateToString(a)+"T"+d.time.dateToString(a,c)}}));(function(){var a=b.webshims.loader.modules["number-date-type"].options,c=function(f,n,h){h=h||{};if(!("type"in h))h.type=i(f);if(!("step"in h))h.step=j(f,h.type);if(!("valueAsNumber"in h))h.valueAsNumber=d[h.type].asNumber(b.attr(f,
"value"));var s=h.step=="any"?d[h.type].step*d[h.type].stepScaleFactor:h.step;o("min",b(f),h);o("max",b(f),h);if(isNaN(h.valueAsNumber))h.valueAsNumber=d[h.type].stepBase||0;if(h.step!=="any")h.valueAsNumber=Math.round((h.valueAsNumber-(h.valueAsNumber-(h.minAsnumber||0))%h.step)*1E7)/1E7;f=h.valueAsNumber+s*n;if(!isNaN(h.minAsNumber)&&f<h.minAsNumber)f=h.valueAsNumber*n<h.minAsNumber?h.minAsNumber:isNaN(h.maxAsNumber)?Number.MAX_VALUE:h.maxAsNumber;else if(!isNaN(h.maxAsNumber)&&f>h.maxAsNumber)f=
h.valueAsNumber*n>h.maxAsNumber?h.maxAsNumber:isNaN(h.minAsNumber)?Number.MIN_VALUE:h.minAsNumber;return f},e=function(f,n,h){if(!(f.disabled||f.readOnly||b(h).hasClass("step-controls"))){b.attr(f,"value",d[n].numberToString(c(f,b(h).hasClass("step-up")?1:-1,{type:n})));b(f).unbind("blur.stepeventshim").trigger("input");if(document.activeElement){if(document.activeElement!==f)try{f.focus()}catch(s){}setTimeout(function(){if(document.activeElement!==f)try{f.focus()}catch(t){}b(f).one("blur.stepeventshim",
function(){b(f).trigger("change")})},0)}}};if(a.stepArrows){var k={elementNames:["input"],setter:function(f,n,h){h();if(n=b.data(f,"step-controls"))n[f.disabled||f.readonly?"addClass":"removeClass"]("disabled-step-control")}};b.webshims.attr("disabled",k);b.webshims.attr("readonly",k)}b.webshims.addReady(function(f){a.stepArrows&&b("input",f).each(function(){var n=i(this);if(!(!d[n]||!d[n].asNumber||!a.stepArrows||a.stepArrows!==true&&!a.stepArrows[n])){var h=this,s=b(this).css("direction")=="rtl"?
{action:"insertBefore",side:"Left",otherSide:"right"}:{action:"insertAfter",side:"Right",otherSide:"left"},t=b('<span class="step-controls"><span class="step-up" /><span class="step-down" tabindex="-1" /></span>')[s.action](this).bind("mousedown mousepress",function(v){e(h,n,v.target);return false});b(this).addClass("has-step-controls").data("step-controls",t).attr({readonly:this.readOnly,disabled:this.disabled});if(a.recalcWidth){var u=t.outerWidth(true)+(parseInt(b(this).css("padding"+s.side),10)||
0),w=parseInt(b(this).css("border"+s.side+"width"),10)||0;t.css(s.otherSide,(w+u)*-1);u++;b(this).css("width",b(this).width()-u).css("padding"+s.side,u)}}})})})();b.webshims.attr("type",{elementNames:["input"],getter:function(a){var c=i(a);return b.webshims.inputTypes[c]?c:a.type||a.getAttribute("type")},setter:true})}};if(b.webshims.addValidityRule)l();else b.support.validity===true?b.webshims.readyModules("implement-types",l,true,true):b.webshims.readyModules("validity",l,true,true)})(jQuery);
