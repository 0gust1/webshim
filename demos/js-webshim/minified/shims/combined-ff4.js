jQuery.webshims.ready("es5",function(a){a.extend(a.expr.filters,{valid:function(o){return(a.attr(o,"validity")||{valid:true}).valid},invalid:function(o){return!a.expr.filters.valid(o)},willValidate:function(o){return a.attr(o,"willValidate")}});a.webshims.triggerInlineForm=function(){var o=function(l){if(typeof l!="string"||l.indexOf("-")!==-1||l.indexOf(".")!==-1||l.indexOf('"')!==-1)return"";return"var "+l+' = this.form["'+l+'"];'};return function(l,q){var d=l["on"+q]||l.getAttribute("on"+q)||"";
q=a.Event({type:q,target:l[0],currentTarget:l[0]});if(d&&typeof d=="string"&&l.form&&l.form.elements){var e="";a(l.form.elements).each(function(){var c=this.name,g=this.id;if(g||c){if(c)e+=o(c);if(g&&g!==c)e+=o(g)}});(function(){eval(e+d)}).call(l,q)}a(l).trigger(q)}}();a.webshims.validityAlert=function(){var o={hideDelay:5E3,showFor:function(g,p,n){g=a(g);var r=(g.data("inputUIReplace")||{visual:g}).visual;c();o.clear();l.attr("for",r.attr("id"));this.getMessage(g,p);this.position(r);this.show();
if(this.hideDelay)q=setTimeout(d,this.hideDelay);if(!n){g=a("input, select, textarea, .ui-slider-handle",r).filter(":visible:first");g[0]||(g=r);g.focus();a(document).bind("focusout.validityalert",d)}},getMessage:function(g,p){a("> span",l).html(p||g.attr("validationMessage"))},position:function(g){var p=g.offset();p.top+=g.outerHeight();l.css(p)},show:function(){l.css("display")==="none"?l.fadeIn():l.fadeTo(400,1)},hide:function(){o.clear();l.fadeOut()},clear:function(){clearTimeout(q);a(document).unbind("focusout.validityalert");
l.stop().removeAttr("for")},alert:a('<label class="validity-alert" role="alert"><span class="va-box" /></label>').css({position:"absolute",display:"none"})},l=o.alert,q=false,d=a.proxy(o,"hide"),e=false,c=function(){if(!e){e=true;a(function(){l.appendTo("body")})}};return o}();a.webshims.validityMessages.en=a.webshims.validityMessages.en||a.webshims.validityMessages["en-US"]||{typeMismatch:{email:"{%value} is not a legal email address",url:"{%value} is not a valid web address",number:"{%value} is not a number!",
date:"{%value} is not a date",time:"{%value} is not a time",range:"{%value} is not a number!","datetime-local":"{%value} is not a correct date-time format."},rangeUnderflow:"{%value} is too low. The lowest value you can use is {%min}.",rangeOverflow:"{%value}  is too high. The highest value you can use is {%max}.",stepMismatch:"The value {%value} is not allowed for this form.",tooLong:"The entered text is too large! You used {%valueLen} letters and the limit is {%maxlength}.",patternMismatch:"{%value} is not in the format this page requires! {%title}",
valueMissing:"You have to specify a value"};a.webshims.validityMessages["en-US"]=a.webshims.validityMessages["en-US"]||a.webshims.validityMessages.en;a.webshims.validityMessages[""]=a.webshims.validityMessages[""]||a.webshims.validityMessages.en;a.webshims.validityMessages.de=a.webshims.validityMessages.de||{typeMismatch:{email:"{%value} ist keine zul\u00e4ssige E-Mail-Adresse",url:"{%value} ist keine zul\u00e4ssige Webadresse",number:"{%value} ist keine Nummer!",date:"{%value} ist kein Datum",time:"{%value} ist keine Uhrzeit",
range:"{%value} ist keine Nummer!","datetime-local":"{%value} ist kein Datum-Uhrzeit Format."},rangeUnderflow:"{%value} ist zu niedrig. {%min} ist der unterste Wert, den Sie benutzen k\u00f6nnen.",rangeOverflow:"{%value} ist zu hoch. {%max} ist der oberste Wert, den Sie benutzen k\u00f6nnen.",stepMismatch:"Der Wert {%value} ist in diesem Feld nicht zul\u00e4ssig. Hier sind nur bestimmte Werte zul\u00e4ssig. {%title}",tooLong:"Der eingegebene Text ist zu lang! Sie haben {%valueLen} Buchstaben eingegeben, dabei sind {%maxlength} das Maximum.",
patternMismatch:"{%value} hat f\u00fcr diese Seite ein falsches Format! {%title}",valueMissing:"Sie m\u00fcssen einen Wert eingeben"};(function(){var o,l=[],q,d,e,c;if(a.support.validity===true&&window.addEventListener&&!window.noHTMLExtFixes){var g={timer:undefined,prevented:false};window.addEventListener("submit",function(n){if(!g.prevented&&n.target.checkValidity&&a.attr(n.target,"novalidate")===undefined&&!n.target.checkValidity())e=true},true);var p=function(n){if(a.attr(n.target,"formnovalidate")!==
undefined){g.timer&&clearTimeout(g.timer);g.prevented=true;g.timer=setTimeout(function(){g.prevented=false},20)}};window.addEventListener("click",p,true);window.addEventListener("touchstart",p,true);window.addEventListener("touchend",p,true)}a(document).bind("invalid",function(n){if(!o){d=n.target.form;if(a.support.validity===true&&d&&!window.noHTMLExtFixes){var r=a(d).bind("submit.preventInvalidSubmit",function(s){if(a.attr(d,"novalidate")===undefined){s.stopImmediatePropagation();return false}}).data("events").submit;
r&&r.length>1&&r.unshift(r.pop())}o=a.Event("firstinvalid");a(n.target).trigger(o)}o&&o.isDefaultPrevented()&&n.preventDefault();if(a.support.validity!==true||l.indexOf(n.target)==-1)l.push(n.target);else if(!window.noHTMLExtFixes){c=true;n.stopImmediatePropagation()}n.extraData="fix";clearTimeout(q);q=setTimeout(function(){var s={type:"lastinvalid",cancelable:false,invalidlist:a(l)};e&&!c&&o.target!==document.activeElement&&document.activeElement&&!a.data(o.target,"maybePreventedinvalid")&&a.webshims.validityAlert.showFor(o.target);
e=o=c=false;l=[];a(d).unbind("submit.preventInvalidSubmit");a(n.target).trigger(s,s)},0)})})();(function(){if(!(a.support.validity!==true||a.support.fieldsetValidation||window.noHTMLExtFixes)){a.support.fieldsetValidation="shim";a.webshims.addMethod("checkValidity",function(){if(a.nodeName(this,"fieldset")){var o=true;a(this.elements||"input, textarea, select",this).each(function(){if(this.checkValidity)this.checkValidity()||(o=false)});return o}else if(this.checkValidity)return this.checkValidity()})}})();
(function(){var o=a.support.validity===true&&a.webshims.overrideValidationMessages,l=true,q=true;if(a.support.validity===true){l=!!("required"in document.createElement("select")||window.noHTMLExtFixes);q=!!(a('<input type="datetime-local" />')[0].type=="datetime-local"&&a('<input type="range" />')[0].type=="range")}var d=!l||!q||o,e=a.webshims.inputTypes,c={},g=["customError","typeMismatch","rangeUnderflow","rangeOverflow","stepMismatch","tooLong","patternMismatch","valueMissing","valid"],p=a.attr,
n=a.fn.val,r=o?{value:1,checked:1}:{value:1},s=o?["textarea"]:[],b={radio:1,checkbox:1},h=function(f,m){if(f.form){var j=(f.getAttribute&&f.getAttribute("type")||f.type||"").toLowerCase();if(!o)if(!(!l&&j=="select-one")&&!e[j])return;o&&!m&&b[j]&&f.name?a(document.getElementsByName(f.name)).each(function(){a.attr(this,"validity")}):a.attr(f,"validity")}};if(!l||o){a.extend(r,{required:1,size:1,multiple:1,selectedIndex:1});s.push("select")}if(!q||o){a.extend(r,{min:1,max:1,step:1});s.push("input")}select=
null;var i=a.webshims.validityMessages[""];a(document).bind("htmlExtLangChange",function(){a.webshims.activeLang(a.webshims.validityMessages,"validation-base",function(f){i=f})});a.webshims.createValidationMessage=function(f,m){var j=i[m];if(j&&typeof j!=="string")j=j[(f.getAttribute("type")||"").toLowerCase()]||j.defaultMessage;j&&["value","min","max","title","maxlength","label"].forEach(function(k){if(j.indexOf("{%"+k)!==-1){var t=(k=="label"?a.trim(a("label[for="+f.id+"]",f.form).text()).replace(/\*$|:$/,
""):a.attr(f,k))||"";j=j.replace("{%"+k+"}",t);if("value"==k)j=j.replace("{%valueLen}",t.length)}});return j||""};a.each(a.support.validationMessage?["customValidationMessage"]:["customValidationMessage","validationMessage"],function(f,m){a.webshims.attr(m,{elementNames:["input","select","textarea"],getter:function(j){var k="";if(!a.attr(j,"willValidate"))return k;var t=a.attr(j,"validity")||{valid:1};if(t.valid)return k;if(t.customError||m==="validationMessage")if(k="validationMessage"in j?j.validationMessage:
a.data(j,"customvalidationMessage"))return k;a.each(t,function(u,w){if(!(u=="valid"||!w))if(k=a.webshims.createValidationMessage(j,u))return false});return k||""}})});a.support.validationMessage=a.support.validationMessage||"shim";a.webshims.addMethod("setCustomValidity",function(f){f+="";if(this.setCustomValidity){this.setCustomValidity(f);if(d){a.data(this,"hasCustomError",!!f);h(this)}}else a.data(this,"customvalidationMessage",""+f)});if(a.support.validity===true){a.webshims.addInputType=function(f,
m){e[f]=m};a.webshims.addValidityRule=function(f,m){c[f]=m};a.webshims.addValidityRule("typeMismatch",function(f,m,j,k){if(m==="")return false;k=k.typeMismatch;if(!("type"in j))j.type=(f[0].getAttribute("type")||"").toLowerCase();if(e[j.type]&&e[j.type].mismatch)k=e[j.type].mismatch(m,f);return k})}if(!l){a.webshims.createBooleanAttrs("required",["select"]);a.webshims.addValidityRule("valueMissing",function(f,m,j,k){if(j.nodeName=="select"&&!m&&f.attr("required")&&f[0].size<2){if(!j.type)j.type=f[0].type;
if(j.type=="select-one"&&a("> option:first-child:not(:disabled)",f).attr("selected"))return true}return k.valueMissing})}if(d){a.webshims.attr("validity",{elementNames:s,getter:function(f){var m=f.validity;if(!m)return m;var j={};g.forEach(function(v){j[v]=m[v]});if(!a.attr(f,"willValidate"))return j;var k=a(f),t={type:(f.getAttribute&&f.getAttribute("type")||"").toLowerCase(),nodeName:(f.nodeName||"").toLowerCase()},u=n.call(k),w=!!a.data(f,"hasCustomError"),x;j.customError=w;if(j.valid&&j.customError)j.valid=
false;else if(!j.valid){var y=true;a.each(j,function(v,z){if(z)return y=false});if(y)j.valid=true}a.each(c,function(v,z){j[v]=z(k,u,t,j);if(j[v]&&(j.valid||!x&&o)){f.setCustomValidity(a.webshims.createValidationMessage(f,v));j.valid=false;x=true}});j.valid&&f.setCustomValidity("");return j}});a.fn.val=function(){var f=n.apply(this,arguments);this.each(function(){h(this)});return f};a.attr=function(f,m,j){var k=p.apply(this,arguments);r[m]&&j!==undefined&&f.form&&h(f);return k};if(document.addEventListener){document.addEventListener("change",
function(f){h(f.target)},true);q||document.addEventListener("input",function(f){h(f.target)},true)}a.webshims.addReady(function(f){f===document?a(s.join(",")).each(function(){h(this,true)}):a(s.join(","),f).each(function(){h(this,true)})})}})();a.webshims.createReadyEvent("validation-base")},true);
(function(a){var o,l=function(){if(!o){o=true;var q=parseInt("NaN",10),d=a.webshims.inputTypes,e=function(b){return typeof b=="number"||b&&b==b*1},c=function(b){return a('<input type="'+b+'" />').attr("type")===b},g=function(b){return(b.getAttribute("type")||"").toLowerCase()},p=function(b,h){var i=a.attr(b,"step");if(i==="any")return i;h=h||g(b);if(!d[h]||!d[h].step)return i;i=d.number.asNumber(i);return(!isNaN(i)&&i>0?i:d[h].step)*d[h].stepScaleFactor},n=function(b,h,i){if(!(b+"AsNumber"in i)){i[b+
"AsNumber"]=d[i.type].asNumber(h.attr(b));if(isNaN(i[b+"AsNumber"])&&b+"Default"in d[i.type])i[b+"AsNumber"]=d[i.type][b+"Default"]}},r=function(b,h){b=""+b;h-=b.length;for(var i=0;i<h;i++)b="0"+b;return b};a.webshims.addValidityRule("stepMismatch",function(b,h,i){if(h==="")return false;if(!("type"in i))i.type=g(b[0]);if(i.type=="date")return false;var f=false;if(d[i.type]&&d[i.type].step){if(!("step"in i))i.step=p(b[0],i.type);if(i.step=="any")return false;if(!("valueAsNumber"in i))i.valueAsNumber=
d[i.type].asNumber(h);if(isNaN(i.valueAsNumber))return false;n("min",b,i);b=i.minAsNumber;if(isNaN(b))b=d[i.type].stepBase||0;f=Math.abs((i.valueAsNumber-b)%i.step);f=!(f<=1.0E-7||Math.abs(f-i.step)<=1.0E-7)}return f});[{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",factor:-1}].forEach(function(b){a.webshims.addValidityRule(b.name,function(h,i,f){var m=false;if(i==="")return m;if(!("type"in f))f.type=g(h[0]);if(d[f.type]&&d[f.type].asNumber){if(!("valueAsNumber"in f))f.valueAsNumber=
d[f.type].asNumber(i);if(isNaN(f.valueAsNumber))return false;n(b.attr,h,f);if(isNaN(f[b.attr+"AsNumber"]))return m;m=f[b.attr+"AsNumber"]*b.factor<f.valueAsNumber*b.factor-1.0E-7}return m})});a.webshims.attr("valueAsNumber",{elementNames:["input"],getter:function(b){var h=g(b);return d[h]&&d[h].asNumber?d[h].asNumber(a.attr(b,"value")):q},setter:function(b,h,i){var f=g(b);if(d[f]&&d[f].numberToString)if(isNaN(h))a.attr(b,"value","");else{h=d[f].numberToString(h);if(h!==false)a.attr(b,"value",h);else throw"INVALID_STATE_ERR: DOM Exception 11";
}else i()}});a.webshims.attr("valueAsDate",{elementNames:["input"],getter:function(b){var h=g(b);return d[h]&&d[h].asDate&&!d[h].noAsDate?d[h].asDate(a.attr(b,"value")):null},setter:function(b,h,i){var f=g(b);if(d[f]&&d[f].dateToString){if(!window.noHTMLExtFixes)throw"there are some serious issues in opera's implementation. don't use!";if(h===null)a.attr(b,"value","");else{h=d[f].dateToString(h);if(h!==false)a.attr(b,"value",h);else throw"INVALID_STATE_ERR: DOM Exception 11";}}else i()}});var s={number:{mismatch:function(b){return!e(b)},
step:1,stepScaleFactor:1,asNumber:function(b){return e(b)?b*1:q},numberToString:function(b){return e(b)?b:false}},range:{minDefault:0,maxDefault:100},date:{mismatch:function(b){if(!b||!b.split||!/\d$/.test(b))return true;var h=b.split(/\u002D/);if(h.length!==3)return true;var i=false;a.each(h,function(f,m){if(!(e(m)||m&&m=="0"+m*1)){i=true;return false}});if(i)return i;if(h[0].length!==4||h[1].length!=2||h[1]>12||h[2].length!=2||h[2]>33)i=true;return b!==this.dateToString(this.asDate(b,true))},step:1,
stepScaleFactor:864E5,asDate:function(b,h){if(!h&&this.mismatch(b))return null;return new Date(this.asNumber(b,true))},asNumber:function(b,h){var i=q;if(h||!this.mismatch(b)){b=b.split(/\u002D/);i=Date.UTC(b[0],b[1]-1,b[2])}return i},numberToString:function(b){return e(b)?this.dateToString(new Date(b*1)):false},dateToString:function(b){return b&&b.getFullYear?b.getUTCFullYear()+"-"+r(b.getUTCMonth()+1,2)+"-"+r(b.getUTCDate(),2):false}},time:{mismatch:function(b,h){if(!b||!b.split||!/\d$/.test(b))return true;
b=b.split(/\u003A/);if(b.length<2||b.length>3)return true;var i=false,f;if(b[2]){b[2]=b[2].split(/\u002E/);f=parseInt(b[2][1],10);b[2]=b[2][0]}a.each(b,function(m,j){if(!(e(j)||j&&j=="0"+j*1)||j.length!==2){i=true;return false}});if(i)return true;if(b[0]>23||b[0]<0||b[1]>59||b[1]<0)return true;if(b[2]&&(b[2]>59||b[2]<0))return true;if(f&&isNaN(f))return true;if(f)if(f<100)f*=100;else if(f<10)f*=10;return h===true?[b,f]:false},step:60,stepBase:0,stepScaleFactor:1E3,asDate:function(b){b=new Date(this.asNumber(b));
return isNaN(b)?null:b},asNumber:function(b){var h=q;b=this.mismatch(b,true);if(b!==true){h=Date.UTC("1970",0,1,b[0][0],b[0][1],b[0][2]||0);if(b[1])h+=b[1]}return h},dateToString:function(b){if(b&&b.getUTCHours){var h=r(b.getUTCHours(),2)+":"+r(b.getUTCMinutes(),2),i=b.getSeconds();if(i!="0")h+=":"+r(i,2);i=b.getUTCMilliseconds();if(i!="0")h+="."+r(i,3);return h}else return false}},"datetime-local":{mismatch:function(b,h){if(!b||!b.split||(b+"special").split(/\u0054/).length!==2)return true;b=b.split(/\u0054/);
return d.date.mismatch(b[0])||d.time.mismatch(b[1],h)},noAsDate:true,asDate:function(b){b=new Date(this.asNumber(b));return isNaN(b)?null:b},asNumber:function(b){var h=q,i=this.mismatch(b,true);if(i!==true){b=b.split(/\u0054/)[0].split(/\u002D/);h=Date.UTC(b[0],b[1]-1,b[2],i[0][0],i[0][1],i[0][2]||0);if(i[1])h+=i[1]}return h},dateToString:function(b,h){return d.date.dateToString(b)+"T"+d.time.dateToString(b,h)}}};c("number")||a.webshims.addInputType("number",s.number);c("range")||a.webshims.addInputType("range",
a.extend({},s.number,s.range));c("date")||a.webshims.addInputType("date",s.date);c("time")||a.webshims.addInputType("time",a.extend({},s.date,s.time));c("datetime-local")||a.webshims.addInputType("datetime-local",a.extend({},s.date,s.time,s["datetime-local"]));(function(){var b=a.webshims.modules["number-date-type"].options,h=function(m,j,k){k=k||{};if(!("type"in k))k.type=g(m);if(!("step"in k))k.step=p(m,k.type);if(!("valueAsNumber"in k))k.valueAsNumber=d[k.type].asNumber(a.attr(m,"value"));var t=
k.step=="any"?d[k.type].step*d[k.type].stepScaleFactor:k.step;n("min",a(m),k);n("max",a(m),k);if(isNaN(k.valueAsNumber))k.valueAsNumber=d[k.type].stepBase||0;if(k.step!=="any")k.valueAsNumber=Math.round((k.valueAsNumber-(k.valueAsNumber-(k.minAsnumber||0))%k.step)*1E7)/1E7;m=k.valueAsNumber+t*j;if(!isNaN(k.minAsNumber)&&m<k.minAsNumber)m=k.valueAsNumber*j<k.minAsNumber?k.minAsNumber:isNaN(k.maxAsNumber)?Number.MAX_VALUE:k.maxAsNumber;else if(!isNaN(k.maxAsNumber)&&m>k.maxAsNumber)m=k.valueAsNumber*
j>k.maxAsNumber?k.maxAsNumber:isNaN(k.minAsNumber)?Number.MIN_VALUE:k.minAsNumber;return m};a.webshims.modules["number-date-type"].getNextStep=h;var i=function(m,j,k){if(!(m.disabled||m.readOnly||a(k).hasClass("step-controls"))){a.attr(m,"value",d[j].numberToString(h(m,a(k).hasClass("step-up")?1:-1,{type:j})));a(m).unbind("blur.stepeventshim").trigger("input");if(document.activeElement){if(document.activeElement!==m)try{m.focus()}catch(t){}setTimeout(function(){if(document.activeElement!==m)try{m.focus()}catch(u){}a(m).one("blur.stepeventshim",
function(){a(m).trigger("change")})},0)}}};if(b.stepArrows){var f={elementNames:["input"],setter:function(m,j,k){k();if(j=a.data(m,"step-controls"))j[m.disabled||m.readonly?"addClass":"removeClass"]("disabled-step-control")}};a.webshims.attr("disabled",f);a.webshims.attr("readonly",f)}a.webshims.addReady(function(m){b.stepArrows&&a("input",m).each(function(){var j=g(this);if(!(!d[j]||!d[j].asNumber||!b.stepArrows||b.stepArrows!==true&&!b.stepArrows[j])){var k=this,t=a(this).css("direction")=="rtl"?
{action:"insertBefore",side:"Left",otherSide:"right"}:{action:"insertAfter",side:"Right",otherSide:"left"},u=a('<span class="step-controls"><span class="step-up" /><span class="step-down" tabindex="-1" /></span>')[t.action](this).bind("selectstart dragstart",function(){return false}).bind("mousedown mousepress",function(y){i(k,j,y.target);return false});a(this).addClass("has-step-controls").data("step-controls",u).attr({readonly:this.readOnly,disabled:this.disabled});if(b.calculateWidth){var w=a(this).width()||
parseInt(a(this).css("width"),10);if(w){var x=(parseInt(a(this).css("margin"+t.side),10)||0)+(parseInt(u.css("margin"+t.side),10)||0);a(this).css("width",w-u.outerWidth(true));x&&u.css("margin"+t.side,x)}}}})})})();a.webshims.attr("type",{elementNames:["input"],getter:function(b){var h=g(b);return a.webshims.inputTypes[h]?h:b.type||b.getAttribute("type")},setter:true});a.webshims.createReadyEvent("number-date-type")}};a.support.validity===true?a.webshims.ready("validation-base",l,true):a.webshims.ready("validity",
l,true)})(jQuery);
(function(a){a.support.inputUI="shim";var o=a.webshims.modules.inputUI.options,l=function(d){a("input",d).each(function(){var e=a.attr(this,"type");l[e]&&!a.data(this,"inputUIReplace")&&l[e](a(this))})};l.common=function(d,e,c){a.support.validity===true&&d.bind("firstinvalid",function(n){setTimeout(function(){a.data(n.target,"maybePreventedinvalid")||a.webshims.validityAlert.showFor(n.target)},30)});var g=d.attr("id");g={css:{marginRight:d.css("marginRight"),marginLeft:d.css("marginLeft")},outerWidth:d.getouterWidth(),
label:g?a("label[for="+g+"]",d[0].form):a([])};var p=a.webshims.getID(g.label);e.addClass(d[0].className).data("html5element",d);d.after(e).data("inputUIReplace",{visual:e,methods:c}).hide();if(e.length==1&&!a("*",e)[0]){e.attr("aria-labeledby",p);g.label.bind("click",function(){e.focus();return false})}return g};l["datetime-local"]=function(d){if(a.fn.datepicker){var e=a('<span class="input-datetime-local"><input type="text" class="input-datetime-local-date" /><input type="time" class="input-datetime-local-time" /></span>'),
c=this.common(d,e,l["datetime-local"].attrs),g=a("input.input-datetime-local-date",e);a("input",e).data("html5element",a.data(e[0],"html5element"));g.attr("aria-labeledby",c.label.attr("id"));c.label.bind("click",function(){g.focus();return false});if(c.css){e.css(c.css);if(c.outerWidth){e.outerWidth(c.outerWidth);c=e.getwidth();g.css({marginLeft:0,marginRight:2}).outerWidth(Math.floor(c*0.61));a("input.input-datetime-local-time").css({marginLeft:2,marginRight:0}).outerWidth(Math.floor(c*0.37))}}a.webshims.triggerDomUpdate(e);
a("input.input-datetime-local-date",e).datepicker(a.extend({},o.date)).bind("change",function(){var p,n=a("input.input-datetime-local-time",e).attr("value");try{p=(p=a.datepicker.parseDate(g.datepicker("option","dateFormat"),g.attr("value")))?a.datepicker.formatDate("yy-mm-dd",p):g.attr("value")}catch(r){p=g.attr("value")}if(!a("input.input-datetime-local-time",e).attr("value")){n="00:00";a("input.input-datetime-local-time",e).attr("value",n)}l["datetime-local"].blockAttr=true;d.attr("value",p+"T"+
n);l["datetime-local"].blockAttr=false;d.trigger("change")}).data("datepicker").dpDiv.addClass("input-date-datepicker-control");a("input.input-datetime-local-time",e).bind("input change",function(){var p=d.attr("value").split("T");if(p.length<2||!p[0])p[0]=a.datepicker.formatDate("yy-mm-dd",new Date);p[1]=a.attr(this,"value");l["datetime-local"].blockAttr=true;try{g.attr("value",a.datepicker.formatDate(g.datepicker("option","dateFormat"),a.datepicker.parseDate("yy-mm-dd",p[0])))}catch(n){}d.attr("value",
p.join("T"));l["datetime-local"].blockAttr=false;d.trigger("change")});a.each(["disabled","min","max","value"],function(p,n){d.attr(n,function(r,s){return s||""})})}};l["datetime-local"].attrs={disabled:function(d,e,c){a("input.input-datetime-local-date",e).datepicker("option","disabled",!!c);a("input.input-datetime-local-time",e).attr("disabled",!!c)},min:function(d,e,c){c=c.split?c.split("T"):[];try{c=a.datepicker.parseDate("yy-mm-dd",c[0])}catch(g){c=false}c&&a("input.input-datetime-local-date",
e).datepicker("option","minDate",c)},max:function(d,e,c){c=c.split?c.split("T"):[];try{c=a.datepicker.parseDate("yy-mm-dd",c[0])}catch(g){c=false}c&&a("input.input-datetime-local-date",e).datepicker("option","maxDate",c)},value:function(d,e,c){if(!l["datetime-local"].blockAttr){var g;c=c.split?c.split("T"):[];try{g=a.datepicker.parseDate("yy-mm-dd",c[0])}catch(p){g=false}if(g){a("input.input-datetime-local-date",e).datepicker("setDate",g);a("input.input-datetime-local-time",e).attr("value",c[1]||
"00:00")}else{a("input.input-datetime-local-date",e).attr("value",c[0]||"");a("input.input-datetime-local-time",e).attr("value",c[1]||"")}}}};l.date=function(d){if(a.fn.datepicker){var e=a('<input type="text" class="input-date" />'),c=this.common(d,e,l.date.attrs);if(c.css){e.css(c.css);c.outerWidth&&e.outerWidth(c.outerWidth)}data=e.datepicker(a.extend({},o.date)).bind("change",function(){l.date.blockAttr=true;var g;try{g=(g=a.datepicker.parseDate(e.datepicker("option","dateFormat"),e.attr("value")))?
a.datepicker.formatDate("yy-mm-dd",g):e.attr("value")}catch(p){g=e.attr("value")}d.attr("value",g);l.date.blockAttr=false;d.trigger("change")}).data("datepicker").dpDiv.addClass("input-date-datepicker-control");a.each(["disabled","min","max","value"],function(g,p){d.attr(p,function(n,r){return r||""})})}};l.date.attrs={disabled:function(d,e,c){e.datepicker("option","disabled",!!c)},min:function(d,e,c){try{c=a.datepicker.parseDate("yy-mm-dd",c)}catch(g){c=false}c&&e.datepicker("option","minDate",c)},
max:function(d,e,c){try{c=a.datepicker.parseDate("yy-mm-dd",c)}catch(g){c=false}c&&e.datepicker("option","maxDate",c)},value:function(d,e,c){if(!l.date.blockAttr){try{var g=a.datepicker.parseDate("yy-mm-dd",c)}catch(p){g=false}g?e.datepicker("setDate",g):e.attr("value",c)}}};l.range=function(d){if(a.fn.slider){var e=a('<span class="input-range"><span class="ui-slider-handle" role="slider" tabindex="0" /></span>'),c=this.common(d,e,l.range.attrs),g=function(p,n){if(p.originalEvent){l.range.blockAttr=
true;d.attr("value",n.value);l.range.blockAttr=false;p.type=="slidechange"?d.trigger("change"):a.webshims.triggerInlineForm(d[0],"input")}};a("span",e).attr("aria-labeledby",c.label.attr("id"));c.label.bind("click",function(){a("span",e).focus();return false});if(c.css){e.css(c.css);c.outerWidth&&e.outerWidth(c.outerWidth)}e.slider(a.extend(o.slider,{change:g,slide:g}));a.each(["disabled","min","max","value","step"],function(p,n){d.attr(n,function(r,s){return s||""})})}};l.range.attrs={disabled:function(d,
e,c){c=!!c;e.slider("option","disabled",c);a("span",e).attr({"aria-disabled":c+"",tabindex:c?"-1":"0"})},min:function(d,e,c){c=c?c*1||0:0;e.slider("option","min",c);a("span",e).attr({"aria-valuemin":c})},max:function(d,e,c){c=c||c===0?c*1||100:100;e.slider("option","max",c);a("span",e).attr({"aria-valuemax":c})},value:function(d,e,c){c=a(d).attr("valueAsNumber");if(isNaN(c)){c=(e.slider("option","max")-e.slider("option","min"))/2;d.value=c}l.range.blockAttr||e.slider("option","value",c);a("span",
e).attr({"aria-valuenow":c,"aria-valuetext":c})},step:function(d,e,c){c=c&&a.trim(c)?c*1||1:1;e.slider("option","step",c)}};a.each(["disabled","min","max","value","step"],function(d,e){a.webshims.attr(e,{elementNames:["input"],setter:function(c,g,p){var n=a.data(c,"inputUIReplace");p();n&&n.methods[e]&&n.methods[e](c,n.visual,g)},getter:true})});var q=function(d){if(d){d=a.extend({},d,o.date);a("input.hasDatepicker").filter(".input-date, .input-datetime-local-date").datepicker("option",d).each(function(){var e=
a.data(this,"html5element");e&&a.each(["disabled","min","max","value"],function(c,g){e.attr(g,function(p,n){return n||""})})});a.datepicker.setDefaults(d)}};a(document).bind("jquery-uiReady.langchange input-widgetsReady.langchange",function(){a.datepicker&&a(document).bind("htmlExtLangChange",function(){a.webshims.activeLang(a.datepicker.regional,"inputUI",q)}).unbind("jquery-uiReady.langchange input-widgetsReady.langchange")});a.webshims.ready("number-date-type",function(){a.webshims.addReady(function(d){a(document).bind("jquery-uiReady.initinputui input-widgetsReady.initinputui",
function(){if(a.datepicker||a.fn.slider){l(d);a.datepicker&&a.fn.slider&&a(document).unbind("jquery-uiReady.initinputui input-widgetsReady.initinputui")}})});a.webshims.createReadyEvent("inputUI")},true)})(jQuery);
