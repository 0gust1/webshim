(function(b){b.extend(b.expr.filters,{valid:function(j){return(b.attr(j,"validity")||{valid:true}).valid},invalid:function(j){return!b.expr.filters.valid(j)},willValidate:function(j){return b.attr(j,"willValidate")}});b.webshims.validityAlert=function(){var j={hideDelay:5E3,showFor:function(i,q){i=b(i);var a=(i.data("inputUIReplace")||{visual:i}).visual;k();h();this.getMessage(i);this.position(a);this.show();if(this.hideDelay)d=setTimeout(n,this.hideDelay);if(!q){i.focus();b(document).bind("focusout.validityalert",
n)}},getMessage:function(i){b("> div",o).html(i.attr("validationMessage"))},position:function(i){var q=i.offset();q.top+=i.outerHeight();o.css(q)},show:function(){o.css("display")==="none"?o.fadeIn():o.fadeTo(1)},hide:function(){h();o.fadeOut()}},o=b('<div class="validity-alert" role="alert"><div class="va-box" /></div>').css({position:"absolute",display:"none"}),d=false,n=b.proxy(j,"hide"),p=false,k=function(){if(!p){p=true;b(function(){o.appendTo("body")})}},h=function(){clearTimeout(d);b(document).unbind("focusout.validityalert");
o.stop()};return j}();b.webshims.validityMessages.en=b.webshims.validityMessages.en||b.webshims.validityMessages["en-US"]||{typeMismatch:{email:"{%value} is not a legal email address",url:"{%value} is not a valid web address",number:"{%value} is not a number!",date:"{%value} is not a date",time:"{%value} is not a time",range:"{%value} is not a number!","datetime-local":"{%value} is not a correct date-time format."},rangeUnderflow:"{%value} is too low. The lowest value you can use is {%min}.",rangeOverflow:"{%value}  is too high. The highest value you can use is {%max}.",
stepMismatch:"The value {%value} is not allowed for this form. Only certain values are allowed for this field. {%title}",tooLong:"The entered text is too large! You used {%valueLen} letters and the limit is {%maxlength}.",patternMismatch:"{%value} is not in the format this page requires! {%title}",valueMissing:"You have to specify a value"};b.webshims.validityMessages["en-US"]=b.webshims.validityMessages["en-US"]||b.webshims.validityMessages.en;b.webshims.validityMessages[""]=b.webshims.validityMessages[""]||
b.webshims.validityMessages.en;b.webshims.validityMessages.de=b.webshims.validityMessages.de||{typeMismatch:{email:"{%value} ist keine zul\u00e4ssige E-Mail-Adresse",url:"{%value} ist keine zul\u00e4ssige Webadresse",number:"{%value} ist keine Nummer!",date:"{%value} ist kein Datum",time:"{%value} ist keine Uhrzeit",range:"{%value} ist keine Nummer!","datetime-local":"{%value} ist kein Datum-Uhrzeit Format."},rangeUnderflow:"{%value} ist zu niedrig. {%min} ist der unterste Wert, den Sie benutzen k\u00f6nnen.",
rangeOverflow:"{%value} ist zu hoch. {%max} ist der oberste Wert, den Sie benutzen k\u00f6nnen.",stepMismatch:"Der Wert {%value} ist in diesem Feld nicht zul\u00e4ssig. Hier sind nur bestimmte Werte zul\u00e4ssig. {%title}",tooLong:"Der eingegebene Text ist zu lang! Sie haben {%valueLen} Buchstaben eingegeben, dabei sind {%maxlength} das Maximum.",patternMismatch:"{%value} hat f\u00fcr diese Seite ein falsches Format! {%title}",valueMissing:"Sie m\u00fcssen einen Wert eingeben"};var r=b.webshims.validityMessages[""];
b(document).bind("htmlExtLangChange",function(){b.webshims.activeLang(b.webshims.validityMessages,"validation-base",function(j){r=j})});b.webshims.createValidationMessage=function(j,o){var d=r[o];if(d&&typeof d!=="string")d=d[(j.getAttribute("type")||"").toLowerCase()]||d.defaultMessage;d&&b.each(["value","min","max","title","maxlength","label"],function(n,p){if(d.indexOf("{%"+p)!==-1){var k=(p=="label"?b.trim(b("label[for="+j.id+"]",j.form).text()).replace(/\*$|:$/,""):b.attr(j,p))||"";d=d.replace("{%"+
p+"}",k);if("value"==p)d=d.replace("{%valueLen}",k.length)}});return d||""};b.each(b.support.validationMessage?["customValidationMessage"]:["customValidationMessage","validationMessage"],function(j,o){b.webshims.attr(o,{elementNames:["input","select","textarea"],getter:function(d){var n="";if(!b.attr(d,"willValidate"))return n;var p=b.attr(d,"validity")||{valid:1};if(p.valid)return n;if(p.customError||o==="validationMessage")if(n="validationMessage"in d?d.validationMessage:b.data(d,"customvalidationMessage"))return n;
b.each(p,function(k,h){if(!(k=="valid"||!h))if(n=b.webshims.createValidationMessage(d,k))return false});return n||""}})});(function(){var j,o=[],d,n,p;b.support.validity===true&&document.addEventListener&&!window.noHTMLExtFixes&&document.addEventListener("submit",function(k){k.target.checkValidity&&b.attr(k.target,"novalidate")===undefined&&k.target.checkValidity()},true);b(document).bind("invalid",function(k){if(!j){n=k.target.form;if(b.support.validity===true&&n&&!window.noHTMLExtFixes){var h=b(n).bind("submit.preventInvalidSubmit",
function(i){if(b.attr(n,"novalidate")===undefined){i.stopImmediatePropagation();return false}}).data("events").submit;h&&h.length>1&&h.unshift(h.pop())}j=b.Event("firstinvalid");b(k.target).trigger(j)}j&&j.isDefaultPrevented()&&k.preventDefault();if(b.support.validity!==true||b.inArray(k.target,o)==-1)o.push(k.target);else if(!window.noHTMLExtFixes){p=true;k.stopImmediatePropagation()}k.extraData="fix";clearTimeout(d);d=setTimeout(function(){var i={type:"lastinvalid",cancelable:false,invalidlist:b(o)};
b.browser.webkit&&!p&&j.target!==document.activeElement&&!b.data(j.target,"maybePreventedinvalid")&&b.webshims.validityAlert.showFor(j.target);j=p=false;o=[];b(n).unbind("submit.preventInvalidSubmit");b(k.target).trigger(i,i)},0)})})();b.support.validationMessage=b.support.validationMessage||"shim"})(jQuery);
(function(b){if(!(b.support.validity!==true||b.support.fieldsetValidation||window.noHTMLExtFixes)){b.support.fieldsetValidation="shim";b.webshims.addMethod("checkValidity",function(){if(b.nodeName(this,"fieldset")){var r=true;b(this.elements||"input, textarea, select",this).each(function(){if(this.checkValidity)this.checkValidity()||(r=false)});return r}else if(this.checkValidity)return this.checkValidity()})}})(jQuery);
(function(b){if(!(b.support.validity===true&&b('<input type="datetime-local" />')[0].type=="datetime-local"&&b('<input type="range" />')[0].type=="range")){var r=b.webshims.inputTypes;b.webshims.addInputType=function(h,i){r[h]=i};var j={};b.webshims.addValidityRule=function(h,i){j[h]=i};b.webshims.addValidityRule("typeMismatch",function(h,i,q){if(i==="")return false;var a=false;if(!("type"in q))q.type=(h[0].getAttribute("type")||"").toLowerCase();if(r[q.type]&&r[q.type].mismatch)a=r[q.type].mismatch(i,
h);return a});var o=["customError","typeMismatch","rangeUnderflow","rangeOverflow","stepMismatch","tooLong","patternMismatch","valueMissing","valid"],d=b.fn.val,n=function(h){if(r[(h.getAttribute&&h.getAttribute("type")||"").toLowerCase()])b.attr(h,"validity")},p=b.attr,k={value:1,val:1,min:1,max:1,step:1};b.attr=function(h,i,q){var a=p.apply(this,arguments);k[i]&&q!==undefined&&n(h);return a};b.webshims.attr("validity",{elementNames:["input"],getter:function(h){var i=h.validity,q={};if(!i)return i;
var a={};b.each(o,function(m,f){a[f]=i[f]});if(!b.attr(h,"willValidate"))return a;q.type=(h.getAttribute&&h.getAttribute("type")||"").toLowerCase();if(!r[q.type])return a;var c=b(h),e=d.call(c),l=!!b.data(h,"hasCustomError");a.customError=l;if(a.valid&&a.customError)a.valid=false;else if(!a.valid){var g=true;b.each(a,function(m,f){if(f)return g=false});if(g)a.valid=true}if((h.nodeName||"").toLowerCase()=="select")return a;b.each(j,function(m,f){var s;a[m]=f(c,e,q);if(a[m]&&a.valid){s=b.webshims.createValidationMessage(h,
m);h.setCustomValidity(s);a.valid=false}});a.valid&&h.setCustomValidity("");return a}});b.webshims.addMethod("setCustomValidity",function(h){h+="";this.setCustomValidity(h);b.data(this,"hasCustomError",!!h);n(this)});b.fn.val=function(){var h=d.apply(this,arguments);this.each(function(){n(this)});return h};document.addEventListener&&document.addEventListener("change",function(h){n(h.target)},true);b.webshims.readyModules("number-date-type",function(){b.webshims.addReady(function(h){b("input",h).each(function(){n(this)})})},
true,true)}})(jQuery);
(function(b){var r,j=function(){if(!r){r=true;var o=parseInt("NaN",10),d=b.webshims.inputTypes,n=function(a){return typeof a=="number"||b.trim(a)&&a==a*1},p=function(a){return b('<input type="'+a+'" />').attr("type")===a},k=function(a){return(a.getAttribute("type")||"").toLowerCase()},h=function(a,c){var e=b.attr(a,"step");if(e==="any")return e;c=c||k(a);if(!d[c]||!d[c].step)return e;e=d.number.asNumber(e);return(!isNaN(e)&&e>0?e:d[c].step)*d[c].stepScaleFactor},i=function(a,c,e){if(!(a+"AsNumber"in
e)){e[a+"AsNumber"]=d[e.type].asNumber(c.attr(a));if(isNaN(e[a+"AsNumber"])&&a+"Default"in d[e.type])e[a+"AsNumber"]=d[e.type][a+"Default"]}},q=function(a,c){a=""+a;c-=a.length;for(var e=0;e<c;e++)a="0"+a;return a};b.webshims.addValidityRule("stepMismatch",function(a,c,e){if(c==="")return false;if(!("type"in e))e.type=k(a[0]);if(e.type=="date")return false;var l=false;if(d[e.type]&&d[e.type].step){if(!("step"in e))e.step=h(a[0],e.type);if(e.step=="any")return false;if(!("valueAsNumber"in e))e.valueAsNumber=
d[e.type].asNumber(c);if(isNaN(e.valueAsNumber))return false;i("min",a,e);a=e.minAsNumber;if(isNaN(a))a=d[e.type].stepBase||0;l=Math.abs((e.valueAsNumber-a)%e.step);l=!(l<=1.0E-7||Math.abs(l-e.step)<=1.0E-7)}return l});b.each([{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",factor:-1}],function(a,c){b.webshims.addValidityRule(c.name,function(e,l,g){var m=false;if(l==="")return m;if(!("type"in g))g.type=k(e[0]);if(d[g.type]&&d[g.type].asNumber){if(!("valueAsNumber"in g))g.valueAsNumber=
d[g.type].asNumber(l);if(isNaN(g.valueAsNumber))return false;i(c.attr,e,g);if(isNaN(g[c.attr+"AsNumber"]))return m;m=g[c.attr+"AsNumber"]*c.factor<=g.valueAsNumber*c.factor-1.0E-7}return m})});b.webshims.attr("valueAsNumber",{elementNames:["input"],getter:function(a){var c=k(a);return d[c]&&d[c].asNumber?d[c].asNumber(b.attr(a,"value")):o},setter:function(a,c,e){var l=k(a);if(d[l]&&d[l].numberToString)if(isNaN(c))b.attr(a,"value","");else{c=d[l].numberToString(c);if(c!==false)b.attr(a,"value",c);
else throw"INVALID_STATE_ERR: DOM Exception 11";}else e()}});b.webshims.attr("valueAsDate",{elementNames:["input"],getter:function(a){var c=k(a);return d[c]&&d[c].asDate&&!d[c].noAsDate?d[c].asDate(b.attr(a,"value")):null},setter:function(a,c,e){var l=k(a);if(d[l]&&d[l].dateToString){if(!window.noHTMLExtFixes)throw"there are some serious issues in opera's implementation. don't use!";if(c===null)b.attr(a,"value","");else{c=d[l].dateToString(c);if(c!==false)b.attr(a,"value",c);else throw"INVALID_STATE_ERR: DOM Exception 11";
}}else e()}});p("number")||b.webshims.addInputType("number",{mismatch:function(a){return!n(a)},step:1,stepScaleFactor:1,asNumber:function(a){return n(a)?a*1:o},numberToString:function(a){return n(a)?a:false}});!p("number")&&d.number&&b.webshims.addInputType("range",b.extend({},d.number,{minDefault:0,maxDefault:100}));!p("date")&&d.number&&b.webshims.addInputType("date",{mismatch:function(a){if(!a||!a.split||!/\d$/.test(a))return true;var c=a.split(/\u002D/);if(c.length!==3)return true;var e=false;
b.each(c,function(l,g){if(!(n(g)||g&&g=="0"+g*1)){e=true;return false}});if(e)return e;if(c[0].length!==4||c[1].length!=2||c[1]>12||c[2].length!=2||c[2]>33)e=true;return a!==this.dateToString(this.asDate(a,true))},step:1,stepScaleFactor:864E5,asDate:function(a,c){if(!c&&this.mismatch(a))return null;return new Date(this.asNumber(a,true))},asNumber:function(a,c){var e=o;if(c||!this.mismatch(a)){a=a.split(/\u002D/);e=Date.UTC(a[0],a[1]-1,a[2])}return e},numberToString:function(a){return n(a)?this.dateToString(new Date(a*
1)):false},dateToString:function(a){return a&&a.getFullYear?a.getUTCFullYear()+"-"+q(a.getUTCMonth()+1,2)+"-"+q(a.getUTCDate(),2):false}});!p("time")&&d.number&&d.date&&b.webshims.addInputType("time",b.extend({},d.date,{mismatch:function(a,c){if(!a||!a.split||!/\d$/.test(a))return true;a=a.split(/\u003A/);if(a.length<2||a.length>3)return true;var e=false,l;if(a[2]){a[2]=a[2].split(/\u002E/);l=parseInt(a[2][1],10);a[2]=a[2][0]}b.each(a,function(g,m){if(!(n(m)||m&&m=="0"+m*1)||m.length!==2){e=true;
return false}});if(e)return true;if(a[0]>23||a[0]<0||a[1]>59||a[1]<0)return true;if(a[2]&&(a[2]>59||a[2]<0))return true;if(l&&isNaN(l))return true;if(l)if(l<100)l*=100;else if(l<10)l*=10;return c===true?[a,l]:false},step:60,stepBase:0,stepScaleFactor:1E3,asDate:function(a){a=new Date(this.asNumber(a));return isNaN(a)?null:a},asNumber:function(a){var c=o;a=this.mismatch(a,true);if(a!==true){c=Date.UTC("1970",0,1,a[0][0],a[0][1],a[0][2]||0);if(a[1])c+=a[1]}return c},dateToString:function(a){if(a&&a.getUTCHours){var c=
q(a.getUTCHours(),2)+":"+q(a.getUTCMinutes(),2),e=a.getSeconds();if(e!="0")c+=":"+q(e,2);e=a.getUTCMilliseconds();if(e!="0")c+="."+q(e,3);return c}else return false}}));!p("datetime-local")&&d.number&&d.time&&b.webshims.addInputType("datetime-local",b.extend({},d.time,{mismatch:function(a,c){if(!a||!a.split||(a+"special").split(/\u0054/).length!==2)return true;a=a.split(/\u0054/);return d.date.mismatch(a[0])||d.time.mismatch(a[1],c)},noAsDate:true,asDate:function(a){a=new Date(this.asNumber(a));return isNaN(a)?
null:a},asNumber:function(a){var c=o,e=this.mismatch(a,true);if(e!==true){a=a.split(/\u0054/)[0].split(/\u002D/);c=Date.UTC(a[0],a[1]-1,a[2],e[0][0],e[0][1],e[0][2]||0);if(e[1])c+=e[1]}return c},dateToString:function(a,c){return d.date.dateToString(a)+"T"+d.time.dateToString(a,c)}}));(function(){var a=b.webshims.loader.modules["number-date-type"].options,c=function(g,m,f){f=f||{};if(!("type"in f))f.type=k(g);if(!("step"in f))f.step=h(g,f.type);if(!("valueAsNumber"in f))f.valueAsNumber=d[f.type].asNumber(b.attr(g,
"value"));var s=f.step=="any"?d[f.type].step*d[f.type].stepScaleFactor:f.step;i("min",b(g),f);i("max",b(g),f);if(isNaN(f.valueAsNumber))f.valueAsNumber=d[f.type].stepBase||0;if(f.step!=="any")f.valueAsNumber=Math.round((f.valueAsNumber-(f.valueAsNumber-(f.minAsnumber||0))%f.step)*1E7)/1E7;g=f.valueAsNumber+s*m;if(!isNaN(f.minAsNumber)&&g<f.minAsNumber)g=f.valueAsNumber*m<f.minAsNumber?f.minAsNumber:isNaN(f.maxAsNumber)?Number.MAX_VALUE:f.maxAsNumber;else if(!isNaN(f.maxAsNumber)&&g>f.maxAsNumber)g=
f.valueAsNumber*m>f.maxAsNumber?f.maxAsNumber:isNaN(f.minAsNumber)?Number.MIN_VALUE:f.minAsNumber;return g},e=function(g,m,f){if(!(g.disabled||g.readOnly||b(f).hasClass("step-controls"))){b.attr(g,"value",d[m].numberToString(c(g,b(f).hasClass("step-up")?1:-1,{type:m})));b(g).unbind("blur.stepeventshim").trigger("input");if(document.activeElement){if(document.activeElement!==g)try{g.focus()}catch(s){}setTimeout(function(){if(document.activeElement!==g)try{g.focus()}catch(t){}b(g).one("blur.stepeventshim",
function(){b(g).trigger("change")})},0)}}};if(a.stepArrows){var l={elementNames:["input"],setter:function(g,m,f){f();if(m=b.data(g,"step-controls"))m[g.disabled||g.readonly?"addClass":"removeClass"]("disabled-step-control")}};b.webshims.attr("disabled",l);b.webshims.attr("readonly",l)}b.webshims.addReady(function(g){a.stepArrows&&b("input",g).each(function(){var m=k(this);if(!(!d[m]||!d[m].asNumber||!a.stepArrows||a.stepArrows!==true&&!a.stepArrows[m])){var f=this,s=b(this).css("direction")=="rtl"?
{action:"insertBefore",side:"Left",otherSide:"right"}:{action:"insertAfter",side:"Right",otherSide:"left"},t=b('<span class="step-controls"><span class="step-up" /><span class="step-down" tabindex="-1" /></span>')[s.action](this).bind("mousedown mousepress",function(v){e(f,m,v.target);return false});b(this).addClass("has-step-controls").data("step-controls",t).attr({readonly:this.readOnly,disabled:this.disabled});if(a.recalcWidth){var u=t.outerWidth(true)+(parseInt(b(this).css("padding"+s.side),10)||
0),w=parseInt(b(this).css("border"+s.side+"width"),10)||0;t.css(s.otherSide,(w+u)*-1);u++;b(this).css("width",b(this).width()-u).css("padding"+s.side,u)}}})})})();b.webshims.attr("type",{elementNames:["input"],getter:function(a){var c=k(a);return b.webshims.inputTypes[c]?c:a.type||a.getAttribute("type")},setter:true})}};if(b.webshims.addValidityRule)j();else b.support.validity===true?b.webshims.readyModules("implement-types",j,true,true):b.webshims.readyModules("validity",j,true,true)})(jQuery);
