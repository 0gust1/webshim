jQuery.webshims.ready("es5",function(a){a.extend(a.expr.filters,{valid:function(p){return(a.attr(p,"validity")||{valid:true}).valid},invalid:function(p){return!a.expr.filters.valid(p)},willValidate:function(p){return a.attr(p,"willValidate")}});a.webshims.triggerInlineForm=function(){var p=function(m){if(typeof m!="string"||m.indexOf("-")!==-1||m.indexOf(".")!==-1||m.indexOf('"')!==-1)return"";return"var "+m+' = this.form["'+m+'"];'};return function(m,q){var d=m["on"+q]||m.getAttribute("on"+q)||"";
q=a.Event({type:q,target:m[0],currentTarget:m[0]});if(d&&typeof d=="string"&&m.form&&m.form.elements){var e="";a(m.form.elements).each(function(){var c=this.name,k=this.id;if(k||c){if(c)e+=p(c);if(k&&k!==c)e+=p(k)}});(function(){eval(e+d)}).call(m,q)}a(m).trigger(q)}}();a.webshims.validityAlert=function(){var p=!a.browser.msie||parseInt(a.browser.version,10)>7?"span":"label",m={hideDelay:5E3,showFor:function(n,o,s){n=a(n);var r=(n.data("inputUIReplace")||{visual:n}).visual;k();m.clear();this.getMessage(n,
o);this.position(r);this.show();if(this.hideDelay)d=setTimeout(e,this.hideDelay);if(!s){n=a("input, select, textarea, .ui-slider-handle",r).filter(":visible:first");n[0]||(n=r);q.attr("for",a.webshims.getID(n));n.focus();a(document).bind("focusout.validityalert",e)}},getMessage:function(n,o){a("> span",q).html(o||n.attr("validationMessage"))},position:function(n){var o=n.offset();o.top+=n.outerHeight();q.css(o)},show:function(){q.css("display")==="none"?q.fadeIn():q.fadeTo(400,1)},hide:function(){m.clear();
q.fadeOut()},clear:function(){clearTimeout(d);a(document).unbind("focusout.validityalert");q.stop().removeAttr("for")},alert:a("<"+p+' class="validity-alert" role="alert"><span class="va-box" /></'+p+">").css({position:"absolute",display:"none"})},q=m.alert,d=false,e=a.proxy(m,"hide"),c=false,k=function(){if(!c){c=true;a(function(){q.appendTo("body")})}};return m}();a.webshims.validityMessages.en=a.webshims.validityMessages.en||a.webshims.validityMessages["en-US"]||{typeMismatch:{email:"{%value} is not a legal email address",
url:"{%value} is not a valid web address",number:"{%value} is not a number!",date:"{%value} is not a date",time:"{%value} is not a time",range:"{%value} is not a number!","datetime-local":"{%value} is not a correct date-time format."},rangeUnderflow:"{%value} is too low. The lowest value you can use is {%min}.",rangeOverflow:"{%value}  is too high. The highest value you can use is {%max}.",stepMismatch:"The value {%value} is not allowed for this form.",tooLong:"The entered text is too large! You used {%valueLen} letters and the limit is {%maxlength}.",
patternMismatch:"{%value} is not in the format this page requires! {%title}",valueMissing:"You have to specify a value"};a.webshims.validityMessages["en-US"]=a.webshims.validityMessages["en-US"]||a.webshims.validityMessages.en;a.webshims.validityMessages[""]=a.webshims.validityMessages[""]||a.webshims.validityMessages.en;a.webshims.validityMessages.de=a.webshims.validityMessages.de||{typeMismatch:{email:"{%value} ist keine zul\u00e4ssige E-Mail-Adresse",url:"{%value} ist keine zul\u00e4ssige Webadresse",
number:"{%value} ist keine Nummer!",date:"{%value} ist kein Datum",time:"{%value} ist keine Uhrzeit",range:"{%value} ist keine Nummer!","datetime-local":"{%value} ist kein Datum-Uhrzeit Format."},rangeUnderflow:"{%value} ist zu niedrig. {%min} ist der unterste Wert, den Sie benutzen k\u00f6nnen.",rangeOverflow:"{%value} ist zu hoch. {%max} ist der oberste Wert, den Sie benutzen k\u00f6nnen.",stepMismatch:"Der Wert {%value} ist in diesem Feld nicht zul\u00e4ssig. Hier sind nur bestimmte Werte zul\u00e4ssig. {%title}",
tooLong:"Der eingegebene Text ist zu lang! Sie haben {%valueLen} Buchstaben eingegeben, dabei sind {%maxlength} das Maximum.",patternMismatch:"{%value} hat f\u00fcr diese Seite ein falsches Format! {%title}",valueMissing:"Sie m\u00fcssen einen Wert eingeben"};(function(){var p,m=[],q,d,e,c;if(a.support.validity===true&&window.addEventListener&&!window.noHTMLExtFixes){var k={timer:undefined,prevented:false};window.addEventListener("submit",function(o){if(!k.prevented&&o.target.checkValidity&&a.attr(o.target,
"novalidate")===undefined&&!o.target.checkValidity())e=true},true);var n=function(o){if(a.attr(o.target,"formnovalidate")!==undefined){k.timer&&clearTimeout(k.timer);k.prevented=true;k.timer=setTimeout(function(){k.prevented=false},20)}};window.addEventListener("click",n,true);window.addEventListener("touchstart",n,true);window.addEventListener("touchend",n,true)}a(document).bind("invalid",function(o){if(!p){d=o.target.form;if(a.support.validity===true&&d&&!window.noHTMLExtFixes){var s=a(d).bind("submit.preventInvalidSubmit",
function(r){if(a.attr(d,"novalidate")===undefined){r.stopImmediatePropagation();return false}}).data("events").submit;s&&s.length>1&&s.unshift(s.pop())}p=a.Event("firstinvalid");a(o.target).trigger(p)}p&&p.isDefaultPrevented()&&o.preventDefault();if(a.support.validity!==true||m.indexOf(o.target)==-1)m.push(o.target);else if(!window.noHTMLExtFixes){c=true;o.stopImmediatePropagation()}o.extraData="fix";clearTimeout(q);q=setTimeout(function(){var r={type:"lastinvalid",cancelable:false,invalidlist:a(m)};
e&&!c&&p.target!==document.activeElement&&document.activeElement&&!a.data(p.target,"maybePreventedinvalid")&&a.webshims.validityAlert.showFor(p.target);e=p=c=false;m=[];a(d).unbind("submit.preventInvalidSubmit");a(o.target).trigger(r,r)},0)})})();(function(){if(!(a.support.validity!==true||a.support.fieldsetValidation||window.noHTMLExtFixes)){a.support.fieldsetValidation="shim";a.webshims.addMethod("checkValidity",function(){if(a.nodeName(this,"fieldset")){var p=true;a(this.elements||"input, textarea, select",
this).each(function(){if(this.checkValidity)this.checkValidity()||(p=false)});return p}else if(this.checkValidity)return this.checkValidity()})}})();(function(){var p=a.support.validity===true&&a.webshims.overrideValidationMessages,m=true,q=true;if(a.support.validity===true){m=!!("required"in document.createElement("select")||window.noHTMLExtFixes);q=!!(a('<input type="datetime-local" />')[0].type=="datetime-local"&&a('<input type="range" />')[0].type=="range")}var d=!m||!q||p,e=a.webshims.inputTypes,
c={},k=["customError","typeMismatch","rangeUnderflow","rangeOverflow","stepMismatch","tooLong","patternMismatch","valueMissing","valid"],n=a.attr,o=a.fn.val,s=p?{value:1,checked:1}:{value:1},r=p?["textarea"]:[],b={radio:1,checkbox:1},g=function(f,l){if(f.form){var i=(f.getAttribute&&f.getAttribute("type")||f.type||"").toLowerCase();if(!p)if(!(!m&&i=="select-one")&&!e[i])return;p&&!l&&b[i]&&f.name?a(document.getElementsByName(f.name)).each(function(){a.attr(this,"validity")}):a.attr(f,"validity")}};
if(!m||p){a.extend(s,{required:1,size:1,multiple:1,selectedIndex:1});r.push("select")}if(!q||p){a.extend(s,{min:1,max:1,step:1});r.push("input")}select=null;var h=a.webshims.validityMessages[""];a(document).bind("htmlExtLangChange",function(){a.webshims.activeLang(a.webshims.validityMessages,"validation-base",function(f){h=f})});a.webshims.createValidationMessage=function(f,l){var i=h[l];if(i&&typeof i!=="string")i=i[(f.getAttribute("type")||"").toLowerCase()]||i.defaultMessage;i&&["value","min",
"max","title","maxlength","label"].forEach(function(j){if(i.indexOf("{%"+j)!==-1){var t=(j=="label"?a.trim(a("label[for="+f.id+"]",f.form).text()).replace(/\*$|:$/,""):a.attr(f,j))||"";i=i.replace("{%"+j+"}",t);if("value"==j)i=i.replace("{%valueLen}",t.length)}});return i||""};a.each(a.support.validationMessage?["customValidationMessage"]:["customValidationMessage","validationMessage"],function(f,l){a.webshims.attr(l,{elementNames:["input","select","textarea"],getter:function(i){var j="";if(!a.attr(i,
"willValidate"))return j;var t=a.attr(i,"validity")||{valid:1};if(t.valid)return j;if(t.customError||l==="validationMessage")if(j="validationMessage"in i?i.validationMessage:a.data(i,"customvalidationMessage"))return j;a.each(t,function(u,w){if(!(u=="valid"||!w))if(j=a.webshims.createValidationMessage(i,u))return false});return j||""}})});a.support.validationMessage=a.support.validationMessage||"shim";a.webshims.addMethod("setCustomValidity",function(f){f+="";if(this.setCustomValidity){this.setCustomValidity(f);
if(d){a.data(this,"hasCustomError",!!f);g(this)}}else a.data(this,"customvalidationMessage",""+f)});if(a.support.validity===true){a.webshims.addInputType=function(f,l){e[f]=l};a.webshims.addValidityRule=function(f,l){c[f]=l};a.webshims.addValidityRule("typeMismatch",function(f,l,i,j){if(l==="")return false;j=j.typeMismatch;if(!("type"in i))i.type=(f[0].getAttribute("type")||"").toLowerCase();if(e[i.type]&&e[i.type].mismatch)j=e[i.type].mismatch(l,f);return j})}if(!m){a.webshims.createBooleanAttrs("required",
["select"]);a.webshims.addValidityRule("valueMissing",function(f,l,i,j){if(i.nodeName=="select"&&!l&&f.attr("required")&&f[0].size<2){if(!i.type)i.type=f[0].type;if(i.type=="select-one"&&a("> option:first-child:not(:disabled)",f).attr("selected"))return true}return j.valueMissing})}if(d){a.webshims.attr("validity",{elementNames:r,getter:function(f){var l=f.validity;if(!l)return l;var i={};k.forEach(function(v){i[v]=l[v]});if(!a.attr(f,"willValidate"))return i;var j=a(f),t={type:(f.getAttribute&&f.getAttribute("type")||
"").toLowerCase(),nodeName:(f.nodeName||"").toLowerCase()},u=o.call(j),w=!!a.data(f,"hasCustomError"),x;i.customError=w;if(i.valid&&i.customError)i.valid=false;else if(!i.valid){var y=true;a.each(i,function(v,z){if(z)return y=false});if(y)i.valid=true}a.each(c,function(v,z){i[v]=z(j,u,t,i);if(i[v]&&(i.valid||!x&&p)){f.setCustomValidity(a.webshims.createValidationMessage(f,v));i.valid=false;x=true}});i.valid&&f.setCustomValidity("");return i}});a.fn.val=function(){var f=o.apply(this,arguments);this.each(function(){g(this)});
return f};a.attr=function(f,l,i){var j=n.apply(this,arguments);s[l]&&i!==undefined&&f.form&&g(f);return j};if(document.addEventListener){document.addEventListener("change",function(f){g(f.target)},true);q||document.addEventListener("input",function(f){g(f.target)},true)}a.webshims.addReady(function(f){f===document?a(r.join(",")).each(function(){g(this,true)}):a(r.join(","),f).each(function(){g(this,true)})})}})();a.webshims.createReadyEvent("validation-base")},true);
(function(a){var p,m=function(){if(!p){p=true;var q=parseInt("NaN",10),d=a.webshims.inputTypes,e=function(b){return typeof b=="number"||b&&b==b*1},c=function(b){return a('<input type="'+b+'" />').attr("type")===b},k=function(b){return(b.getAttribute("type")||"").toLowerCase()},n=function(b,g){var h=a.attr(b,"step");if(h==="any")return h;g=g||k(b);if(!d[g]||!d[g].step)return h;h=d.number.asNumber(h);return(!isNaN(h)&&h>0?h:d[g].step)*d[g].stepScaleFactor},o=function(b,g,h){if(!(b+"AsNumber"in h)){h[b+
"AsNumber"]=d[h.type].asNumber(g.attr(b));if(isNaN(h[b+"AsNumber"])&&b+"Default"in d[h.type])h[b+"AsNumber"]=d[h.type][b+"Default"]}},s=function(b,g){b=""+b;g-=b.length;for(var h=0;h<g;h++)b="0"+b;return b};a.webshims.addValidityRule("stepMismatch",function(b,g,h){if(g==="")return false;if(!("type"in h))h.type=k(b[0]);if(h.type=="date")return false;var f=false;if(d[h.type]&&d[h.type].step){if(!("step"in h))h.step=n(b[0],h.type);if(h.step=="any")return false;if(!("valueAsNumber"in h))h.valueAsNumber=
d[h.type].asNumber(g);if(isNaN(h.valueAsNumber))return false;o("min",b,h);b=h.minAsNumber;if(isNaN(b))b=d[h.type].stepBase||0;f=Math.abs((h.valueAsNumber-b)%h.step);f=!(f<=1.0E-7||Math.abs(f-h.step)<=1.0E-7)}return f});[{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",factor:-1}].forEach(function(b){a.webshims.addValidityRule(b.name,function(g,h,f){var l=false;if(h==="")return l;if(!("type"in f))f.type=k(g[0]);if(d[f.type]&&d[f.type].asNumber){if(!("valueAsNumber"in f))f.valueAsNumber=
d[f.type].asNumber(h);if(isNaN(f.valueAsNumber))return false;o(b.attr,g,f);if(isNaN(f[b.attr+"AsNumber"]))return l;l=f[b.attr+"AsNumber"]*b.factor<f.valueAsNumber*b.factor-1.0E-7}return l})});a.webshims.attr("valueAsNumber",{elementNames:["input"],getter:function(b){var g=k(b);return d[g]&&d[g].asNumber?d[g].asNumber(a.attr(b,"value")):q},setter:function(b,g,h){var f=k(b);if(d[f]&&d[f].numberToString)if(isNaN(g))a.attr(b,"value","");else{g=d[f].numberToString(g);if(g!==false)a.attr(b,"value",g);else throw"INVALID_STATE_ERR: DOM Exception 11";
}else h()}});a.webshims.attr("valueAsDate",{elementNames:["input"],getter:function(b){var g=k(b);return d[g]&&d[g].asDate&&!d[g].noAsDate?d[g].asDate(a.attr(b,"value")):null},setter:function(b,g,h){var f=k(b);if(d[f]&&d[f].dateToString){if(!window.noHTMLExtFixes)throw"there are some serious issues in opera's implementation. don't use!";if(g===null)a.attr(b,"value","");else{g=d[f].dateToString(g);if(g!==false)a.attr(b,"value",g);else throw"INVALID_STATE_ERR: DOM Exception 11";}}else h()}});var r={number:{mismatch:function(b){return!e(b)},
step:1,stepScaleFactor:1,asNumber:function(b){return e(b)?b*1:q},numberToString:function(b){return e(b)?b:false}},range:{minDefault:0,maxDefault:100},date:{mismatch:function(b){if(!b||!b.split||!/\d$/.test(b))return true;var g=b.split(/\u002D/);if(g.length!==3)return true;var h=false;a.each(g,function(f,l){if(!(e(l)||l&&l=="0"+l*1)){h=true;return false}});if(h)return h;if(g[0].length!==4||g[1].length!=2||g[1]>12||g[2].length!=2||g[2]>33)h=true;return b!==this.dateToString(this.asDate(b,true))},step:1,
stepScaleFactor:864E5,asDate:function(b,g){if(!g&&this.mismatch(b))return null;return new Date(this.asNumber(b,true))},asNumber:function(b,g){var h=q;if(g||!this.mismatch(b)){b=b.split(/\u002D/);h=Date.UTC(b[0],b[1]-1,b[2])}return h},numberToString:function(b){return e(b)?this.dateToString(new Date(b*1)):false},dateToString:function(b){return b&&b.getFullYear?b.getUTCFullYear()+"-"+s(b.getUTCMonth()+1,2)+"-"+s(b.getUTCDate(),2):false}},time:{mismatch:function(b,g){if(!b||!b.split||!/\d$/.test(b))return true;
b=b.split(/\u003A/);if(b.length<2||b.length>3)return true;var h=false,f;if(b[2]){b[2]=b[2].split(/\u002E/);f=parseInt(b[2][1],10);b[2]=b[2][0]}a.each(b,function(l,i){if(!(e(i)||i&&i=="0"+i*1)||i.length!==2){h=true;return false}});if(h)return true;if(b[0]>23||b[0]<0||b[1]>59||b[1]<0)return true;if(b[2]&&(b[2]>59||b[2]<0))return true;if(f&&isNaN(f))return true;if(f)if(f<100)f*=100;else if(f<10)f*=10;return g===true?[b,f]:false},step:60,stepBase:0,stepScaleFactor:1E3,asDate:function(b){b=new Date(this.asNumber(b));
return isNaN(b)?null:b},asNumber:function(b){var g=q;b=this.mismatch(b,true);if(b!==true){g=Date.UTC("1970",0,1,b[0][0],b[0][1],b[0][2]||0);if(b[1])g+=b[1]}return g},dateToString:function(b){if(b&&b.getUTCHours){var g=s(b.getUTCHours(),2)+":"+s(b.getUTCMinutes(),2),h=b.getSeconds();if(h!="0")g+=":"+s(h,2);h=b.getUTCMilliseconds();if(h!="0")g+="."+s(h,3);return g}else return false}},"datetime-local":{mismatch:function(b,g){if(!b||!b.split||(b+"special").split(/\u0054/).length!==2)return true;b=b.split(/\u0054/);
return d.date.mismatch(b[0])||d.time.mismatch(b[1],g)},noAsDate:true,asDate:function(b){b=new Date(this.asNumber(b));return isNaN(b)?null:b},asNumber:function(b){var g=q,h=this.mismatch(b,true);if(h!==true){b=b.split(/\u0054/)[0].split(/\u002D/);g=Date.UTC(b[0],b[1]-1,b[2],h[0][0],h[0][1],h[0][2]||0);if(h[1])g+=h[1]}return g},dateToString:function(b,g){return d.date.dateToString(b)+"T"+d.time.dateToString(b,g)}}};c("number")||a.webshims.addInputType("number",r.number);c("range")||a.webshims.addInputType("range",
a.extend({},r.number,r.range));c("date")||a.webshims.addInputType("date",r.date);c("time")||a.webshims.addInputType("time",a.extend({},r.date,r.time));c("datetime-local")||a.webshims.addInputType("datetime-local",a.extend({},r.date,r.time,r["datetime-local"]));(function(){var b=a.webshims.modules["number-date-type"].options,g=function(l,i,j){j=j||{};if(!("type"in j))j.type=k(l);if(!("step"in j))j.step=n(l,j.type);if(!("valueAsNumber"in j))j.valueAsNumber=d[j.type].asNumber(a.attr(l,"value"));var t=
j.step=="any"?d[j.type].step*d[j.type].stepScaleFactor:j.step;o("min",a(l),j);o("max",a(l),j);if(isNaN(j.valueAsNumber))j.valueAsNumber=d[j.type].stepBase||0;if(j.step!=="any")j.valueAsNumber=Math.round((j.valueAsNumber-(j.valueAsNumber-(j.minAsnumber||0))%j.step)*1E7)/1E7;l=j.valueAsNumber+t*i;if(!isNaN(j.minAsNumber)&&l<j.minAsNumber)l=j.valueAsNumber*i<j.minAsNumber?j.minAsNumber:isNaN(j.maxAsNumber)?Number.MAX_VALUE:j.maxAsNumber;else if(!isNaN(j.maxAsNumber)&&l>j.maxAsNumber)l=j.valueAsNumber*
i>j.maxAsNumber?j.maxAsNumber:isNaN(j.minAsNumber)?Number.MIN_VALUE:j.minAsNumber;return l};a.webshims.modules["number-date-type"].getNextStep=g;var h=function(l,i,j){if(!(l.disabled||l.readOnly||a(j).hasClass("step-controls"))){a.attr(l,"value",d[i].numberToString(g(l,a(j).hasClass("step-up")?1:-1,{type:i})));a(l).unbind("blur.stepeventshim").trigger("input");if(document.activeElement){if(document.activeElement!==l)try{l.focus()}catch(t){}setTimeout(function(){if(document.activeElement!==l)try{l.focus()}catch(u){}a(l).one("blur.stepeventshim",
function(){a(l).trigger("change")})},0)}}};if(b.stepArrows){var f={elementNames:["input"],setter:function(l,i,j){j();if(i=a.data(l,"step-controls"))i[l.disabled||l.readonly?"addClass":"removeClass"]("disabled-step-control")}};a.webshims.attr("disabled",f);a.webshims.attr("readonly",f)}a.webshims.addReady(function(l){b.stepArrows&&a("input",l).each(function(){var i=k(this);if(!(!d[i]||!d[i].asNumber||!b.stepArrows||b.stepArrows!==true&&!b.stepArrows[i])){var j=this,t=a(this).css("direction")=="rtl"?
{action:"insertBefore",side:"Left",otherSide:"right"}:{action:"insertAfter",side:"Right",otherSide:"left"},u=a('<span class="step-controls"><span class="step-up" /><span class="step-down" tabindex="-1" /></span>')[t.action](this).bind("selectstart dragstart",function(){return false}).bind("mousedown mousepress",function(y){h(j,i,y.target);return false});a(this).addClass("has-step-controls").data("step-controls",u).attr({readonly:this.readOnly,disabled:this.disabled});if(b.calculateWidth){var w=a(this).width()||
parseInt(a(this).css("width"),10);if(w){var x=(parseInt(a(this).css("margin"+t.side),10)||0)+(parseInt(u.css("margin"+t.side),10)||0);a(this).css("width",w-u.outerWidth(true));x&&u.css("margin"+t.side,x)}}}})})})();a.webshims.attr("type",{elementNames:["input"],getter:function(b){var g=k(b);return a.webshims.inputTypes[g]?g:b.type||b.getAttribute("type")},setter:true});a.webshims.createReadyEvent("number-date-type")}};a.support.validity===true?a.webshims.ready("validation-base",m,true):a.webshims.ready("validity",
m,true)})(jQuery);
(function(a){a.support.inputUI="shim";var p=a.webshims.modules.inputUI.options,m=function(d){a("input",d).each(function(){var e=a.attr(this,"type");m[e]&&!a.data(this,"inputUIReplace")&&m[e](a(this))})};m.common=function(d,e,c){a.support.validity===true&&d.bind("firstinvalid",function(o){setTimeout(function(){a.data(o.target,"maybePreventedinvalid")||a.webshims.validityAlert.showFor(o.target)},30)});var k=d.attr("id");k={css:{marginRight:d.css("marginRight"),marginLeft:d.css("marginLeft")},outerWidth:d.getouterWidth(),
label:k?a("label[for="+k+"]",d[0].form):a([])};var n=a.webshims.getID(k.label);e.addClass(d[0].className).data("html5element",d);d.after(e).data("inputUIReplace",{visual:e,methods:c}).hide();if(e.length==1&&!a("*",e)[0]){e.attr("aria-labeledby",n);k.label.bind("click",function(){e.focus();return false})}return k};m["datetime-local"]=function(d){if(a.fn.datepicker){var e=a('<span class="input-datetime-local"><input type="text" class="input-datetime-local-date" /><input type="time" class="input-datetime-local-time" /></span>'),
c=this.common(d,e,m["datetime-local"].attrs),k=a("input.input-datetime-local-date",e);a("input",e).data("html5element",a.data(e[0],"html5element"));k.attr("aria-labeledby",c.label.attr("id"));c.label.bind("click",function(){k.focus();return false});if(c.css){e.css(c.css);if(c.outerWidth){e.outerWidth(c.outerWidth);c=e.getwidth();k.css({marginLeft:0,marginRight:2}).outerWidth(Math.floor(c*0.61));a("input.input-datetime-local-time").css({marginLeft:2,marginRight:0}).outerWidth(Math.floor(c*0.37))}}a.webshims.triggerDomUpdate(e);
a("input.input-datetime-local-date",e).datepicker(a.extend({},p.date)).bind("change",function(){var n,o=a("input.input-datetime-local-time",e).attr("value");try{n=(n=a.datepicker.parseDate(k.datepicker("option","dateFormat"),k.attr("value")))?a.datepicker.formatDate("yy-mm-dd",n):k.attr("value")}catch(s){n=k.attr("value")}if(!a("input.input-datetime-local-time",e).attr("value")){o="00:00";a("input.input-datetime-local-time",e).attr("value",o)}m["datetime-local"].blockAttr=true;d.attr("value",n+"T"+
o);m["datetime-local"].blockAttr=false;d.trigger("change")}).data("datepicker").dpDiv.addClass("input-date-datepicker-control");a("input.input-datetime-local-time",e).bind("input change",function(){var n=d.attr("value").split("T");if(n.length<2||!n[0])n[0]=a.datepicker.formatDate("yy-mm-dd",new Date);n[1]=a.attr(this,"value");m["datetime-local"].blockAttr=true;try{k.attr("value",a.datepicker.formatDate(k.datepicker("option","dateFormat"),a.datepicker.parseDate("yy-mm-dd",n[0])))}catch(o){}d.attr("value",
n.join("T"));m["datetime-local"].blockAttr=false;d.trigger("change")});a.each(["disabled","min","max","value"],function(n,o){d.attr(o,function(s,r){return r||""})})}};m["datetime-local"].attrs={disabled:function(d,e,c){a("input.input-datetime-local-date",e).datepicker("option","disabled",!!c);a("input.input-datetime-local-time",e).attr("disabled",!!c)},min:function(d,e,c){c=c.split?c.split("T"):[];try{c=a.datepicker.parseDate("yy-mm-dd",c[0])}catch(k){c=false}c&&a("input.input-datetime-local-date",
e).datepicker("option","minDate",c)},max:function(d,e,c){c=c.split?c.split("T"):[];try{c=a.datepicker.parseDate("yy-mm-dd",c[0])}catch(k){c=false}c&&a("input.input-datetime-local-date",e).datepicker("option","maxDate",c)},value:function(d,e,c){if(!m["datetime-local"].blockAttr){var k;c=c.split?c.split("T"):[];try{k=a.datepicker.parseDate("yy-mm-dd",c[0])}catch(n){k=false}if(k){a("input.input-datetime-local-date",e).datepicker("setDate",k);a("input.input-datetime-local-time",e).attr("value",c[1]||
"00:00")}else{a("input.input-datetime-local-date",e).attr("value",c[0]||"");a("input.input-datetime-local-time",e).attr("value",c[1]||"")}}}};m.date=function(d){if(a.fn.datepicker){var e=a('<input type="text" class="input-date" />'),c=this.common(d,e,m.date.attrs);if(c.css){e.css(c.css);c.outerWidth&&e.outerWidth(c.outerWidth)}data=e.datepicker(a.extend({},p.date)).bind("change",function(){m.date.blockAttr=true;var k;try{k=(k=a.datepicker.parseDate(e.datepicker("option","dateFormat"),e.attr("value")))?
a.datepicker.formatDate("yy-mm-dd",k):e.attr("value")}catch(n){k=e.attr("value")}d.attr("value",k);m.date.blockAttr=false;d.trigger("change")}).data("datepicker").dpDiv.addClass("input-date-datepicker-control");a.each(["disabled","min","max","value"],function(k,n){d.attr(n,function(o,s){return s||""})})}};m.date.attrs={disabled:function(d,e,c){e.datepicker("option","disabled",!!c)},min:function(d,e,c){try{c=a.datepicker.parseDate("yy-mm-dd",c)}catch(k){c=false}c&&e.datepicker("option","minDate",c)},
max:function(d,e,c){try{c=a.datepicker.parseDate("yy-mm-dd",c)}catch(k){c=false}c&&e.datepicker("option","maxDate",c)},value:function(d,e,c){if(!m.date.blockAttr){try{var k=a.datepicker.parseDate("yy-mm-dd",c)}catch(n){k=false}k?e.datepicker("setDate",k):e.attr("value",c)}}};m.range=function(d){if(a.fn.slider){var e=a('<span class="input-range"><span class="ui-slider-handle" role="slider" tabindex="0" /></span>'),c=this.common(d,e,m.range.attrs),k=function(n,o){if(n.originalEvent){m.range.blockAttr=
true;d.attr("value",o.value);m.range.blockAttr=false;n.type=="slidechange"?d.trigger("change"):a.webshims.triggerInlineForm(d[0],"input")}};a("span",e).attr("aria-labeledby",c.label.attr("id"));c.label.bind("click",function(){a("span",e).focus();return false});if(c.css){e.css(c.css);c.outerWidth&&e.outerWidth(c.outerWidth)}e.slider(a.extend(p.slider,{change:k,slide:k}));a.each(["disabled","min","max","value","step"],function(n,o){d.attr(o,function(s,r){return r||""})})}};m.range.attrs={disabled:function(d,
e,c){c=!!c;e.slider("option","disabled",c);a("span",e).attr({"aria-disabled":c+"",tabindex:c?"-1":"0"})},min:function(d,e,c){c=c?c*1||0:0;e.slider("option","min",c);a("span",e).attr({"aria-valuemin":c})},max:function(d,e,c){c=c||c===0?c*1||100:100;e.slider("option","max",c);a("span",e).attr({"aria-valuemax":c})},value:function(d,e,c){c=a(d).attr("valueAsNumber");if(isNaN(c)){c=(e.slider("option","max")-e.slider("option","min"))/2;d.value=c}m.range.blockAttr||e.slider("option","value",c);a("span",
e).attr({"aria-valuenow":c,"aria-valuetext":c})},step:function(d,e,c){c=c&&a.trim(c)?c*1||1:1;e.slider("option","step",c)}};a.each(["disabled","min","max","value","step"],function(d,e){a.webshims.attr(e,{elementNames:["input"],setter:function(c,k,n){var o=a.data(c,"inputUIReplace");n();o&&o.methods[e]&&o.methods[e](c,o.visual,k)},getter:true})});var q=function(d){if(d){d=a.extend({},d,p.date);a("input.hasDatepicker").filter(".input-date, .input-datetime-local-date").datepicker("option",d).each(function(){var e=
a.data(this,"html5element");e&&a.each(["disabled","min","max","value"],function(c,k){e.attr(k,function(n,o){return o||""})})});a.datepicker.setDefaults(d)}};a(document).bind("jquery-uiReady.langchange input-widgetsReady.langchange",function(){a.datepicker&&a(document).bind("htmlExtLangChange",function(){a.webshims.activeLang(a.datepicker.regional,"inputUI",q)}).unbind("jquery-uiReady.langchange input-widgetsReady.langchange")});a.webshims.ready("number-date-type",function(){a.webshims.addReady(function(d){a(document).bind("jquery-uiReady.initinputui input-widgetsReady.initinputui",
function(){if(a.datepicker||a.fn.slider){m(d);a.datepicker&&a.fn.slider&&a(document).unbind("jquery-uiReady.initinputui input-widgetsReady.initinputui")}})});a.webshims.createReadyEvent("inputUI")},true)})(jQuery);
