(function(b){if(!b.support.validity){b.webshims.inputTypes=b.webshims.inputTypes||{};var h=b.webshims.inputTypes,l={radio:1,checkbox:1};b.webshims.addInputType=function(a,c){h[a]=c};var m={customError:false,typeMismatch:false,rangeUnderflow:false,rangeOverflow:false,stepMismatch:false,tooLong:false,patternMismatch:false,valueMissing:false,valid:true},e={valueMissing:function(a,c){if(!a.attr("required"))return false;return l[a[0].type]?!b(a[0].form&&a[0].name?a[0].form[a[0].name]:[]).filter(":checked")[0]:
!c},tooLong:function(a,c){if(c==="")return false;var d=a.attr("maxlength"),f=false,g=c.length;if(g&&d>=0&&c.replace&&(typeof d=="number"||d&&d==d*1))f=g>d;return f},typeMismatch:function(a,c,d){if(c==="")return false;var f=false;if(!("type"in d))d.type=(a[0].getAttribute("type")||"").toLowerCase();if(h[d.type]&&h[d.type].mismatch)f=h[d.type].mismatch(c,a);return f},patternMismatch:function(a,c){if(c==="")return false;var d=a.attr("pattern");if(!d)return false;return!RegExp("^(?:"+d+")$").test(c)}};
b.webshims.addValidityRule=function(a,c){e[a]=c};b.webshims.addMethod("checkValidity",function(){var a,c=function(d){var f,g=b.attr(d,"validity");if(g)b.data(d,"cachedValidity",g);else g={valid:true};if(!g.valid){f=b.Event("invalid");var j=b(d).trigger(f);if(!f.isDefaultPrevented()){a||b.webshims.validityAlert.showFor(j);a=true}}b.data(d,"cachedValidity",false);return g.valid};return function(){a=false;if(b.nodeName(this,"form")||b.nodeName(this,"fieldset")){for(var d=true,f=this.elements||b("input, textarea, select",
this),g=0,j=f.length;g<j;g++)c(f[g])||(d=false);return d}else return this.form?c(this):true}}());b.event.special.invalid={add:function(){b.data(this,"invalidEventShim")||b.event.special.invalid.setup.call(this)},setup:function(){b(this).bind("submit",b.event.special.invalid.handler).data("invalidEventShim",true);var a=b(this).data("events").submit;a&&a.length>1&&a.unshift(a.pop())},teardown:function(){b(this).unbind("submit",b.event.special.invalid.handler).data("invalidEventShim",false)},handler:function(a){if(!(a.type!=
"submit"||!b.nodeName(a.target,"form")||b.attr(a.target,"novalidate")!==undefined||b.data(a.target,"novalidate")))if(!b(a.target).checkValidity()){!a.originalEvent&&!window.debugValidityShim&&window.console&&console.log&&console.log("submit");a.stopImmediatePropagation();return false}}};b.webshims.attr("validity",{elementNames:["input","select","textarea"],getter:function(a){var c=b.data(a,"cachedValidity");if(c)return c;c=b.extend({},m);if(!b.attr(a,"willValidate"))return c;var d=b(a),f=d.val(),
g={};c.customError=!!b.data(a,"customvalidationMessage");if(c.customError)c.valid=false;if((a.nodeName||"").toLowerCase()=="select")return c;b.each(e,function(j,n){if(n(d,f,g)){c[j]=true;c.valid=false}});return c}});b.webshims.addMethod("setCustomValidity",function(a){b.data(this,"customvalidationMessage",""+a)});b.webshims.attr("validationMessage",{elementNames:["input","select","textarea"],getter:function(a,c){var d=c()||b.data(a,"customvalidationMessage");return!d||!b.attr(a,"willValidate")?"":
d}});b.webshims.createBooleanAttrs("required",["input","textarea"]);b.webshims.attr("willValidate",{elementNames:["input","select","textarea"],getter:function(){var a={button:1,reset:1,add:1,remove:1,"move-up":1,"move-down":1,hidden:1,submit:1};return function(c){return!!(c.name&&c.form&&!c.disabled&&!c.readonly&&!a[c.type]&&b.attr(c.form,"novalidate")===undefined)}}()});b.webshims.addInputType("email",{mismatch:function(){var a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|(\x22((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?\x22))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;
return function(c){return!a.test(c)}}()});b.webshims.addInputType("url",{mismatch:function(){var a=/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;
return function(c){return!a.test(c)}}()});var i=function(){var a=this;if(a.form){b.data(a.form,"novalidate",true);setTimeout(function(){b.data(a.form,"novalidate",false)},1)}},k={submit:1,button:1};b(document).bind("click",function(a){a.target&&a.target.form&&k[a.target.type]&&b.attr(a.target,"formnovalidate")!==undefined&&i.call(a.target)});b.webshims.addReady(function(a){b("form",a).bind("invalid",b.noop).find("button[formnovalidate]").bind("click",i)})}})(jQuery);
(function(b){if(b.support.validity!==true){b.support.validity="shim";var h={input:1,textarea:1},l={radio:1,checkbox:1,submit:1,button:1,image:1,reset:1,color:1,range:1},m=function(e){var i;e[0].getAttribute("type");var k=e.val(),a=function(d){if(e){var f=e.val();if(f!==k){k=f;if(!d||d.type!="input")e.trigger("input")}}},c=function(){e.unbind("focusout",c).unbind("input",a);clearInterval(i);a();e=null};clearInterval(i);i=setInterval(a,150);setTimeout(a,9);e.bind("focusout",c).bind("input",a)};b(document).bind("focusin",
function(e){if(e.target&&e.target.type&&!e.target.readonly&&!e.target.readOnly&&!e.target.disabled&&h[(e.target.nodeName||"").toLowerCase()]&&!l[e.target.type])m(b(e.target))})}})(jQuery);
