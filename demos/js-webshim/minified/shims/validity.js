jQuery.webshims.ready("validation-base",function(b){if(!b.support.validity){b.webshims.inputTypes=b.webshims.inputTypes||{};var i=b.webshims.inputTypes,o={radio:1,checkbox:1};b.webshims.addInputType=function(a,c){i[a]=c};var p={customError:false,typeMismatch:false,rangeUnderflow:false,rangeOverflow:false,stepMismatch:false,tooLong:false,patternMismatch:false,valueMissing:false,valid:true},j={valueMissing:function(a,c,d){if(!a.attr("required"))return false;var e=false;if(!("type"in d))d.type=(a[0].getAttribute("type")||
a[0].type||"").toLowerCase();return e=d.nodeName=="select"?!c&&a[0].type=="select-one"&&a[0].size<2&&b("> option:first-child:not(:disabled)",a).attr("selected"):o[d.type]?!b(a[0].form&&a[0].name?a[0].form[a[0].name]:[]).filter(":checked")[0]:!c},tooLong:function(a,c,d){if(c===""||d.nodeName=="select")return false;a=a.attr("maxlength");d=false;var e=c.length;if(e&&a>=0&&c.replace&&(typeof a=="number"||a&&a==a*1))d=e>a;return d},typeMismatch:function(a,c,d){if(c===""||d.nodeName=="select")return false;
var e=false;if(!("type"in d))d.type=(a[0].getAttribute("type")||a[0].type||"").toLowerCase();if(i[d.type]&&i[d.type].mismatch)e=i[d.type].mismatch(c,a);return e},patternMismatch:function(a,c,d){if(c===""||d.nodeName=="select")return false;a=a.attr("pattern");if(!a)return false;return!RegExp("^(?:"+a+")$").test(c)}};b.webshims.addValidityRule=function(a,c){j[a]=c};b.webshims.addMethod("checkValidity",function(){var a,c=function(d){var e,f=b.attr(d,"validity");if(f)b.data(d,"cachedValidity",f);else return true;
if(!f.valid){e=b.Event("invalid");var g=b(d).trigger(e);if(!a&&!e.isDefaultPrevented()){b.webshims.validityAlert.showFor(g);a=true}}b.data(d,"cachedValidity",false);return f.valid};return function(){a=false;if(b.nodeName(this,"form")||b.nodeName(this,"fieldset")){for(var d=true,e=this.elements||b("input, textarea, select",this),f=0,g=e.length;f<g;f++)c(e[f])||(d=false);return d}else return this.form?c(this):true}}());b.event.special.invalid={add:function(){b.data(this,"invalidEventShim")||b.event.special.invalid.setup.call(this)},
setup:function(){b(this).bind("submit",b.event.special.invalid.handler).data("invalidEventShim",true);var a=b(this).data("events").submit;a&&a.length>1&&a.unshift(a.pop())},teardown:function(){b(this).unbind("submit",b.event.special.invalid.handler).data("invalidEventShim",false)},handler:function(a){if(!(a.type!="submit"||!b.nodeName(a.target,"form")||b.attr(a.target,"novalidate")!==undefined||b.data(a.target,"novalidate")))if(!b(a.target).checkValidity()){!a.originalEvent&&!window.debugValidityShim&&
window.console&&console.log&&console.log("submit");a.stopImmediatePropagation();return false}}};b.webshims.attr("validity",{elementNames:["input","select","textarea"],getter:function(a){var c=b.data(a,"cachedValidity");if(c)return c;c=b.extend({},p);if(!b.attr(a,"willValidate"))return c;var d=b(a),e=d.val(),f={nodeName:a.nodeName.toLowerCase()};c.customError=!!b.data(a,"customvalidationMessage");if(c.customError)c.valid=false;b.each(j,function(g,h){if(h(d,e,f)){c[g]=true;c.valid=false}});return c}});
b.webshims.addMethod("setCustomValidity",function(a){b.data(this,"customvalidationMessage",""+a)});b.webshims.attr("validationMessage",{elementNames:["input","select","textarea"],getter:function(a,c){var d=c()||b.data(a,"customvalidationMessage");return!d||!b.attr(a,"willValidate")?"":d}});b.webshims.createBooleanAttrs("required",["input","textarea","select"]);b.webshims.attr("willValidate",{elementNames:["input","select","textarea"],getter:function(){var a={button:1,reset:1,add:1,remove:1,"move-up":1,
"move-down":1,hidden:1,submit:1};return function(c){return!!(c.name&&c.form&&!c.disabled&&!c.readOnly&&!a[c.type]&&b.attr(c.form,"novalidate")===undefined)}}()});b.webshims.addInputType("email",{mismatch:function(){var a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|(\x22((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?\x22))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;
return function(c){return!a.test(c)}}()});b.webshims.addInputType("url",{mismatch:function(){var a=/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;
return function(c){return!a.test(c)}}()});var k=function(){var a=this;if(a.form){b.data(a.form,"novalidate",true);setTimeout(function(){b.data(a.form,"novalidate",false)},1)}},q={submit:1,button:1};b(document).bind("click",function(a){a.target&&a.target.form&&q[a.target.type]&&b.attr(a.target,"formnovalidate")!==undefined&&k.call(a.target)});b.webshims.addReady(function(a){a=b("form",a).bind("invalid",b.noop).find("button[formnovalidate]").bind("click",k).end();if(!document.activeElement||!document.activeElement.form)b("input, select, textarea",
a).filter("[autofocus]:first").focus()});(function(){if(b.support.validity!==true){b.support.validity="shim";var a={input:1,textarea:1},c={radio:1,checkbox:1,submit:1,button:1,image:1,reset:1,color:1},d=function(e){var f;e[0].getAttribute("type");var g=e.val(),h=function(l){if(e){var m=e.val();if(m!==g){g=m;if(!l||l.type!="input")e.trigger("input")}}},n=function(){e.unbind("focusout",n).unbind("input",h);clearInterval(f);h();e=null};clearInterval(f);f=setInterval(h,150);setTimeout(h,9);e.bind("focusout",
n).bind("input",h)};b(document).bind("focusin",function(e){if(e.target&&e.target.type&&!e.target.readonly&&!e.target.readOnly&&!e.target.disabled&&a[(e.target.nodeName||"").toLowerCase()]&&!c[e.target.type])d(b(e.target))})}})();b.webshims.createReadyEvent("validity")}},true);
