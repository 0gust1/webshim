(function(t){var v,z=function(h,j,A){if(!v){v=true;var p=parseInt("NaN",10),u=document,g=j.inputTypes,n=function(a){return typeof a=="number"||a&&a==a*1},q=function(a){return h('<input type="'+a+'" />').attr("type")===a},k=function(a){return(a.getAttribute("type")||"").toLowerCase()},w=function(a,b){var c=h.attr(a,"step");if(c==="any")return c;b=b||k(a);if(!g[b]||!g[b].step)return c;c=g.number.asNumber(c);return(!isNaN(c)&&c>0?c:g[b].step)*g[b].stepScaleFactor},s=function(a,b,c){if(!(a+"AsNumber"in
c)){c[a+"AsNumber"]=g[c.type].asNumber(b.attr(a));if(isNaN(c[a+"AsNumber"])&&a+"Default"in g[c.type])c[a+"AsNumber"]=g[c.type][a+"Default"]}},o=function(a,b){a=""+a;b-=a.length;for(var c=0;c<b;c++)a="0"+a;return a};j.addValidityRule("stepMismatch",function(a,b,c){if(b==="")return false;if(!("type"in c))c.type=k(a[0]);if(c.type=="date")return false;var f=false;if(g[c.type]&&g[c.type].step){if(!("step"in c))c.step=w(a[0],c.type);if(c.step=="any")return false;if(!("valueAsNumber"in c))c.valueAsNumber=
g[c.type].asNumber(b);if(isNaN(c.valueAsNumber))return false;s("min",a,c);a=c.minAsNumber;if(isNaN(a))a=g[c.type].stepBase||0;f=Math.abs((c.valueAsNumber-a)%c.step);f=!(f<=1.0E-7||Math.abs(f-c.step)<=1.0E-7)}return f});[{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",factor:-1}].forEach(function(a){j.addValidityRule(a.name,function(b,c,f){var e=false;if(c==="")return e;if(!("type"in f))f.type=k(b[0]);if(g[f.type]&&g[f.type].asNumber){if(!("valueAsNumber"in f))f.valueAsNumber=
g[f.type].asNumber(c);if(isNaN(f.valueAsNumber))return false;s(a.attr,b,f);if(isNaN(f[a.attr+"AsNumber"]))return e;e=f[a.attr+"AsNumber"]*a.factor<f.valueAsNumber*a.factor-1.0E-7}return e})});j.attr("valueAsNumber",{elementNames:["input"],getter:function(a){var b=k(a);return g[b]&&g[b].asNumber?g[b].asNumber(h.attr(a,"value")):p},setter:function(a,b,c){var f=k(a);if(g[f]&&g[f].numberToString)if(isNaN(b))h.attr(a,"value","");else{b=g[f].numberToString(b);if(b!==false)h.attr(a,"value",b);else throw"INVALID_STATE_ERR: DOM Exception 11";
}else c()}});j.attr("valueAsDate",{elementNames:["input"],getter:function(a){var b=k(a);return g[b]&&g[b].asDate&&!g[b].noAsDate?g[b].asDate(h.attr(a,"value")):null},setter:function(a,b,c){var f=k(a);if(g[f]&&g[f].dateToString){if(!A.noHTMLExtFixes)throw"there are some serious issues in opera's implementation. don't use!";if(b===null)h.attr(a,"value","");else{b=g[f].dateToString(b);if(b!==false)h.attr(a,"value",b);else throw"INVALID_STATE_ERR: DOM Exception 11";}}else c()}});var l={number:{mismatch:function(a){return!n(a)},
step:1,stepScaleFactor:1,asNumber:function(a){return n(a)?a*1:p},numberToString:function(a){return n(a)?a:false}},range:{minDefault:0,maxDefault:100},date:{mismatch:function(a){if(!a||!a.split||!/\d$/.test(a))return true;var b=a.split(/\u002D/);if(b.length!==3)return true;var c=false;h.each(b,function(f,e){if(!(n(e)||e&&e=="0"+e*1)){c=true;return false}});if(c)return c;if(b[0].length!==4||b[1].length!=2||b[1]>12||b[2].length!=2||b[2]>33)c=true;return a!==this.dateToString(this.asDate(a,true))},step:1,
stepScaleFactor:864E5,asDate:function(a,b){if(!b&&this.mismatch(a))return null;return new Date(this.asNumber(a,true))},asNumber:function(a,b){var c=p;if(b||!this.mismatch(a)){a=a.split(/\u002D/);c=Date.UTC(a[0],a[1]-1,a[2])}return c},numberToString:function(a){return n(a)?this.dateToString(new Date(a*1)):false},dateToString:function(a){return a&&a.getFullYear?a.getUTCFullYear()+"-"+o(a.getUTCMonth()+1,2)+"-"+o(a.getUTCDate(),2):false}},time:{mismatch:function(a,b){if(!a||!a.split||!/\d$/.test(a))return true;
a=a.split(/\u003A/);if(a.length<2||a.length>3)return true;var c=false,f;if(a[2]){a[2]=a[2].split(/\u002E/);f=parseInt(a[2][1],10);a[2]=a[2][0]}h.each(a,function(e,i){if(!(n(i)||i&&i=="0"+i*1)||i.length!==2){c=true;return false}});if(c)return true;if(a[0]>23||a[0]<0||a[1]>59||a[1]<0)return true;if(a[2]&&(a[2]>59||a[2]<0))return true;if(f&&isNaN(f))return true;if(f)if(f<100)f*=100;else if(f<10)f*=10;return b===true?[a,f]:false},step:60,stepBase:0,stepScaleFactor:1E3,asDate:function(a){a=new Date(this.asNumber(a));
return isNaN(a)?null:a},asNumber:function(a){var b=p;a=this.mismatch(a,true);if(a!==true){b=Date.UTC("1970",0,1,a[0][0],a[0][1],a[0][2]||0);if(a[1])b+=a[1]}return b},dateToString:function(a){if(a&&a.getUTCHours){var b=o(a.getUTCHours(),2)+":"+o(a.getUTCMinutes(),2),c=a.getSeconds();if(c!="0")b+=":"+o(c,2);c=a.getUTCMilliseconds();if(c!="0")b+="."+o(c,3);return b}else return false}},"datetime-local":{mismatch:function(a,b){if(!a||!a.split||(a+"special").split(/\u0054/).length!==2)return true;a=a.split(/\u0054/);
return g.date.mismatch(a[0])||g.time.mismatch(a[1],b)},noAsDate:true,asDate:function(a){a=new Date(this.asNumber(a));return isNaN(a)?null:a},asNumber:function(a){var b=p,c=this.mismatch(a,true);if(c!==true){a=a.split(/\u0054/)[0].split(/\u002D/);b=Date.UTC(a[0],a[1]-1,a[2],c[0][0],c[0][1],c[0][2]||0);if(c[1])b+=c[1]}return b},dateToString:function(a,b){return g.date.dateToString(a)+"T"+g.time.dateToString(a,b)}}};q("number")||j.addInputType("number",l.number);q("range")||j.addInputType("range",h.extend({},
l.number,l.range));q("date")||j.addInputType("date",l.date);q("time")||j.addInputType("time",h.extend({},l.date,l.time));q("datetime-local")||j.addInputType("datetime-local",h.extend({},l.date,l.time,l["datetime-local"]));(function(){var a=j.modules["number-date-type"].options,b=function(e,i,d){d=d||{};if(!("type"in d))d.type=k(e);if(!("step"in d))d.step=w(e,d.type);if(!("valueAsNumber"in d))d.valueAsNumber=g[d.type].asNumber(h.attr(e,"value"));var m=d.step=="any"?g[d.type].step*g[d.type].stepScaleFactor:
d.step;s("min",h(e),d);s("max",h(e),d);if(isNaN(d.valueAsNumber))d.valueAsNumber=g[d.type].stepBase||0;if(d.step!=="any")if((e=Math.round((d.valueAsNumber-(d.minAsnumber||0))%d.step*1E7)/1E7)&&Math.abs(e)!=d.step)d.valueAsNumber-=e;e=d.valueAsNumber+m*i;if(!isNaN(d.minAsNumber)&&e<d.minAsNumber)e=d.valueAsNumber*i<d.minAsNumber?d.minAsNumber:isNaN(d.maxAsNumber)?Number.MAX_VALUE:d.maxAsNumber;else if(!isNaN(d.maxAsNumber)&&e>d.maxAsNumber)e=d.valueAsNumber*i>d.maxAsNumber?d.maxAsNumber:isNaN(d.minAsNumber)?
Number.MIN_VALUE:d.minAsNumber;return Math.round(e*1E7)/1E7};j.modules["number-date-type"].getNextStep=b;var c=function(e,i,d){if(!(e.disabled||e.readOnly||h(d).hasClass("step-controls"))){h.attr(e,"value",g[i].numberToString(b(e,h(d).hasClass("step-up")?1:-1,{type:i})));h(e).unbind("blur.stepeventshim");j.triggerInlineForm(e,"input");if(u.activeElement){if(u.activeElement!==e)try{e.focus()}catch(m){}setTimeout(function(){if(u.activeElement!==e)try{e.focus()}catch(r){}h(e).one("blur.stepeventshim",
function(){h(e).trigger("change")})},0)}}};if(a.stepArrows){var f={elementNames:["input"],setter:function(e,i,d){d();if(i=h.data(e,"step-controls"))i[e.disabled||e.readonly?"addClass":"removeClass"]("disabled-step-control")}};j.attr("disabled",f);j.attr("readonly",f)}j.addReady(function(e){a.stepArrows&&h("input",e).each(function(){var i=k(this);if(!(!g[i]||!g[i].asNumber||!a.stepArrows||a.stepArrows!==true&&!a.stepArrows[i])){var d=this,m=h(this).css("direction")=="rtl"?{action:"insertBefore",side:"Left",
otherSide:"right"}:{action:"insertAfter",side:"Right",otherSide:"left"},r=h('<span class="step-controls"><span class="step-up" /><span class="step-down" tabindex="-1" /></span>')[m.action](this).bind("selectstart dragstart",function(){return false}).bind("mousedown mousepress",function(B){c(d,i,B.target);return false});h(this).addClass("has-step-controls").data("step-controls",r).attr({readonly:this.readOnly,disabled:this.disabled});if(a.calculateWidth){var x=h(this).getwidth();if(x){var y=(parseInt(h(this).css("margin"+
m.side),10)||0)+(parseInt(r.css("margin"+m.side),10)||0);h(this).css("width",x-r.getouterWidth(true));if(y){h(this).css("margin"+m.side,0);r.css("margin"+m.side,y)}}}}})})})();j.attr("type",{elementNames:["input"],getter:function(a){var b=k(a);return j.inputTypes[b]?b:a.type||a.getAttribute("type")},setter:true});j.createReadyEvent("number-date-type")}};t.support.validity===true?t.webshims.ready("validation-base",z,true):t.webshims.ready("validity",z,true)})(jQuery);
