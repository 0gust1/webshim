(function(d){var s,r=function(){if(!s){s=true;var n=parseInt("NaN",10),g=d.webshims.inputTypes,l=function(a){return typeof a=="number"||d.trim(a)&&a==a*1},j=function(a){return(a.getAttribute("type")||"").toLowerCase()},t=function(a,b){var c=d.attr(a,"step");if(c==="any")return c;b=b||j(a);if(!g[b]||!g[b].step)return c;c=g.number.asNumber(c);return(!isNaN(c)&&c>0?c:g[b].step)*g[b].stepScaleFactor},o=function(a,b,c){if(!(a+"AsNumber"in c)){c[a+"AsNumber"]=g[c.type].asNumber(b.attr(a));if(isNaN(c[a+
"AsNumber"])&&a+"Default"in g[c.type])c[a+"AsNumber"]=g[c.type][a+"Default"]}},m=function(a,b){a=""+a;b-=a.length;for(var c=0;c<b;c++)a="0"+a;return a};d.webshims.addValidityRule("stepMismatch",function(a,b,c){if(b==="")return false;if(!("type"in c))c.type=j(a[0]);if(c.type=="date")return false;var h=false;if(g[c.type]&&g[c.type].step){if(!("step"in c))c.step=t(a[0],c.type);if(c.step=="any")return false;if(!("valueAsNumber"in c))c.valueAsNumber=g[c.type].asNumber(b);if(isNaN(c.valueAsNumber))return false;
o("min",a,c);a=c.minAsNumber;if(isNaN(a))a=g[c.type].stepBase||0;h=Math.abs((c.valueAsNumber-a)%c.step);h=!(h<=1.0E-7||Math.abs(h-c.step)<=1.0E-7)}return h});d.each([{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",factor:-1}],function(a,b){d.webshims.addValidityRule(b.name,function(c,h,e){var i=false;if(h==="")return i;if(!("type"in e))e.type=j(c[0]);if(g[e.type]&&g[e.type].asNumber){if(!("valueAsNumber"in e))e.valueAsNumber=g[e.type].asNumber(h);if(isNaN(e.valueAsNumber))return false;
o(b.attr,c,e);if(isNaN(e[b.attr+"AsNumber"]))return i;i=e[b.attr+"AsNumber"]*b.factor<=e.valueAsNumber*b.factor-1.0E-7}return i})});d.webshims.attr("valueAsNumber",{elementNames:["input"],getter:function(a){var b=j(a);return g[b]&&g[b].asNumber?g[b].asNumber(d.attr(a,"value")):n},setter:function(a,b,c){var h=j(a);if(g[h]&&g[h].numberToString)if(isNaN(b))d.attr(a,"value","");else{b=g[h].numberToString(b);if(b!==false)d.attr(a,"value",b);else throw"INVALID_STATE_ERR: DOM Exception 11";}else c()}});
d.webshims.attr("valueAsDate",{elementNames:["input"],getter:function(a){var b=j(a);return g[b]&&g[b].asDate&&!g[b].noAsDate?g[b].asDate(d.attr(a,"value")):null},setter:function(a,b,c){var h=j(a);if(g[h]&&g[h].dateToString)if(b===null)d.attr(a,"value","");else{b=g[h].dateToString(b);if(b!==false)d.attr(a,"value",b);else throw"INVALID_STATE_ERR: DOM Exception 11";}else c()}});d.webshims.addInputType("number",{mismatch:function(a){return!l(a)},step:1,stepScaleFactor:1,asNumber:function(a){return l(a)?
a*1:n},numberToString:function(a){return l(a)?a:false}});d.webshims.addInputType("range",d.extend({},g.number,{minDefault:0,maxDefault:100}));d.webshims.addInputType("date",{mismatch:function(a){if(!a||!a.split||!/\d$/.test(a))return true;var b=a.split(/\u002D/);if(b.length!==3)return true;var c=false;d.each(b,function(h,e){if(!(l(e)||e&&e=="0"+e*1)){c=true;return false}});if(c)return c;if(b[0].length!==4||b[1].length!=2||b[1]>12||b[2].length!=2||b[2]>33)c=true;return a!==this.dateToString(this.asDate(a,
true))},step:1,stepScaleFactor:864E5,asDate:function(a,b){if(!b&&this.mismatch(a))return null;return new Date(this.asNumber(a,true))},asNumber:function(a,b){var c=n;if(b||!this.mismatch(a)){a=a.split(/\u002D/);c=Date.UTC(a[0],a[1]-1,a[2])}return c},numberToString:function(a){return l(a)?this.dateToString(new Date(a*1)):false},dateToString:function(a){return a&&a.getFullYear?a.getUTCFullYear()+"-"+m(a.getUTCMonth()+1,2)+"-"+m(a.getUTCDate(),2):false}});d.webshims.addInputType("time",d.extend({},g.date,
{mismatch:function(a,b){if(!a||!a.split||!/\d$/.test(a))return true;a=a.split(/\u003A/);if(a.length<2||a.length>3)return true;var c=false,h;if(a[2]){a[2]=a[2].split(/\u002E/);h=parseInt(a[2][1],10);a[2]=a[2][0]}d.each(a,function(e,i){if(!(l(i)||i&&i=="0"+i*1)||i.length!==2){c=true;return false}});if(c)return true;if(a[0]>23||a[0]<0||a[1]>59||a[1]<0)return true;if(a[2]&&(a[2]>59||a[2]<0))return true;if(h&&isNaN(h))return true;if(h)if(h<100)h*=100;else if(h<10)h*=10;return b===true?[a,h]:false},step:60,
stepBase:0,stepScaleFactor:1E3,asDate:function(a){a=new Date(this.asNumber(a));return isNaN(a)?null:a},asNumber:function(a){var b=n;a=this.mismatch(a,true);if(a!==true){b=Date.UTC("1970",0,1,a[0][0],a[0][1],a[0][2]||0);if(a[1])b+=a[1]}return b},dateToString:function(a){if(a&&a.getUTCHours){var b=m(a.getUTCHours(),2)+":"+m(a.getUTCMinutes(),2),c=a.getSeconds();if(c!="0")b+=":"+m(c,2);c=a.getUTCMilliseconds();if(c!="0")b+="."+m(c,3);return b}else return false}}));d.webshims.addInputType("datetime-local",
d.extend({},g.time,{mismatch:function(a,b){if(!a||!a.split||(a+"special").split(/\u0054/).length!==2)return true;a=a.split(/\u0054/);return g.date.mismatch(a[0])||g.time.mismatch(a[1],b)},noAsDate:true,asDate:function(a){a=new Date(this.asNumber(a));return isNaN(a)?null:a},asNumber:function(a){var b=n,c=this.mismatch(a,true);if(c!==true){a=a.split(/\u0054/)[0].split(/\u002D/);b=Date.UTC(a[0],a[1]-1,a[2],c[0][0],c[0][1],c[0][2]||0);if(c[1])b+=c[1]}return b},dateToString:function(a,b){return g.date.dateToString(a)+
"T"+g.time.dateToString(a,b)}}));(function(){var a=d.webshims.loader.modules["number-date-type"].options,b=function(e,i,f){f=f||{};if(!("type"in f))f.type=j(e);if(!("step"in f))f.step=t(e,f.type);if(!("valueAsNumber"in f))f.valueAsNumber=g[f.type].asNumber(d.attr(e,"value"));var k=f.step=="any"?g[f.type].step*g[f.type].stepScaleFactor:f.step;o("min",d(e),f);o("max",d(e),f);if(isNaN(f.valueAsNumber))f.valueAsNumber=g[f.type].stepBase||0;if(f.step!=="any")f.valueAsNumber=Math.round((f.valueAsNumber-
(f.valueAsNumber-(f.minAsnumber||0))%f.step)*1E7)/1E7;e=f.valueAsNumber+k*i;if(!isNaN(f.minAsNumber)&&e<f.minAsNumber)e=f.valueAsNumber*i<f.minAsNumber?f.minAsNumber:isNaN(f.maxAsNumber)?Number.MAX_VALUE:f.maxAsNumber;else if(!isNaN(f.maxAsNumber)&&e>f.maxAsNumber)e=f.valueAsNumber*i>f.maxAsNumber?f.maxAsNumber:isNaN(f.minAsNumber)?Number.MIN_VALUE:f.minAsNumber;return e},c=function(e,i,f){if(!(e.disabled||e.readOnly||d(f).hasClass("step-controls"))){d.attr(e,"value",g[i].numberToString(b(e,d(f).hasClass("step-up")?
1:-1,{type:i})));d(e).unbind("blur.stepeventshim").trigger("input");if(document.activeElement){if(document.activeElement!==e)try{e.focus()}catch(k){}setTimeout(function(){if(document.activeElement!==e)try{e.focus()}catch(p){}d(e).one("blur.stepeventshim",function(){d(e).trigger("change")})},0)}}};if(a.stepArrows){var h={elementNames:["input"],setter:function(e,i,f){f();if(i=d.data(e,"step-controls"))i[e.disabled||e.readonly?"addClass":"removeClass"]("disabled-step-control")}};d.webshims.attr("disabled",
h);d.webshims.attr("readonly",h)}d.webshims.addReady(function(e){a.stepArrows&&d("input",e).each(function(){var i=j(this);if(!(!g[i]||!g[i].asNumber||!a.stepArrows||a.stepArrows!==true&&!a.stepArrows[i])){var f=this,k=d(this).css("direction")=="rtl"?{action:"insertBefore",side:"Left",otherSide:"right"}:{action:"insertAfter",side:"Right",otherSide:"left"},p=d('<span class="step-controls"><span class="step-up" /><span class="step-down" tabindex="-1" /></span>')[k.action](this).bind("mousedown mousepress",
function(u){c(f,i,u.target);return false});d(this).addClass("has-step-controls").data("step-controls",p).attr({readonly:this.readOnly,disabled:this.disabled});if(a.recalcWidth){var q=p.outerWidth(true)+(parseInt(d(this).css("padding"+k.side),10)||0),v=parseInt(d(this).css("border"+k.side+"width"),10)||0;p.css(k.otherSide,(v+q)*-1);q++;d(this).css("width",d(this).width()-q).css("padding"+k.side,q)}}})})})();d.webshims.attr("type",{elementNames:["input"],getter:function(a){var b=j(a);return d.webshims.inputTypes[b]?
b:a.type||a.getAttribute("type")},setter:true})}};if(d.webshims.addValidityRule)r();else d.support.validity===true?d.webshims.readyModules("implement-types",r):d.webshims.readyModules("validity",r)})(jQuery);
