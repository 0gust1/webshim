!function(a,b){"use strict";function c(a,c){var d,e={src:b.prop(a,"src"),attrSrc:b.trim(b.attr(a,"src")),declaredType:b.attr(a,"type")||b(a).data("type")||"",errors:{}};e.declaredContainer=e.declaredType.split(";")[0].trim();try{e.computedContainer=g.getTypeForSrc(e.src,c)}catch(f){e.computedContainer=""}if(e.src.indexOf(i))e.cors=!0;else try{e.headerType="",e.headers={},d=b.ajax({url:e.src,type:"head",success:function(){e.headerType=d.getResponseHeader("Content-Type")||"",/^\s*application\/octet\-stream\s*$/i.test(e.headerType)&&(e.headerType="",e.errors.octetStream="octetStream"),e.headerContainer=b.trim(e.headerType.split(";")[0]),["Content-Type","Content-Length","Accept-Ranges","Content-Disposition","Content-Encoding"].forEach(function(a){e.headers[a]=d.getResponseHeader(a)||""})},error:function(a,b,c){e.httpError=b,e.httpErrorText=c}}),e.ajax=d}catch(f){}return e}function d(a,d){var e,f=[],g=[],h=a.nodeName.toLowerCase(),i=b("source",a);return b.prop(a,"src")&&(e=c(a,h),e.attrMode=!0,e.typeNotRequired=!0,f.push(e)),i.each(function(a){var b=c(this,h);b.typeNotRequired=a>=i.length-1,f.push(b),b.ajax&&g.push(b.ajax)}),d.srces=f,b.when.apply(b,g)}function e(a){b.each(j,function(b,c){var d,e=!1,f=c.message||b;c.srcTest?(c.srcTest.poster&&(d=c.test(a.poster,a),d&&("string"==typeof d?a.poster.errors[b]=d:(a.poster.errors[b]=f,e=!0))),c.srcTest.srces&&a.srces.forEach(function(g){d=c.test(g,a),d&&("string"==typeof d?g.errors[b]=d:(g.errors[b]=f,e=!0))})):e=c.test(a),e&&a.errors.push({message:f,level:c.level})}),a.errors.sort(function(a,b){return a.level>b.level}),console.log("Testing mediaelement network + markup:",a),a.errors.forEach(function(a){var b="log";console.error&&console.warn&&(a.level<3?b="error":a.level<4&&(b="warn")),console[b](a.message,a.level)})}function f(a){var c={element:a,errors:[],poster:{src:b.prop(a,"poster"),attrSrc:b.trim(b.attr(a,"poster")),errors:{}},mediaError:b.prop(a,"error"),wsError:b(a).data("mediaerror")},f=d(a,c),g=function(){e(c)};f.fail(function(){setTimeout(g,399)}).done(g)}if(window.console){var g=a.mediaelement,h=swfmini.hasFlashPlayerVersion("10.0.3"),i=location.protocol+"//"+location.hostname,j={urlInValid:{level:1,test:function(){var a=/^[a-z0-9\,\.\:\/\-_\;\?#\+\*\!\(\)\$\;\&\=]+$/i;return function(b){return b.src&&!a.test(b.src)}}(),srcTest:{poster:1,srces:1}},hasNoTypeAttribute:{level:3.5,test:function(a){return!a.declaredType&&!a.typeNotRequired},srcTest:{srces:1}},couldNotComputeTypeDeclaredTypeAbsent:{level:1,test:function(a){return!a.computedContainer&&!a.declaredType},srcTest:{srces:1}},httpError:{level:2.5,test:function(a){return a.ajax?!(!a.httpError||a.httpErrorText):"not testable"},srcTest:{srces:1}},fileEncoding:{test:function(){return"This test does not test file encoding, framerate compatibility, moov index, encoding profiles. So there is room to fail!"},srcTest:{srces:1}},explicitHttpError:{level:1,test:function(a){return a.ajax?!!a.httpErrorText:"not testable"},srcTest:{srces:1}},charsetInContentType:{level:2.5,test:function(a){return a.ajax?a.headerType&&/charset=/i.test(a.headerType):"not testable"},srcTest:{srces:1}},explicitTypeMix:{level:3,test:function(a){return a.declaredContainer&&a.headerType?a.headerType!=a.declaredType:"not testable"},srcTest:{srces:1}},noContentType:{level:2.5,test:function(a){return a.ajax?!a.headerType:"not testable"},srcTest:{srces:1}},noContentLength:{level:3,test:function(a){return a.ajax?!a.headers["Content-Length"]:"not testable"},srcTest:{srces:1}},noRange:{level:3,test:function(a){return a.ajax?"none"==a.headers["Accept-Ranges"]:"not testable"},srcTest:{srces:1}},doubleEncoded:{level:1,test:function(a){return a.ajax?/[defalte|gzip]/i.test(a.headers["Content-Encoding"]):"not testable"},srcTest:{srces:1}},mediaAttachment:{level:1,test:function(a){return a.ajax?/attach/i.test(a.headers["Content-Disposition"]):"not testable"},srcTest:{srces:1}},badTypeMix:{level:1,test:function(a,b){var c,d,e=!1,f=a.declaredContainer||a.computedContainer,h=a.headerContainer;return h&&f&&h!=f?(c=-1!=g.swfMimeTypes.indexOf(f),d=-1!=g.swfMimeTypes.indexOf(h),c!=d&&(e=!0),!e&&b.element.canPlayType&&(c=!!b.element.canPlayType(f),d=!!b.element.canPlayType(h),c!=d&&(e=!0))):e="not testable",e},srcTest:{srces:1}},hasNoPlayableSrc:{level:1,test:function(a){var c=!1;return b.each(a.srces,function(b,d){var e=d.declaredContainer||d.computedContainer,f=d.headerContainer||e;return-1!=g.swfMimeTypes.indexOf(e)?(c=!0,!1):a.element.canPlayType&&a.element.canPlayType(e)&&a.element.canPlayType(f)?(c=!0,!1):void 0}),!c}},needsFlashInstalled:{level:1,test:function(a){var c=!1,d=!1;return h||b.each(a.srces,function(b,e){var f=e.declaredContainer||e.computedContainer,h=e.headerContainer||f;return-1!=g.swfMimeTypes.indexOf(f)&&(c=!0),a.element.canPlayType&&("video/youtube"==f||a.element.canPlayType(f)&&a.element.canPlayType(h))?(d=!0,!1):void 0}),c&&!d}},hasNoSwfPlayableSrc:{level:1,test:function(a){var c=!1;return b.each(a.srces,function(a,b){var d=b.declaredContainer||b.computedContainer;return-1!=g.swfMimeTypes.indexOf(d)?(c=!0,!1):void 0}),!c}},hasNoNativePlayableSrc:{level:3,test:function(a){var c=!1;return a.element.canPlayType&&b.each(a.srces,function(b,d){var e=d.declaredContainer||d.computedContainer,f=d.headerContainer||e;return"video/youtube"==e||a.element.canPlayType(e)&&a.element.canPlayType(f)?(c=!0,!1):void 0}),!c}},misLeadingAttrMode:{level:2,test:function(a){return a.srces.length>1&&a.srces[0].attrMode}},emptySrc:{level:2,test:function(a){return a.src&&!a.attrSrc},srcTest:{poster:1,srces:1}}},k=function(){var a=this;setTimeout(function(){f(a)})};console.log('running mediaelement debugger. Only run to test. Not in production. set webshim.setOptions("debug", false); to remove.'),a.cfg.extendNative&&console.log('Mediaelement debugger does not detect all problems with extendNative set to true. Please set webshim.setOptions("extendNative", false);'),a.addReady(function(a,c){b("video, audio",a).add(c.filter("video, audio")).each(k)})}}(webshim,webshim.$);