webshims.register("mediacontrols",function(a,b,c){"use strict";var d=b.cfg.mediaelement.jme,e=d.selector,f=a.jme,g='<div class="{%class%}"></div>',h='<button class="{%class%}" type="button" aria-label="{%text%}"></button>',i='<div class="{%class%} media-range"></div>',j='<div  class="{%class%}">00:00</div>',k=function(){var a,b="";if(c.Audio)try{a=new Audio,a.volume=.55,b=.55==a.volume?"":" no-volume-api"}catch(d){}return b}(),l=function(){var a={},c=/\{\{(.+?)\}\}/gim;return function(e,h){return e||(e=d.barTemplate),(!a[e]||h)&&(a[e]=e.replace(c,function(a,c){var d=f.plugins[c];return d?(b.warn("no structure option provided for plugin: "+c+". Fallback to standard div"),d.structure||(d.structure=g),d.structure.replace("{%class%}",c).replace("{%text%}",d.text||"")):a})),a[e]||""}}(),m=function(){m.loaded||(m.loaded=!0,b.loader.loadList(["mediacontrols-lazy","range-ui"]))},n=function(c){c||(c="_create");var d=function(e,f){var g=this,h=arguments;m(),b.ready("mediacontrols-lazy",function(){return d!=g[c]&&a.data(f[0])?g[c].apply(g,h):void b.error("stop too much recursion")})};return d};b.loader.addModule("mediacontrols-lazy",{src:"jme/mediacontrols-lazy"});var o={_create:n()};f.plugins.useractivity=o,f.defineProp("controlbar",{set:function(c,e){e=!!e;var g,h,i=f.data(c),j=a("div.jme-mediaoverlay, div.jme-controlbar",i.player),k="";return e&&!j[0]?i._controlbar?i._controlbar.appendTo(i.player):(i.media.prop("controls",!1),k=l(),i._controlbar=a(d.barStructure),j=i._controlbar.find("div.jme-cb-box").addClass("media-controls"),g=i._controlbar.filter(".jme-media-overlay"),g=g.add(j),a(k).appendTo(j),i._controlbar.appendTo(i.player),i.player.jmeFn("addControls",g),h=function(){var a,b=[{size:290,name:"xx-small"},{size:380,name:"x-small"},{size:490,name:"small"},{size:756,name:"medium"},{size:1024,name:"large"}],c=b.length;return function(){var d="x-large",e=0,f=i.player.outerWidth(),g=Math.max(parseInt(i.player.css("fontSize"),10)||16,13);for(f*=16/g;c>e;e++)if(b[e].size>=f){d=b[e].name;break}a!=d&&(a=d,i.player.attr("data-playersize",d))}}(),o._create(i.player,i.media,i.player),h(),b.ready("dom-support",function(){i.player.onWSOff("updateshadowdom",h),g.add(i._controlbar).addClass(b.shadowClass),b.addShadowDom()})):e||j.detach(),e}}),f.registerPlugin("play-pause",{structure:h,text:"play / pause",_create:n()}),f.registerPlugin("mute-unmute",{structure:h,text:"mute / unmute",_create:n()}),f.registerPlugin("jme-media-overlay",{_create:n()}),f.registerPlugin("volume-slider",{structure:i,_create:n()}),f.registerPlugin("time-slider",{structure:i,options:{format:["mm","ss"]},_create:n()}),f.defineProp("format",{set:function(b,c){a.isArray(c)||(c=c.split(":"));var d=f.data(b);return d.format=c,a(b).triggerHandler("updatetimeformat"),d.player.triggerHandler("updatetimeformat"),"noDataSet"}}),f.registerPlugin("duration-display",{structure:j,options:{format:"mm:ss"},_create:n()}),f.defineProp("countdown",{set:function(b,c){var d=f.data(b);return d.countdown=!!c,a(b).triggerHandler("updatetimeformat"),d.player.triggerHandler("updatetimeformat"),"noDataSet"}}),f.registerPlugin("currenttime-display",{structure:j,options:{format:"mm:ss",countdown:!1},_create:n()}),f.registerPlugin("poster-display",{structure:"<div />",options:{},_create:n()}),f.registerPlugin("fullscreen",{options:{fullscreen:!0,autoplayfs:!1},structure:h,text:"enter fullscreen / exit fullscreen",_create:n()}),f.registerPlugin("captions",{structure:h,text:"subtitles",_create:function(b,c,d){var e=c.find("track");b.wsclonedcheckbox=a(b).clone().attr({role:"checkbox"}).insertBefore(b),d.attr("data-tracks",e.length>1?"many":e.length),b.attr("aria-haspopup","true"),n().apply(this,arguments)}}),b.ready(b.cfg.mediaelement.plugins.concat(["mediaelement"]),function(){d.barTemplate||(d.barTemplate='<div class="play-pause-container">{{play-pause}}</div><div class="playlist-container"><div class="playlist-box">{{playlist-prev}}{{playlist-next}}</div></div><div class="currenttime-container">{{currenttime-display}}</div><div class="progress-container">{{time-slider}}</div><div class="duration-container">{{duration-display}}</div><div class="mute-container">{{mute-unmute}}</div><div class="volume-container">{{volume-slider}}</div><div class="subtitle-container"><div class="subtitle-controls">{{captions}}</div></div><div class="fullscreen-container">{{fullscreen}}</div>'),d.barStructure||(d.barStructure='<div class="jme-media-overlay"></div><div class="jme-controlbar'+k+'" tabindex="-1"><div class="jme-cb-box"></div></div>'),b.addReady(function(b,c){a(e,b).add(c.filter(e)).jmeProp("controlbar",!0)})}),b.ready("WINDOWLOAD",m)});