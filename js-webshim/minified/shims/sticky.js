webshim.register("sticky",function(a,b,c,d){"use strict";function e(a,b,c){var e=a+":",f=d.createElement("test"),g=f.style;return g.cssText=c?e+b:e+["-webkit-","-moz-","-ms-","-o-",""].join(b+";"+e)+b+";",g[a]}function f(b){g++,this.evtid=".stickyid"+g,this.$el=a(b).data("wsSticky",this),this.$parent=this.$el.parent(),this.ankered="",this.isSticky=!1,this.$placeholder=null,this.addEvents(),this.update(!0)}var g=0,h=a(c),i=function(){var a,b="pageYOffset";return b in c?function(){return c[b]}:(a=d.documentElement,function(){return a.scrollTop()})}(),j={fixed:e("position","fixed",!0),sticky:e("position","sticky")};f.prototype={addEvents:function(){var b=this,c=function(){b.update()};h.on("scroll"+this.evtid,function(){b.$el[0].offsetWidth&&b.updatePos()}).one("load",c),a(d).on("updateshadowdom"+this.evtid,c),this.$el.on("remove"+this.evtid+" destroysticky"+this.evtid,function(){h.off(b.evtid),a(d).off(b.evtid),this.$el.off(b.evtid),b.$placeholder&&(b.$el.removeClass("ws-sticky-on"),b.$placeholder.remove())}),this.$el.on("updatesticky"+this.evtid,function(){b.update(!0)})},getPosition:function(){this.position={top:this.$el.css("top"),bottom:this.$el.css("bottom")},("auto"!==this.position.top||"auto"!==this.position.top)&&(this.position=a.swap(this.$el[0],{position:"absolute"},function(){return{top:a(this).css("top"),bottom:a(this).css("bottom")}})),"auto"!==this.position.top?(this.position.top=parseFloat(this.position.top,10)||0,delete this.position.bottom,this.ankered="top"):"auto"!==this.position.bottom&&(this.position.bottom=parseFloat(this.position.bottom,10)||0,delete this.position.top,this.ankered="bottom")},updateDimension:function(a){this.height=this.$el.outerHeight(),this.parentOffset=this.$parent.offset().top,"bottom"==this.ankered?this.viewportHeight=h.height():this.parentHeight=this.$parent.outerHeight(),this.isSticky?a&&this.$parent.innerWidth()<this.elWidth&&(this.$el.removeClass("ws-sticky-on"),this.$el.css("width",this.elOldWidth||""),this.elTop=this.$el.offset().top,this.elWidth=this.$el.width(),this.$el.addClass("ws-sticky-on"),this.$el.css("width",this.elWidth)):(this.elTop=this.$el.offset().top,this.elWidth=this.$el.width())},updatePos:function(){var b,c,d=i();"top"==this.ankered?(b=d+this.position.top,c=this.elTop<b&&b+this.height<=this.parentOffset+this.parentHeight):"bottom"==this.ankered&&(c=this.elTop+this.height>d+this.viewportHeight-this.position.bottom&&d+this.viewportHeight-this.position.bottom>=this.parentOffset+this.height),c?this.isSticky||(this.isSticky=!0,this.$el.addClass("ws-sticky-on"),this.elWidth!=this.$el.width()&&(this.elOldWidth=this.$el[0].style.width,this.$el.width(this.elWidth)),this.$placeholder||(this.$placeholder=a('<span class="ws-fixedsticky-placeholder" />').insertAfter(this.$el).css("height",this.height))):this.isSticky&&(this.isSticky=!1,this.$el.removeClass("ws-sticky-on"),this.$el.css("width",this.elOldWidth||""))},update:function(a){(this.$el[0].offsetWidth||!this.ankered)&&(a&&this.getPosition(),this.updateDimension(a),this.updatePos(a))}};var k=function(){k=a.noop,b.ready("WINDOWLOAD",function(){b.loader.loadList(["dom-extend"]),b.ready("dom-extend",function(){b.addShadowDom()})})},l=function(){a.data(this,"wsSticky")||(new f(this),k())};!j.sticky&&j.fixed&&a(function(){b.addReady(function(b,c){a(".ws-sticky",b).add(c.filter(".ws-sticky")).each(l)})})});